<!DOCTYPE html>
<html>
	<head>
		<title>Murder Games by Orteil</title>
		<meta charset="utf-8">
		<!--
		
		Code and graphics copyright Orteil, 2018
		Feel free to alter this code to your liking, but please do not re-host it, do not profit from it and do not present it as your own.
		
		Please note : this was made in like 3 days, code structure is a big old mess
		
		//TODO :
			-more trait events
			-allow action func to override the text; this way, we can have special conditional events (ie. scrappy finding different kinds of items in one action)
			-localstorage save
			-load from pastebin
			-better parsing : [1:They] (uppercase), [1:they|does|do] (>he does, she does, they do), [1:they] find[-s|] (>he finds, she finds, they find)
			-"it", for inanimate objects
		-->
		
		<script type="text/javascript" src="sortable.js"></script>
	
		<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700" rel="stylesheet">
		<style>
		* {box-sizing:border-box;}
		div,input,select,cap
		{
			vertical-align:middle;
		}
		html
		{
			background:url(shadedBorders.png),url(bg.jpg);
			background-size:100% 100%,auto;
			background-attachment:fixed,scroll;
			background-color:#4b413b;
			width:100%;
			height:100%;
		}
		html,body
		{
			margin:0px;
			padding:0px;
		}
		body
		{
			font-family:Verdana;
			font-family:'Roboto Slab',serif;
			font-size:14px;
			line-height:125%;
			color:rgba(255,255,255,0.9);
			text-shadow:0px 1px 0px rgba(0,0,0,0.75);
			overflow:auto;
			min-height:100%;
			position:relative;
			padding-bottom:178px;
		}
		#main
		{
			max-width:720px;
			margin:0px auto;
			padding:16px;
			text-align:center;
		}
		#backToDashnet
		{
			max-width:720px;
			font-size:10px;
			text-align:center;
			margin:0px auto;
			color:rgba(255,255,255,0.6);
			margin-bottom:-20px;
		}
		#credits
		{
			max-width:720px;
			font-size:10px;
			text-align:center;
			margin:0px auto;
			color:rgba(255,255,255,0.6);
		}
		#ad
		{
			text-align:center;
			margin:0px auto;
			/*margin-top:88px;*/
			/*width:720px;
			height:128px;*/
			max-width:970px;
			height:90px;
			/*background:rgba(0,0,0,0.1);*/
			position:absolute;
			left:0px;right:0px;bottom:4px;
		}
		
		a{color:#fff;}
		a:hover{text-shadow:0px 0px 2px #fff;color:#fff;}
		a:active{opacity:0.8;}
		
		.button,input,select
		{
			color:inherit;
			display:inline-block;
			font-size:10px;
			background:rgba(0,0,0,0.5);
			border-radius:2px;
			box-shadow:0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
			padding:1px 4px;
			margin:2px;
			height:2em;
			border:none;
		}
		input
		{
			box-shadow:0px 0px 0px 1px rgba(255,255,255,0.25) inset,0px 0px 0px 1px #000,0px 1px 0px 1px rgba(255,255,255,0.1);
		}
		.button
		{
			cursor:pointer;
			height:auto;
			padding:1px 8px;
		}
		.bigButton
		{
			background:rgba(16,54,94,0.5);
			color:#33e0ff;
			font-size:12px;
			padding:4px 8px;
			letter-spacing:3px;
			font-variant:small-caps;
			font-weight:bold;
		}
		.button:hover,input:hover,select:hover
		{
			background:rgba(0,0,0,0.25);
		}
		.button:active,input:active,select:active,.button:focus,input:focus,select:focus
		{
			background:rgba(0,0,0,0.75);
		}
		/*.button:active
		{
			padding-bottom:0px;
			margin-top:3px;
		}*/
		
		.bigButton:hover
		{background:rgba(16,54,94,0.25);color:#fff;}
		.bigButton:active,.bigButton:focus
		{background:rgba(16,54,94,0.75);}
		
		.box,.team
		{
			border-radius:8px;
			padding:4px 8px;
			margin:8px 0px;
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),0px 1px 0px rgba(255,255,255,0.25) inset;
			text-align:left;
			background:rgba(0,0,0,0.1);
		}
		.box.red,.box.blue,.box.green,.box.teamless
		{font-size:12px;padding:8px 12px;}
		.box.red
		{background:url(bgRed.jpg) fixed,rgba(151,47,26,0.5);color:#ff9333;}
		.box.blue
		{background:url(bgBlue.jpg) fixed,rgba(16,54,94,0.5);color:#33e0ff;}
		.box.blue e{color:#fff;}
		.box.green
		{background:url(bgGreen.jpg) fixed,rgba(16,54,94,0.5);color:#5afa85}
		.team
		{
			position:relative;
		}
		.team.teamless{background:rgba(128,128,128,0.2);}
		.membersList{min-height:24px;}
		.char
		{
			border-radius:10px;
			font-size:10px;
			background:rgba(255,255,255,0.05);
			box-shadow:0px 1px 0px rgba(255,255,255,0.1) inset;
			padding:2px;
			transition:background 0.1s;
			padding-left:58px;
			min-height:52px;
			position:relative;
		}
		.char:nth-child(odd)
		{
			background:rgba(0,0,0,0.05);
			box-shadow:0px 1px 0px rgba(0,0,0,0.1) inset;
		}
		
		.action
		{
			text-align:center;
			font-size:12px;
		}
		
		e
		{
			color:#33e0ff;
			font-weight:bold;
		}
		
		header
		{
			display:block;
			background:linear-gradient(to right,rgba(0,0,0,0),rgba(0,0,0,0.25),rgba(0,0,0,0));
			font-variant:small-caps;
			font-weight:bold;
			font-size:16px;
			letter-spacing:3px;
			padding:0px 8px;
			margin:4px;
			color:#33e0ff;
		}
		header:after
		{
			content:'';
			display:block;
			background:linear-gradient(to right,rgba(16,54,94,0),rgba(16,54,94,0.75),rgba(16,54,94,0));
			background:linear-gradient(to right,rgba(51,224,255,0),rgba(51,224,255,0.75),rgba(51,224,255,0));
			height:1px;
			width:100%;
			margin:4px 0px;
		}
		header:before
		{
			content:'';
			display:block;
			background:linear-gradient(to right,rgba(16,54,94,0),rgba(16,54,94,0.75),rgba(16,54,94,0));
			background:linear-gradient(to right,rgba(51,224,255,0),rgba(51,224,255,0.75),rgba(51,224,255,0));
			height:1px;
			width:100%;
			margin:4px 0px;
		}
		cap
		{
			font-variant:small-caps;
			font-weight:bold;
			display:inline-block;
		}
		
		.pic
		{
			width:48px;
			height:48px;
			overflow:hidden;
			border-radius:8px;
			padding:1px;
			margin:1px;
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),2px 2px 2px rgba(0,0,0,0.5);
			background:rgba(255,255,255,0.5);
		}
		/*.char>.pic{margin:0px 8px 0px 0px;float:left;}*/
		.picBox
		{
			line-height:0px;
			position:absolute;
			left:0px;top:0px;
			margin:1px;
		}
		.action .pic{margin:4px;}
		.pic.intext
		{
			width:1.5em;height:1.5em;
			box-shadow:none;
			border-radius:0px;
			vertical-align:middle;
			margin-top:-2px;
		}
		
		.picSkull
		{
			display:inline-block;
			position:relative;
			width:0px;
			height:0px;
			z-index:10;
			filter:drop-shadow(2px 2px 2px rgba(0,0,0,0.5));
			pointer-events:none;
		}
		.picSkull:before
		{
			content:'';
			display:block;
			width:18px;
			height:20px;
			background:url(skull.png);
			position:absolute;
			left:-18px;top:-18px;
		}
		
		.bit
		{
			border-radius:4px;
			padding:1px 6px;
			background:rgba(0,0,0,0.2);
			cursor:pointer;
			display:inline-block;
			vertical-align:initial;
			box-shadow:0px 1px 0px rgba(255,255,255,0.2) inset,0px 0px 0px 1px rgba(0,0,0,0.5);
		}
		.bit:hover
		{
			background:rgba(0,0,0,0.4);
		}
		
		#popups
		{
			display:flex;
			justify-content:center;
			align-items:center;
			z-index:1000000;
			position:fixed;
			left:0px;top:0px;right:0px;bottom:0px;
			pointer-events:none;
		}
		.darken
		{
			position:absolute;
			left:0px;top:0px;right:0px;bottom:0px;
			pointer-events:auto;
			background:rgba(0,0,0,0.25);
			z-index:100;
		}
		.popup
		{
			width:40%;
			max-height:90%;
			overflow-y:auto;
			pointer-events:auto;
			z-index:1000;
			background:rgba(0,0,0,0.75);
			padding:12px 16px;
			text-align:center;
			filter:drop-shadow(4px 4px 8px rgba(0,0,0,0.5));
		}
		
		#calibrator
		{
			position:absolute;left:0px;top:0px;visibility:hidden;pointer-events:none;
		}
		.beingAdded
		{
			height:0px;min-height:initial;transition:height 0.1s;overflow-y:hidden;
		}
		.beingRemoved
		{
			transition:height 0.25s;min-height:initial;overflow-y:hidden;
			pointer-events:none;
		}
		
		.team.hasHandle{margin-left:15px;border-top-left-radius:0px;border-bottom-left-radius:0px;}
		.char.hasHandle{margin-left:15px;border-top-left-radius:0px;border-bottom-left-radius:0px;}
		.handle
		{
			cursor:move;
			background:url(friction.png) rgba(255,255,255,0.1);
			box-shadow:0px 0px 0px 1px rgba(0,0,0,0.5),0px 1px 0px rgba(255,255,255,0.25) inset,0px 0px 0px 1px rgba(255,255,255,0.15) inset;
			border-radius:4px 0px 0px 4px;
			position:absolute;left:-15px;top:0px;bottom:0px;
			width:14px;
		}
		.handle:hover{background-color:rgba(255,255,255,0.2);}
		
		.dragGhost
		{
			background:rgba(255,255,255,0.2) !important;
			filter:brightness(150%);
			position:relative;
			left:-4px;
		}
		
		
		.pucker{animation:pucker 0.2s ease-out;animation-fill-mode:forwards;}
		@keyframes pucker
		{
			0% {transform:scale(1,1);}
			10% {transform:scale(1.15,0.85);}
			20% {transform:scale(1.2,0.8);}
			50% {transform:scale(0.75,1.25);}
			70% {transform:scale(1.05,0.95);}
			90% {transform:scale(0.95,1.05);}
			100% {transform:scale(1,1);}
		}
		</style>
	</head>
	<body id="body">
		<div id="popups"></div>
		<div id="backToDashnet"><cap><a class="button" href="https://dashnet.org/" target="_blank">&lt; back to DashNet</a> <a class="button" href="https://discordapp.com/invite/cookie" target="_blank">official Discord</a></cap></div>
		<div id="main"></div>
		<div id="credits">by <a href="http://orteil.dashnet.org/" target="_blank">Orteil</a>, 2018</div>
		</div>
	</body>
</html>


<script>

//lib
l=function(d){return document.getElementById(d);};
c=function(a){return a[Math.floor(Math.random()*a.length)];};

shuffle=function(a){
    var j, x, i;
    for (i = a.length - 1; i > 0; i--) {
        j = Math.floor(Math.random() * (i + 1));
        x = a[i];
        a[i] = a[j];
        a[j] = x;
    }
    return a;
}

/*String.prototype.replaceAll = function(search, replacement) {
    var target = this;
    return target.replace(new RegExp(search, 'g'), replacement);
};*/

String.prototype.replaceAll=function(search,replacement)
{return this.split(search).join(replacement);};

rand=function()
{
	if (arguments.length==2) return Math.floor(Math.random()*(arguments[1]-arguments[0])+arguments[0]);
	else return Math.floor(Math.random()*arguments[0]);
};
frand=function()
{
	if (arguments.length==2) return (Math.random()*(arguments[1]-arguments[0])+arguments[0]);
	else return (Math.random()*arguments[0]);
};

addEvent=function(html_element,event_name,event_function)
{
	return html_element.addEventListener(event_name,event_function,false);
};
triggerAnim=function(element,anim)
{
	if (!element) return;
	element.classList.remove(anim);
	void element.offsetWidth;
	element.classList.add(anim);
};
function choose(arr) {return arr[Math.floor(Math.random()*arr.length)];}

cloneDom=function(el)
{
	//return a clone of el with all IDs stripped
	var alias=el.cloneNode();
	alias.innerHTML=el.innerHTML;
	alias.removeAttribute('id');
	var elems=alias.getElementsByTagName('*');for (var i=0;i<elems.length;i++){elems[i].removeAttribute('id');}
	return alias;
}
function randomFloor(x) {if ((x%1)<Math.random()) return Math.floor(x); else return Math.ceil(x);}
function deepArrCopy(arr) {
	if (!Array.isArray(arr)) { return arr; }
	let newArr = [];
	for (let i in arr) {
		newArr.push(deepArrCopy(arr[i]));
	}
	return newArr;
}
function cNegate(bool, negate) {
	if (negate) { return !bool; } else { return bool; }
}


SmoothToggles=function()
{
	let calibrator=document.createElement('div');
	document.body.appendChild(calibrator);
	animAdd=function(el)
	{
		var alias=cloneDom(el);
		calibrator.appendChild(alias);
		el.classList.add('beingAdded');
		let h=alias.offsetHeight;
		alias.remove();
		el.style.height=h+'px';
		setTimeout(function(){if (el){el.classList.remove('beingAdded');el.style.removeProperty('height');}},100);
	}
	animRemove=function(el)
	{
		var alias=cloneDom(el);
		calibrator.appendChild(alias);
		let h=alias.offsetHeight;
		alias.remove();
		el.style.height=h+'px';
		void el.offsetWidth;
		el.classList.add('beingRemoved');
		el.style.height='0px';
		setTimeout(function(){if (el){el.remove();}},250);
	}
}();


//dubious reliability
STRCLN=function(str)
{
	str=str.toString();
	str=str.replaceAll('<','&lt;');
	str=str.replaceAll('>','&gt;');
	str=str.replaceAll('\'','&#39;');
	str=str.replaceAll('"','&#34;');
	return str;
};
INTCLN=function(str)
{
	str=parseInt(str);
	return str;
}




G={
	init:function()
	{
		G.launched=true;
		
		G.popup=function(text,func)
		{
			var str=`
				<div class="darken" id="darken"></div>
				<div class="popup box" id="popup">${text}<div><div id="closePopup" class="button bigButton">Close</div></div></div>
			`;
			l('popups').innerHTML=str;
			addEvent(l('darken'),'click',G.closePopup);
			addEvent(l('closePopup'),'click',G.closePopup);
			if (func) func();
			//animAdd(l('popup'));
		}
		G.closePopup=function()
		{
			if (l('popup'))
			{
				l('popups').innerHTML='';
				//animRemove(l('popup'));
			}
		}
		addEvent(document,'keydown',function(e){if (e.key=='Escape'){G.closePopup();}});
		
		G.glob={};
		//perks
		
		G.perks=[];
		G.perksBN={};
		G.perk=function(o)
		{
			for (var i in G.glob){this[i]=G.glob[i];}
			for (var i in o){this[i]=o[i];}
			this.id=G.perks.length;
			G.perks.push(this);
			G.perksBN[this.name]=this;
		}
		
		G.glob={type:'trait',def:true};
		new G.perk({name:`no perk`,desc:`No perk selected.`});
		new G.perk({name:`leader`,desc:`Capable of bringing people together to accomplish great deeds.`});
		new G.perk({name:`peaceful`,desc:`Has no interest in violence.`});
		new G.perk({name:`sociopath`,desc:`Will lie, steal and kill at a moment's notice.`});
		new G.perk({name:`kind`,desc:`Will act selflessly and generously to help others.`});
		new G.perk({name:`unstable`,desc:`May snap at any moment.`});
		new G.perk({name:`bulky`,desc:`Capable of both delivering and resisting stronger attacks.`});
		new G.perk({name:`meek`,desc:`Very fragile and physically inept.`});
		new G.perk({name:`naive`,desc:`Gullible and easy to mislead.`});
		new G.perk({name:`devious`,desc:`Will manipulate and betray others if given the chance.`});
		new G.perk({name:`seductive`,desc:`Capable of romancing others into doing their bidding.`});
		new G.perk({name:`suicidal`,desc:`Probably won't survive very long.`});
		new G.perk({name:`cute`,desc:`Everybody likes them! Others may go out of their way to protect them.`});
		new G.perk({name:`annoying`,desc:`Horrible to be around. Tends to get killed off first.`});
		new G.perk({name:`scrappy`,desc:`Finds more resources than most.`});
		new G.perk({name:`survivalist`,desc:`Strives better alone, and will not let others get in their way.`});
		new G.perk({name:`rich`,desc:`Armed with a large fortune to cater every whim.`});
		new G.perk({name:`inventor`,desc:`Can devise strange machines for various purposes.`});
		new G.perk({name:`goth`,desc:`Channels the dark energies.`});
		new G.perk({name:`lunatic`,desc:`Susceptible to gain and lose random perks regularly.`});
		
		// Additional Traits -TW
		new G.perk({name:`medic`,desc:`Knows how to treat illness and injury while preserving life.`});
		new G.perk({name:`marksmen`,desc:`Perceptive and steady handed, skilled at range weapons.`});
		new G.perk({name:`animal ken`,desc:`One with the natural world, animals are drawn to them.`});
		new G.perk({name:`ninja`,desc:`Believes they are a ninja of great finesse, one with the darkness.`});
		new G.perk({name:`stubborn`,desc:`Very strong willed. Will not give up for better or worse.`});
		new G.perk({name:`analytical`,desc:`Prone to thinking through problems and intelectual persuits.`});
		new G.perk({name:`artist`,desc:`Creatively inclined and can be unpredictable.`});
		new G.perk({name:`pyromania`,desc:`Likes fire, like, really likes fire.`});
		new G.perk({name:`cowardly`,desc:`Will avoid direct conflict and hide from danger.`});
		new G.perk({name:`glasses`,desc:`Wears glasses to compensate for their poor eyesight.`});
		new G.perk({name:`clumsy`,desc:`Prone to injury and dropping things.`});
		new G.perk({name:`the gift`,desc:`Has a rare supernatural talent and is attracted to the strange.`});
		
		new G.perk({name:`plot armor`,desc:`This character is almost impossible to kill. Not for serious games.`});
		new G.perk({name:`nerd`,desc:`Filled to the brim with obscure knowledge and technical gossips.`});
		G.glob={type:'trait',def:false};
		new G.perk({name:`any`,desc:`Applies to everyone.`});

		
		G.glob={type:'status'};
			G.glob.disable=true;//mark the character as disabled; disabled characters cannot do any actions that don't specifically call for this perk
			G.glob.out=false;//mark the character as out; out characters cannot do any actions that don't specifically call for this perk
		new G.perk({name:`frenzied`,desc:`Experiencing a fit of violent rage.`});
		new G.perk({name:`shell-shocked`,desc:`Has seen too much. May not be of much use for a while.`});
		new G.perk({name:`dazed`,desc:`Not quite in full control of their faculties. May wander off unpredictably.`});
		new G.perk({name:`heroic`,desc:`Having a moment of heroism. Resolved and unstoppable.`});
		new G.perk({name:`terrified`,desc:`Running away from somethig horrifying.`});
		new G.perk({name:`has killed`,desc:`Caused someone's death.`,disable:false});
		new G.perk({name:`revived`,desc:`Has been revived before.`});
		new G.perk({name:`set trap`,desc:`Laid down some traps that others may get caught in...`,disable:false});
		
		new G.perk({name:`scratched`,desc:`Lightly scratched and bleeding a little bit.`,disable:false}); // Removed Disabled
		new G.perk({name:`bruised`,desc:`Been pounded badly.`,disable:false});
		new G.perk({name:`cut up`,desc:`Received some slicing damage.`,disable:false});
		new G.perk({name:`burnt`,desc:`Singed quite a lot. Everything hurts.`});
		new G.perk({name:`bleeding out`,desc:`Losing blood at an alarming rate. Needs immediate treatment.`});
		new G.perk({name:`poisoned`,desc:`Slowly dying due to poison.`,disable:false}); // Removed Disabled
		new G.perk({name:`badly poisoned`,desc:`Bloodstream saturated with poison; will most likely die soon.`});
		new G.perk({name:`missing leg`,desc:`Missing a whole leg!`});
		new G.perk({name:`missing arm`,desc:`Missing a whole arm!`,disable:false}); // Temporarily Removed until better handled.
		new G.perk({name:`trapped`,desc:`Stuck in a trap, and waiting to be freed, if something doesn't kill them first.`});
		new G.perk({name:`comatose`,desc:`Unconscious, and unable to speak or move.`,out:true});
		new G.perk({name:`revived`,desc:`Was just resurrected through some miracle or other.`,out:true});
		new G.perk({name:`dead`,desc:`Dead and gone. Sorry!`,out:true});
		new G.perk({name:`ghost`,desc:`Brought back from the dead in a mischievous incorporeal form.`,out:true});
		new G.perk({name:`zombie`,desc:`Brought back from the dead in a smelly, mindless form.`,out:true});
		new G.perk({name:`sheep`,desc:`Has been turned into a sheep through some magical mean.`,out:true});
		new G.perk({name:`duck`,desc:`Has been turned into a duck by a magical incantation.`,out:true});
        //Additional flags/statuses -TW
		new G.perk({name:`sick`,desc:`Is feeling ill and feverish.`,disable:false});
		new G.perk({name:`dizzy`,desc:`Has suffered recent head trauma making it harder to think.`,disable:false});
		new G.perk({name:`singed`,desc:`Mildly burned and in some pain.`,disable:false});
		new G.perk({name:`broken`,desc:`Something's broken, but its not an arm or a leg.`,disable:false});
		new G.perk({name:`shot`,desc:`Has been shot by an arrow or bullet.`,disable:false});
		new G.perk({name:`bitten`,desc:`Becoming a zombie isn't infectious, right?`,disable:false});
		new G.perk({name:`blind`,desc:`Has lost their glasses.`});
		new G.perk({name:`gremlin`,desc:`Has gone into gremlin mode, causing chaos everywhere.`});
        new G.perk({name:`laughed`,desc:`AH HA HA HA HA -Tidus`});
		new G.perk({name:`act again`,desc:`Act another time in the same round!`});
		new G.perk({name:`fleed`,desc:`Has managed to successfully flee from combat!`});
        //Make sure people stay "gone" -TW
        new G.perk({name:`nihil`,desc:`Has ceased to exist entirely.`,out:true});
        new G.perk({name:`confirmed`,desc:`Has been confirmed to not be mostly dead.`,out:true});
		
		G.glob={type:'item'};
			G.glob.def=true;
		new G.perk({name:`no item`,desc:`No item selected.`});
		
		new G.perk({name:`big stick`,desc:`Rather crude, but can bash an unsuspecting enemy just fine.`});
		new G.perk({name:`pitchfork`,desc:`Used to stack hay and stab your friends.`});
		new G.perk({name:`sword`,desc:`A classic bladed weapon popular since medieval times.`});
		new G.perk({name:`axe`,desc:`Makes quick, if messy work of anyone who'd stand in your way.`});
		new G.perk({name:`handgun`,desc:`Takes down a target quite reliably if you know how to aim.`});
		new G.perk({name:`shotgun`,desc:`Delivers a powerful, low-accuracy blow.`});
		new G.perk({name:`grenade`,desc:`A single-use explosive device to blow several enemies to bits.`});
		new G.perk({name:`slingshot`,desc:`Fires small projectiles. Not quite deadly as much as slightly annoying.`});
		new G.perk({name:`bow`,desc:`Its arrows can easily chop a head clean off from a distance if skillfully wielded.`});
		new G.perk({name:`flamethrower`,desc:`Careful! May set both foes and friends on fire.`});
		new G.perk({name:`rocket launcher`,desc:`A dangerous weapon; excels at blowing stuff up.`});
		new G.perk({name:`lasergun`,desc:`Ultra-concentrated energy shots that burn through practically anything.`});
		new G.perk({name:`magic wand`,desc:`Casts a variety of spells upon your foes.`});
		new G.perk({name:`ancient scepter`,desc:`Calls forth ancient hexes and curses on your adversaries.`});
		
		new G.perk({name:`pet wolf`,desc:`A ravenous pet wolf to devour your opponents.`});
		new G.perk({name:`pet tiger`,desc:`A fierce pet tiger to tear your opponents to shreds.`});
		new G.perk({name:`pet turtle`,desc:`A steady pet turtle to slowly but surely win the race.`});
		
		new G.perk({name:`wish ring`,desc:`Will unpredictably respond to wishes in dire situations.`});

        // Additional Pets -TW
        new G.perk({name:`pet hawk`,desc:`A cunning pet hawk to spy from the skies above.`});
		new G.perk({name:`pet rock`,desc:`A classic pet rock to teach tons of neat tricks.`});

        // Additional items -TW
        new G.perk({name:`cursed knife`,desc:`May force it's user into unspeakable things.`});
		new G.perk({name:`shuriken`,desc:`Various knives designed for throwing.`});
		new G.perk({name:`lucky coin`,desc:`Will bless the user with good fortune, if they're already lucky enough to have it.`});
        new G.perk({name:`random orb`,desc:`Eventually will turn into something else, or cause strange things to happen.`});
		new G.perk({name:`medicine`,desc:`Any medicine can be a poison with a large enough dose.`});
		new G.perk({name:`first aid kit`,desc:`Extremely valuable to saving lives, if someone is still alive to be saved.`});
		new G.perk({name:`tourniquet`,desc:`You might lose a limb, but you won't lose your life.`});
		new G.perk({name:`AED`,desc:`Can potentially bring back someone who was thought dead.`});
		
        // Default Armors -TW
		new G.perk({name:`leather scraps`,desc:`Tribal-looking clothing. Provides minimal protection.`});
		new G.perk({name:`bikini`,desc:`Quite alluring, but not much help in combat situations.`});
		new G.perk({name:`dapper suit`,desc:`Turns anyone into a snappy dresser.`});
		new G.perk({name:`parka`,desc:`Keeps you protected from the elements and, you suppose, some of the wimpier physical attacks.`});
		new G.perk({name:`knight armor`,desc:`Excellent physical protection, but heavy and uncomfortable.`});
		new G.perk({name:`combat gear`,desc:`Used by military forces. Provides near-perfect protection from all but the deadliest attacks.`});
		new G.perk({name:`wizard robe`,desc:`Can greatly amplify magic powers. Comes with a pointy hat.`});
        
        // Additional Armors -TW
        new G.perk({name:`kevlar vest`,desc:`Can help you survive bullets, but they still hurt.`});
        new G.perk({name:`kite shield`,desc:`A shield great for deflecting weapons and protecting others.`});
        new G.perk({name:`riot shield`,desc:`A shield great for deflecting bullets and protecting others.`});
        
        // Crafting Materials -TW
        new G.perk({name:`scrap metal`,desc:`A bunch of is mostly useless chunks of metal.`});
        new G.perk({name:`gun parts`,desc:`A variety of gun parts with no manual for reassembly.`});
        new G.perk({name:`magic dust`,desc:`Sparkles like glitter. Is twice as hard to wash away.`});
		new G.perk({name:`roll of fabric`,desc:`Thick rolls of fabric, a literal canvas to work with.`});

		// Consumables - CS
		new G.perk({name:`batch of cookies`,desc:`Can be consumed multiple times to rid oneself of ailments. Delicious!`});
		new G.perk({name:`hot chocolate`,desc:`Can be consumed multiple times to heal oneself of injuries.`});
		new G.perk({name:`extreme cinnamon soda`,desc:`Can be consumed to enter an invincible frenzy.`});
		new G.perk({name:`mint essence`,desc:`Can be consumed to gain immunity to all curses, but is rather difficult to swallow.`});
		new G.perk({name:`vanilla ice cream`,desc:`Can be consumed.`});
		new G.perk({name:`cookie dough`,desc:`Can be consumed, or be baked into a proper batch of cookies. Premature consumption may lead to sickness.`});
		
		//creator
		G.setupData=0;
		G.creator=function()
		{
			G.exportSetup=function(data)
			{
				var o={
					teams:[],
					chars:[],
				};
				if (data && data!=-1)
				{
					o=data;
				}
				else
				{
					var teams=G.teams;
					for (var i in teams)
					{
						var base=teams[i];
						if (!base.teamless) base.name=l(base.l.id+'-name').value; else base.name='NOTEAM';
						for (var i in base.members)
						{
							var member=base.members[i];
							member.name=l(member.l.id+'-name').value;
							member.gender=parseInt(l(member.l.id+'-gender').options[l(member.l.id+'-gender').selectedIndex].value);
							member.tier=parseInt(l(member.l.id+'-tier').options[l(member.l.id+'-tier').selectedIndex].value);
							var val=member.pic;
							if (val.length<3) member.pic='';
							var perks=[];
							var perkN=0;
							while (l(member.l.id+'-perk-'+perkN))
							{
								var el=l(member.l.id+'-perk-'+perkN);
								var perk=G.perks[el.options[el.selectedIndex].value];
								if (perk.name!='no perk' && perk.name!='no item' && (perk.type!='trait' || perks.indexOf(perk.name)==-1)) perks.push(perk.name);
								perkN++;
							}
							o.chars.push({name:member.name,g:member.gender,t:member.tier,pic:member.pic,team:member.team.name,perks:perks});
						}
						o.teams.push({name:base.name});
					}
				}
				if (data!=-1)
				{
					var str=`
						<header>Exporting setup</header>
						<div>Copy this text. You can later import your setup by pasting this back in the import menu.</div>
						<textarea id="textareaPrompt" style="width:100%;height:128px;" readonly>${JSON.stringify(o)}</textarea>
					`;
					G.popup(str,function(){
						l('textareaPrompt').focus();
						l('textareaPrompt').select();
					});
					
					//localStorage.setItem('murderGames',JSON.stringify(o));
				}
				else return o;
			}
			G.importSetup=function(str)
			{
				//meant to be called from creator screen only
				
				if (!str)
				{
					var str=`
						<header>Importing setup</header>
						<div style="overflow:hidden;"><div id="importDesc">Paste in the text you were given on setup export.</div></div>
						<textarea id="textareaPrompt" style="width:100%;height:128px;"></textarea>
					`;
					G.popup(str,function(){
						l('textareaPrompt').focus();
						l('closePopup').innerHTML='Cancel';
						l('closePopup').insertAdjacentHTML('beforebegin','<div id="confirmPopup" class="button bigButton">Load</div>');
						addEvent(l('confirmPopup'),'click',function(){
							var str=l('textareaPrompt').value;
							if ((str.length>0) && G.importSetup(str)) G.closePopup();
							else {l('importDesc').innerHTML=`<span style="color:#e2461f;">Looks like that's not a valid setup string, sorry!</span>`;triggerAnim(l('importDesc'),'pucker');}
						});
					});
				}
				else
				{
					var o={};
					try{o=JSON.parse(str);}catch(e){o=0;}
					if (!o || !o.teams || !o.chars) return false;
					//l('creator').innerHTML='';
					var nodes=l('creator').getElementsByClassName('team');
					for (var i=nodes.length-1;i>=0;i--){nodes[i].remove();}
					
					G.teams=[];
					var domN=0;
					var teams={};
					for (var i in o.teams)
					{
						teams[o.teams[i].name]={
							name:STRCLN(o.teams[i].name),
							chars:[],
						};
					}
					for (var i in o.chars)
					{
						teams[o.chars[i].team].chars.push({
							name:STRCLN(o.chars[i].name),
							gender:INTCLN(o.chars[i].g),
							tier:INTCLN(o.chars[i].t||0),
							pic:STRCLN(o.chars[i].pic),
							perks:o.chars[i].perks,
						});
					}
					var hasTeamless=false;
					for (var i in teams){if (teams[i].name=='NOTEAM') hasTeamless=true;}
					if (!hasTeamless) addTeam({name:'NOTEAM',chars:[]});
					for (var i in teams){addTeam(teams[i]);}
					for (var i in G.teams){refreshTeam(G.teams[i]);}
					return true;
				}
			}
			l('main').innerHTML=`
				<div class="box blue">
					<div><cap>Hey there!</cap></div>
					<div>This is a game about pitting you and your friends against each other to see who makes it out alive.</div>
					<div>The game plays itself; you only have to click the "Next round" button to progress.</div>
					<div>Create your teams below then watch the heads roll!</div>
					<div>(Don't forget to export your setups if you want to re-use them later!)</div>
					<div style="opacity:0.5;font-size:10px;float:left;">inspired by <a href="http://brantsteele.net/hungergames/disclaimer.php" target="_blank">Hunger Games Simulator</a></div>
					<div style="opacity:0.5;font-size:10px;float:right;">-Orteil</div>
					<div style="clear:both;"></div>
				</div>
				<!--<div class="box red"><b>Warning :</b> may contain traces of bugs.</div>-->
				<div style="text-align:left;overflow:hidden;"><div class="button" id="importSetup">Import an existing setup...</div> <div class="button" id="exportSetup">Export this setup...</div><div style="float:right;"><div class="button" id="start2">Start round 1 &gt;</div></div></div>
				<header>Teams</header>
				<div id="creator"></div>
				<div style="text-align:left;"><div class="button" id="addTeam">Add team</div></div>
				<header><div class="button bigButton" id="start">Start round 1</div></header>
			`;
			
			addEvent(l('addTeam'),'click',function(){addTeam();});
			addEvent(l('start'),'click',function(){G.start();});
			addEvent(l('start2'),'click',function(){G.start();});
			addEvent(l('importSetup'),'click',function(){G.importSetup();});
			addEvent(l('exportSetup'),'click',function(){G.exportSetup();});
			G.teams=[];
			var domN=0;
			
			Sortable.create(l('creator'),{group:'teams',ghostClass:'dragGhost',handle:'.handle',onEnd:function(e){
				var el=e.item;
				var me=0;
				for (var i in G.teams)
				{
					var it=G.teams[i];
					if (it.l==el) {me=it;break;}
				}
				G.teams.splice(G.teams.indexOf(me),1);
				G.teams.splice(e.newIndex,0,me);
			}});
			
			var randTeamNames=[`Gazelle`,`Mammoth`,`Phoenix`,`Wolf`,`Tiger`,`Bear`,`Polar bear`,`Viper`,`Cobra`,`Owl`,`Jaguar`,`Lion`,`Spider`,`Scorpion`,`Beetle`,`Wasp`,`Mantis`,`Mongoose`,`T-rex`,`Dragon`,`Gorilla`,`Panda`,`Zebra`,`Unicorn`,`Howler monkey`,`Fox`,`Bunny`,`Falcon`,`Yeti`,`Ox`,`Boar`,`Gryphon`,`Rhino`,`Shark`,`Dolphin`,`Whale`,`Salmon`,`Lobster`,`Hydra`,`Anomalocaris`,`Trilobite`,`Weasel`,`Frog`,`Toad`,`Tortoise`,`Gecko`,`Salamander`,`Lynx`,`Pelican`,`Kitten`,`Puppy`,];
			for (var i in randTeamNames){randTeamNames[i]=`Team `+randTeamNames[i];}
			
			var randNamesM=[`Alastor`,`Bort`,`Champ`,`Dennis`,`Emett`,`Frank`,`Gordon`,`Henry`,`Isaac`,`Jeff`,`Ken`,`Lance`,`Maurice`,`Nathan`,`Oliver`,`Pete`,`Quentin`,`Rafael`,`Sam`,`Todd`,`Umberto`,`Vince`,`Will`,`Xavier`,`Yann`,`Zach`];
			var randNamesF=[`Adeline`,`Bonnie`,`Cecilia`,`Dania`,`Eleanor`,`Fran`,`Gertrude`,`Hazel`,`Ingrid`,`Jen`,`Klara`,`Linda`,`Maud`,`Odile`,`Phyllis`,`Quinn`,`Rose`,`Sophia`,`Tabitha`,`Undine`,`Vanilla`,`Wanda`,`Xia`,`Yasmin`,`Zoe`];
			
			let addTeam=function(o)
			{
				//get random name (prevent duplicates)
				var o=o||{};
				var name='';
				if (o.name) name=o.name;
				else
				{
					var freeNames=randTeamNames.slice(0);
					for (var i in G.teams){if (freeNames.indexOf(G.teams[i].name)!=-1) freeNames.splice(freeNames.indexOf(G.teams[i].name),1);}
					if (freeNames.length==0) freeNames.push('Team Extra');
					//var name='Team #'+(G.teams.length+1);
					name=c(freeNames);
				}
				let team={name:name,members:[],l:0,id:domN};
				if (name=='NOTEAM') team.teamless=true;
				l('creator').insertAdjacentHTML('beforeEnd','<div class="team hasHandle" id="dom'+domN+'"></div>');
				team.l=l('dom'+domN);
				if (!team.teamless)
				{
					team.l.innerHTML=`
						<div class="button" style="float:right;" id="${team.l.id+'-delete'}" title="Delete this team">X</div>
						<div class="handle"></div>
						<div><cap>Team name :</cap> <input type="text" id="${team.l.id+'-name'}" value="${team.name}"/></div>
						<div><cap id="${team.l.id+'-membersN'}"></cap></div>
						<div id="${team.l.id+'-members'}" class="membersList"></div>
						<div><div class="button" id="${team.l.id+'-addChar'}">Add member</div></div>
					`;
					addEvent(l(team.l.id+'-delete'),'click',function(){
						G.teams.splice(G.teams.indexOf(team),1);
						animRemove(team.l);
					});
				}
				else
				{
					team.l.classList.add('teamless');
					team.l.innerHTML=`
						<div class="handle"></div>
						<div><cap>Unaffiliated</cap><span style="font-size:10px;vertical-align:middle;"> - people put in this box do not belong to any team.</span></div>
						<div id="${team.l.id+'-members'}" class="membersList"></div>
						<div><div class="button" id="${team.l.id+'-addChar'}">Add person</div></div>
					`;
				}
				addEvent(l(team.l.id+'-addChar'),'click',function(){addChar(team);});
				
				Sortable.create(l(team.l.id+'-members'),{group:'chars',ghostClass:'dragGhost',handle:'.handle',onEnd:function(e){
					//find the char we just moved and the team we moved it to and update its team
					var el=e.item;
					var toEl=e.to.closest('.team');
					var me=0;
					for (var i in team.members)
					{
						var it=team.members[i];
						if (it.l==el) {me=it;break;}
					}
					var newTeam=0;
					for (var i in G.teams)
					{
						var it=G.teams[i];
						if (it.l==toEl) {newTeam=it;break;}
					}
					if (me && newTeam)
					{
						if (me.team)
						{
							me.team.members.splice(me.team.members.indexOf(me),1);
							refreshTeam(me.team);
						}
						me.team=newTeam;
						me.team.members.splice(e.newIndex,0,me);
						refreshTeam(me.team);
					}
				}});
				
				domN++;
				G.teams.push(team);
				if (!o.chars)
				{
					addChar(team);
					addChar(team);
				}
				else
				{
					for (var i in o.chars)
					{
						addChar(team,o.chars[i]);
					}
				}
				refreshTeam(team);
				animAdd(team.l);
				return team;
			}
			let refreshTeam=function(team)
			{
				if (team.teamless)
				{
				}
				else
				{
					if (team.members.length==0) str='No members';
					else if (team.members.length==1) str='1 member :';
					else str=team.members.length+' members :';
					l(team.l.id+'-membersN').innerHTML=str;
				}
			}
			let addChar=function(team,o)
			{
				var o=o||{};
				var gender=(typeof o.gender !== 'undefined')?o.gender:c([0,0,0,1,1,1,2]);
				var tier=(typeof o.tier !== 'undefined')?o.tier:0;
				var name='';
				if (o.name) name=o.name;
				else
				{
					var freeNames=(gender==0?(randNamesM.slice(0)):gender==1?(randNamesF.slice(0)):(randNamesM.slice(0).concat(randNamesF.slice(0))));
					for (var i in G.teams){for (var ii in G.teams[i].members){if (freeNames.indexOf(G.teams[i].members[ii].name)!=-1) freeNames.splice(freeNames.indexOf(G.teams[i].members[ii].name),1);}}
					if (freeNames.length==0) freeNames.push('Nobody');
					name=c(freeNames);
				}
				
				let char={team:team,name:name,pic:o.pic||'defPic.jpg',gender:gender,tier:tier,perks:[],l:0,id:domN};
				l(team.l.id+'-members').insertAdjacentHTML('beforeend','<div class="char hasHandle" id="dom'+domN+'"></div>');
				char.l=l('dom'+domN);
				
				var traitsStr='';
				var itemsStr='';
				
				var traits=[];
				var traitsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='trait') traitsList.push(me);
				}
				var items=[];
				var itemsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='item') itemsList.push(me);
				}
				
				var minTraits=3;
				var minItems=3;
				
				if (!o.perks)
				{
					for (var i=0;i<minTraits;i++)
					{
						traits.push(c(traitsList));
					}
					for (var i=0;i<minItems;i++)
					{
						items.push(c(itemsList));
					}
				}
				
				if (o.perks)
				{
					for (var i in o.perks)
					{
						var perk=G.perksBN[o.perks[i]];
						if (perk.def && perk.type=='trait') traits.push(perk);
						else if (perk.def && perk.type=='item') items.push(perk);
					}
				}
				while (traits.length<minTraits)
				{
					traits.push(G.perksBN['no perk']);
				}
				while (items.length<minItems)
				{
					items.push(G.perksBN['no item']);
				}
				
				var n=0;
				for (var i=0;i<traits.length;i++)
				{
					traitsStr+=`${perkSelector('trait',char.l.id+'-perk-'+n,traits[i])} `;
					n++;
				}
				for (var i=0;i<items.length;i++)
				{
					itemsStr+=`${perkSelector('item',char.l.id+'-perk-'+n,items[i])} `;
					n++;
				}
				
				char.l.innerHTML=`
					<div class="button" style="float:right;" id="${char.l.id+'-delete'}" title="Delete this person">X</div>
					<div class="handle"></div>
					<div class="picBox"><img src="${char.pic||'defPic.jpg'}" id="${char.l.id+'-pic'}" class="pic"/></div>
					Name : <input type="text" size="14" id="${char.l.id+'-name'}" value="${char.name}"/> 
					<select id="${char.l.id+'-gender'}"><option value="0"${char.gender==0?' selected="selected"':''}>he</option><option value="1"${char.gender==1?' selected="selected"':''}>she</option><option value="2"${char.gender==2?' selected="selected"':''}>they</option></select> 
					<select id="${char.l.id+'-tier'}"><option title="Character acts every round." value="0"${char.tier==0?' selected="selected"':''}>main</option><option title="Character only acts every now and then." value="1"${char.tier==1?' selected="selected"':''}>minor</option></select> 
					Pic URL : <input type="text" size="24" id="${char.l.id+'-picUrl'}" value="${char.pic}"/> 
					<br>
					Perks : ${traitsStr} Item : ${itemsStr} 
				`;
				addEvent(l(char.l.id+'-delete'),'click',function(){
					team.members.splice(team.members.indexOf(char),1);
					animRemove(char.l);
					refreshTeam(team);
				});
				addEvent(l(char.l.id+'-picUrl'),'input',function(){
					var val=l(char.l.id+'-picUrl').value;
					if (val.length<3) val='defPic.jpg';
					l(char.l.id+'-pic').src=val;
					char.pic=val;
				});
				//addEvent(l(char.l.id+'-pic'),'dragstart',function(e){e.preventDefault();});
				
				domN++;
				team.members.push(char);
				animAdd(char.l);
				refreshTeam(team);
				return char;
			}
			
			var perkSelector=function(type,id,def)
			{
				var str='';
				var perks=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type==type) perks.push(me);
				}
				var selected=def||c(perks);
				for (var i in perks)
				{
					var me=perks[i];
					str+=`<option value="${me.id}" title="${me.desc}"${me==selected?' selected="selected"':''}>${me.name}</option>`;
				}
				return '<select id="'+id+'">'+str+'</select>';
			}
			
			var team=addTeam({name:'NOTEAM',chars:[]});
			var team=addTeam();
			var team=addTeam();
			
			if (G.setupData) G.importSetup(JSON.stringify(G.setupData));
		}
		
		
		G.viewDetails=function()
		{
			var str=`
				<header>Details</header>
				<div>
			`;
			
			var teams=G.teams.slice(0);
			var teamless={chars:[],name:'NOTEAM'};
			for (var i=0;i<G.chars.length;i++){if (!G.chars[i].team){teamless.chars.push(G.chars[i]);}}
			if (teamless.chars.length>0) teams.unshift(teamless);
			
			for (var i=0;i<teams.length;i++)
			{
				var team=teams[i];
				if (team.name=='NOTEAM') str+=`<div class="box team teamless"><cap>Unaffiliated</cap>`;
				else str+=`<div class="box team ${i%2==0?'blue':'red'}"><cap>${team.name}</cap>`;
				for (var ii=0;ii<team.chars.length;ii++)
				{
					var me=team.chars[ii];
					str+=`
					<div class="char" style="font-size:12px;">
						<div class="picBox"><img src="${me.pic}" class="pic" title="${me.name}"/>${me.has('dead')?'<div class="picSkull"></div>':''}</div>
						<div style="text-align:center;">
							<e style="float:left;margin-right:8px;">${me.name}</e>
							<div style="min-width:32%;display:inline-block;"><cap>Perks :</cap> ${me.perks.map(perk=>(perk.type=='trait' && perk.name!='no perk')?('<div class="bit" title="'+perk.desc+'">'+perk.name+'</div>'):'').join(' ')}</div>
							<div style="min-width:32%;display:inline-block;"><cap>Items :</cap> ${me.perks.map(perk=>(perk.type=='item' && perk.name!='no item')?('<div class="bit" title="'+perk.desc+'">'+perk.name+'</div>'):'').join(' ')}</div>
							<div style="min-width:32%;display:inline-block;"><cap>Other :</cap> ${me.perks.map(perk=>(perk.type!='item' && perk.type!='trait')?('<div class="bit" title="'+perk.desc+'">'+perk.name+'</div>'):'').join(' ')}</div>
						</div>
						${me.kills.length>0?('<div style="color:#e2461f;">Killed '+me.kills.length+' (<e>'+me.kills.map(char=>char.name).join(', ')+'</e>)</div>'):''}
						${(me.killer.length>0 && me.has('dead'))?('<div style="color:#e2461f;">Dead, killed by <e>'+me.killer.map(char=>char.name).join(', ')+'</e> ('+me.deathReason+')</div>'):''}
						${(me.killer.length==0 && me.has('dead'))?('<div style="color:#e2461f;">Dead ('+me.deathReason+')</div>'):''}
					</div>`;
				}
				str+=`</div>`;
			}
			str+=`</div>`;
			
			G.popup(str,function(){
			});
		}
		
		G.started=false;
		G.start=function()
		{
			G.started=true;
			G.setupData=G.exportSetup(-1);
			
			G.deaths=0;
			
			var teams=G.teams;
			G.teams=[];
			G.chars=[];
			G.team=function(o)
			{
				this.type='team';
				this.chars=[];
				for (var i in o){this[i]=o[i];}
				for (var i in this.chars){this.chars[i].team=this;}
				G.teams.push(this);
			}
				G.team.prototype.pick=function(n)
				{
					if (this.chars.length<n) return false;
					var members=shuffle(this.chars.slice(0));
					return members.slice(0,n);
				}
				G.team.prototype.dissolve=function()
				{
					//kick all members and delete self
					for (var i in this.chars)
					{
						this.chars[i].team=0;
					}
					G.teams.splice(G.teams.indexOf(this),1);
				}
			G.char=function(o)
			{
				this.type='char';
				this.perks=[];
				this.team=0;
				this.kills=[];
				this.deathReason='';
				this.killer=[];
				this.combat=null;
				for (var i in o){this[i]=o[i];}
				G.chars.push(this);
			}
				G.char.prototype.has=function(perk)
				{
					if (typeof perk==='string')
					{
						if (!G.perksBN[perk]) {console.log('No perk named','"'+perk+'"');return false;}
						perk=G.perksBN[perk];
					}
					for (var i in this.perks)
					{
						if (this.perks[i].name==perk.name) return true;
					}
					return false;
				}
				G.char.prototype.gain=function(perk)
				{
					if (typeof perk==='string')
					{
						if (!G.perksBN[perk]) {console.log('No perk named','"'+perk+'"');return false;}
						perk=G.perksBN[perk];
						return;
					}
					if (perk.type=='item' || !this.has(perk)) this.perks.push(perk);
				}
				G.char.prototype.lose=function(perk)
				{
					if (typeof perk==='string')
					{
						if (!G.perksBN[perk]) {console.log('No perk named','"'+perk+'"');return false;}
						perk=G.perksBN[perk];
					}
					if (this.has(perk)) this.perks.splice(this.perks.indexOf(perk),1);
				}
				G.char.prototype.give=function(other,perk)
				{
					if (typeof perk==='string')
					{
						if (!G.perksBN[perk]) {console.log('No perk named','"'+perk+'"');return false;}
						perk=G.perksBN[perk];
					}
					if (this.has(perk)) {this.lose(perk);other.gain(perk);}
				}
				G.char.prototype.die=function(reason)
				{
					if (!this.has('dead'))
					{
						G.deaths++;
						G.deadThisRound.push(this);
						this.gain('dead');
						if (reason) this.deathReason=reason;
						//if (this.team) {this.team.chars.splice(this.team.chars.indexOf(this),1);this.team=0;}
						return true;
					}
					return false;
				}
				G.char.prototype.isDisabled = function() {
					for (let i in this.perks) {
						if (this.perks[i].disabled) { return true; }
					}
					return false;
				}
				G.char.prototype.isOut = function() {
					for (let i in this.perks) {
						if (this.perks[i].out) { return true; }
					}
					return false;
				}
				G.char.prototype.kill=function(other,reason,accomplices)
				{
					if (other.die(reason))
					{
						this.gain('has killed');
						if (other.killer.indexOf(this)==-1) other.killer.push(this);
						if (this.kills.indexOf(other)==-1) this.kills.push(other);
						if (accomplices)
						{
							if (!Array.isArray(accomplices)) accomplices=[accomplices];
							for (var i in accomplices)
							{
								accomplices[i].gain('has killed');
								if (other.killer.indexOf(accomplices[i])==-1) other.killer.push(accomplices[i]);
								if (accomplices[i].kills.indexOf(other)==-1) accomplices[i].kills.push(other);
							}
						}
					}
				}
				G.char.prototype.leave=function()
				{
					if (this.team) {this.team.chars.splice(this.team.chars.indexOf(this),1);this.team=0;}
				}
				G.char.prototype.join=function(team)
				{
					if (this.team) this.leave();
					if (team) {this.team=team;team.chars.push(this);}
				}
			
			
			//convert team setup into actual members and teams
			for (var i in teams)
			{
				var base=teams[i];
				if (!base.teamless) base.name=STRCLN(l(base.l.id+'-name').value); else base.name='NOTEAM';
				var members=[];
				for (var i in base.members)
				{
					var member=base.members[i];
					member.name=STRCLN(l(member.l.id+'-name').value);
					member.gender=INTCLN(parseInt(l(member.l.id+'-gender').options[l(member.l.id+'-gender').selectedIndex].value));
					member.tier=INTCLN(parseInt(l(member.l.id+'-tier').options[l(member.l.id+'-tier').selectedIndex].value));
					var val=STRCLN(member.pic);
					if (val.length<3) member.pic='defPic.jpg';
					else member.pic=val;
					var perks=[];
					var perkN=0;
					while (l(member.l.id+'-perk-'+perkN))
					{
						var el=l(member.l.id+'-perk-'+perkN);
						var perk=G.perks[el.options[el.selectedIndex].value];
						if (perk.name!='no perk' && perk.name!='no item' && (perk.type!='trait' || perks.indexOf(perk)==-1)) perks.push(perk);
						perkN++;
					}
					var me=new G.char({name:member.name,pic:member.pic,perks:perks,gender:member.gender,tier:member.tier});
					members.push(me);
				}
				if (!base.teamless) new G.team({name:base.name,chars:members});
			}
			
			G.acts=[];
			G.actsForced=[];
			G.actsOther=[];
			let FORCE=-100;
			G.act=function(chance,people,text,func)
			{
				this.chance=chance;
				this.people=people;
				this.text=text;
				this.func=func||0;
				this.uses=0;
				G.acts.push(this);
				if (this.chance==FORCE) G.actsForced.push(this);
				else G.actsOther.push(this);
			}
				G.getActUses=function()
				{
					var list=G.acts.slice(0);
					list.sort((a,b)=>a.uses-b.uses);
					console.log(list.map(me=>(me.uses+' : '+me.text)));
				}
				G.testVariableCond=function(val,cond)
				{
					//can handle val:1, val:<1, val:>1
					var op=cond.charAt(0);
					if (op=='<' || op=='>'){cond=cond.substr(1);}
					else op=0;
					cond=parseInt(cond);
					if (op=='>' && val>cond) return true;
					else if (op=='<' && val<cond) return true;
					else if (!op && val==cond) return true;
					else return false;
				}
				G.actReqKeywords = ['team', 'any', 'able', 'out', 'inTeam', 'noTeam', '-', '+', 'every'];
				G.getAliveCharsN = function() {
					let amount = 0;
					for (let i in G.chars) {
						if (!G.chars[i].isOut()) { amount++; }
					}
					return amount;
				}
				G.getDeadCharsN = function() {
					return G.chars.length - G.getAliveCharsN();
				}
				G.team.prototype.getAliveCharsN = function() {
					let amount = 0; 
					for (let i in this.chars) {
						if (!this.chars[i].isOut()) { amount++; }
					}
					return amount;
				}
				G.team.prototype.getDeadCharsN = function() {
					return this.chars.length - this.getAliveCharsN();
				}
				//refactored TW's code to be much more sensible - CS
				G.char.prototype.testCond = function(str, prevTeam) {
					//individual expressions, without AND or OR
					if (!str) { return false; } 
					let chance = str.split('%')[1]; 
					let item = str.split('%')[0];
					let actualTrue = true;
					let actualFalse = false;
					if (item[0] == '!') { actualTrue = false; actualFalse = true; item = item.slice(1, str.length); }
					if (chance) { if (!(Math.random() < chance)) { return actualFalse; } }
					if (G.actReqKeywords.includes(str)) {
						if (str == 'team') { return cNegate(actualTrue, this.type == 'team'); }
						if (str == 'any') { return cNegate(actualTrue, this.isOut()); } 
						if (str == 'able') { return cNegate(actualTrue, this.isDisabled()); }
						if (str == 'out') { return cNegate(actualTrue, !this.isOut()); }
						if (str == 'inTeam') { return cNegate(actualTrue, !this.team); }
						if (str == 'noTeam') { return cNegate(actualTrue, this.team); }
						if (str == '-') { return cNegate(actualTrue, (this.team === prevTeam)); }
						if (str == '+') { return cNegate(actualTrue, !(this.team === prevTeam)); }
						if (str == 'every') { return actualTrue; }
						throw 'Special keyword not found!';
					}
					if (item.indexOf(':') != -1) {
						let amount = item.split(':')[1];
						let key = item.split(':')[0];
						if (key == 'members') { 
							if (this.team) { return cNegate(actualFalse, G.testVariableCond(this.team.chars.length, amount)); }
							else { return actualFalse; }
						}
						if (key == 'alive') {
							return cNegate(actualFalse, G.testVariableCond(G.getAliveCharsN(), amount));
						}
						if (key == 'dead') {
							return cNegate(actualFalse, G.testVariableCond(G.getDeadCharsN(), amount));
						}
						if (key == 'deaths') {
							return cNegate(actualFalse, G.testVariableCond(G.deaths, amount));
						}
						if (key == 'teamalive') {
							return cNegate(actualFalse, G.testVariableCond(this.team.getAliveCharsN(), amount));
						}
						if (key == 'teamdeaths') {
							return cNegate(actualFalse, G.testVariableCond(this.team.getDeadCharsN(), amount));
						}
						throw 'Special variable keyword not found!';
					} 
					//finally, perks
					item = item.replaceAll('_', ' ');
					if (!G.perksBN[item]) { throw '"'+item+'" is not a valid perk!'; }
					
					if (!G.perksBN[item].disabled && this.isDisabled()) { return actualFalse; }
					if (!G.perksBN[item].out && this.isOut()) { return actualFalse; }
					return this.has(item);
				}
				G.act.prototype.fit=function(me, toMatch)
				{
					/*
						returns one or more people/team who fit the given conditions
						the "me" parameter specifies which person/team the first condition must match
						ie. ['shotgun lunatic','- meek'] will return a person with the "shotgun" and "lunatic" perks specified by me, and a person who is "meek" and on a different team
						syntax :
	  						' '
		 						> AND operator, put expressions to the left and right to signify that both must be met
		 					'|'
								> OR operator, put expressions go the left and right to signify that at least one must be met 
							'perk_name'
								> must have the perk
							'!perk_name'
								> must not have the perk
							'perk_name|other_perk|third_perk'
								> must have either of those perks
							'!perk_name|other_perk|third_perk'
								> must not have any of those perks
							'team'
								> must be a team (otherwise must be a person)
							'members:3' 'members:<3' 'members:>3'
								> team must have the specified amount of members
							'alive:3' 'alive:<3' 'alive:>3'
								> this many people must be alive
							'dead:3' 'dead:<3' 'dead:>3'
								> this many people must be dead
							'deaths:3' 'deaths:<3' 'deaths:>3'
								> this many deaths must have happened
							'teamalive:3' 'teamalive:<3' 'teamalive:>3'
								> this many in the team must be dead
							'teamdeaths:3' 'teamdeaths:<3' 'teamdeaths:>3'
								> this many in the team must be dead
							'+'
								> must be the same team as the previous team/person selected (separated to others via AND)
							'-'
								> must be a different team
							'inTeam'
								> must be in a team
							'noTeam'
								> must not be in a team
							'!out'
								> must not have a perk marked .out (dead, sheep, comatose etc)
							'!able'
								> must have a perk marked .disable (trapped, shell-shocked etc)
							'any'
								> can be abled or disabled (still doesn't accept out)
							'every'
       							> matches everyone
			   				put '%N' after any perk to signify a chance for that to be true, where N is the chance
					*/
					var bigReq = null;
					if (toMatch) { bigReq = toMatch; } else { bigReq = this.people; }
					
					var selected=[];
					
					var prevTeam=0;
					
					for (let i=0;i<bigReq.length;i++)
					{
						//i is each person in the req
						var req=bigReq[i].split(' '); //req now describes all statements separated by AND
						for (let ii in req) {
							req[ii] = req[ii].split('|'); //req is now a nested array, with layer one being AND and layer two being OR
						}
						//if (req.indexOf('team')==-1 && req.indexOf('dead')==-1) req.unshift('!dead');
						
						var pool=[];
						if (req.indexOf('team')!=-1) pool=G.teams;
						else pool=G.chars;
						pool=shuffle(pool);
						if (i==0 && pool.indexOf(me)==-1) pool=[];
						
						var found=false;
						for (let ii=0;ii<pool.length;ii++)
						{
							//ii is iteration over all chars and teams to try match ("it")
							let it=pool[ii];
							let fitAND = true;
							for (let iii in req) {
								let fitOR = false;
								for (let iiii in req[iii]) {
									if (it.testCond(req[iii][iiii], prevTeam)) { fitOR = true; break; }
								}
								if (!fitOR) { fitAND = false; break; }
							}
							
							if (fitAND)
							{
								selected.push(it);
								prevTeam=it.team;
								found=it;
								break;
							}
						}
						if (!found) return false;
					}
					if (selected.length!=bigReq.length) return false; 
					return selected;
				}
			
			//NOTE : the first person or team in an act counts as its main actor; they cannot be the main actor of another act in the same round
			
			/*
			new G.act(FORCE,['team members:1','+'],`[2] sees no point in being the only member in [1] and dissolves it.`,p=>{p[1].dissolve();});
			*/
			
			//trait-related idling
			new G.act(1,['any|any'],`[1] [hums a song to [1:themself]|twiddles [1:their] thumbs|thinks about what [1:they] did to end up here|wonders about the future|has a horrible feeling in [1:their] [chest|gut]|stares into the distance].`);
			new G.act(1,['leader','+ team teamalive:>2'],`[1] [hopes to get everyone out of here|tries to keep a brave face on for everyone's sake].`);
				new G.act(0.5,['leader','+ leader|devious|stubborn|any%0.2 !kind|peaceful|naive'],`[1] and [2] get into an argument over who should be in charge.`);
				new G.act(0.5,['leader !sociopath','+ team teamalive:>2 teamdeaths:0'],`[1] is proud to lead [2].`);
				new G.act(0.5,['leader !sociopath','+ team teamalive:>2 teamdeaths:>0'],`[1] made some mistakes as a leader, but wants to do right by [2].`);
				new G.act(0.5,['leader|any%0.2 !sociopath','+ team teamdeaths:>1'],`[1] feels horrible for failing [2]...`);
				new G.act(0.5,['leader naive|cowardly%0.5|any%0.2 !sociopath%0.5|analytical%0.5','+ team teamdeaths:0'],`[1] wants to lead [2] to victory, but isn't sure how to proceed...`);
				new G.act(0.5,['leader devious|sociopath','+ team teamalive:>1'],`[1] sees [2] as a bunch of chumps to be milked.`);
			new G.act(1,['peaceful'],`[1] [doesn't feel prepared for any of this|hopes [1:g|he doesn't|she doesn't|they don't] have to harm anyone].`);
				new G.act(0.5,['peaceful%0.5|kind%0.5|naive%0.5|medic%0.5|any%0.5 !sociopath|survivalist%0.5','+ peaceful'],`[1] seems to find [2]'s presence soothing.`);
			new G.act(1,['sociopath deaths:>0'],`[1] [seems unshaken by any of this|is only looking out for [1:themself]].`);
			new G.act(1,['kind teamalive:>1'],`[1] [just wants to be helpful|is ready to defend [1:their] friends].`);
				new G.act(0.5,['kind|naive|peaceful|any%0.5 !sociopath|devious%0.5|survivalist%0.5','+ kind|medic%0.5|any%0.2'],`[1] thanks [2] for being there for [1:them].`);
				new G.act(0.5,['kind','+ cute'],`[1] [can't stop fawning over [2]...|wants to protect [2]!]`);
				new G.act(0.5,['kind|medic%0.5|any%0.2 !sociopath|survivalist%0.5','+ shell-shocked'],`[[1] tries to cheer [2] up, but it's not really working...|[1] is really worried about [2]...|[1] doesn't know how to cheer [2] up...]`);
			new G.act(1,['unstable'],`[1] [looks on the verge of snapping|twitches uncontrollably].`);
			new G.act(1,['bulky'],`[1] [sizes [1:their] muscles|feels strong enough to handle anything].`);
			new G.act(1,['meek'],`[1] [wants this to be over already|wishes [1:they] could go home].`);
				new G.act(0.5,['meek','+ bulky|leader|any%0.2'],`[1] is glad [1:they] can rely on [2].`);
			new G.act(1,['naive'],`[1] [doesn't really understand what's happening|fails to grasp the gravity of the situation].`);
				new G.act(0.5,['kind|naive|artist|clumsy%0.5|any%0.2 !sociopath|devious%0.5|survivalist%0.5','+ kind|naive|cute|artist|any%0.2 !sociopath|devious%0.5|survivalist%0.5'],`[1] and [2]'s fingers touch by accident.<br>They both blush a little bit...`);
				new G.act(0.5,['naive !leader','+ leader|any%0.2'],`[1] admires [2]'s [leadership|confidence|decisiveness].`);
				new G.act(0.5,['naive !bulky','+ bulky'],`[1] admires [2]'s [muscles|strength].`);
				new G.act(0.5,['naive alive:1'],`[1] looks around. Where did everybody go?`);
			new G.act(1,['devious alive:>1'],`[1] [is looking for an easy out|looks for someone dumb enough to believe [1:them]].`);
				new G.act(0.5,['!devious|sociopath|analytical|cowardly|any%0.2 !naive','+ devious'],`[1] does [1:their] best to avoid [2].`);
			new G.act(1,['seductive alive:>1'],`[1] [doesn't care much for this place|tries to get others to notice [1:them]].`);
				new G.act(0.5,['seductive alive:1'],`There's nobody left to notice [1]...`);
				new G.act(0.5,['','+ seductive'],`[1] can't take [1:their] eyes off [2]...`);
				new G.act(0.5,['seductive','+ naive'],`[1] whispers some things in [2]'s ear, but [2] is a bit too innocent to understand.`);
				new G.act(0.5,['seductive','+ rich|analytical|artist%0.5|any%0.2 !naive'],`[1] hits on [2], but [2] finds it suspicious...`);
			new G.act(1,['suicidal'],`[1] [wishes [1:g|he was|she was|they were] dead|longs for death].`);
			new G.act(1,['cute'],`[1] [is being adorable as always|does something really cute].`);
			new G.act(1,['annoying teamalive:>1'],`[1] [rambles on about something nobody cares about|keeps trying to tell a joke, but it always falls flat].`);
				new G.act(0.5,['annoying','+ annoying|artist%0.5'],`[[1] is glad to have someone like [2] [to tell really bad puns to|to have boring conversations with].|[1] and [2] giggle like idiots. Better not ask.]`);
			new G.act(1,['scrappy'],`[1] [looks around for stuff to scrounge|spots something shiny in the distance].`);
			new G.act(1,['survivalist deaths:0'],`[1] [came prepared|could get used to this place].`);
				new G.act(1,['survivalist|stubborn%0.5|any%0.2 !naive|suicidal deaths:>0'],`[1] [is determined to survive this|won't die like the others|won't give up so easily].`);
			new G.act(1,['rich'],`[1] [feels protected by [1:their] wealth|finds all this below his concern].`);
			new G.act(1,['inventor'],`[1] [is thinking of plans to get out of here|is cooking up a genius idea].`);
				new G.act(0.5,['inventor|any%0.2','+ scrappy|any%0.2'],`[1] asks [2] if [2:g|he's|she's|they've] found anything useful.`);
			new G.act(1,['goth'],`[1] [mopes around uselessly|thinks of a dark, dark poem].`);
			new G.act(1,['lunatic'],`[1] [isn't sure whether to cry, laugh, or tear [1:their] hair out|is looking particularly erratic today].`);
			// New traits -TW
			new G.act(1,['medic'],`[1] [takes stock of any possible first aid supplies|checks their own health].`);
				new G.act(0.5,['medic|kind%0.5|any%0.2 !sociopath','+ team teamalive:>2'],`[1] checks [1:their] team's [health|injuries|medical supplies].`);
			new G.act(1,['marksmen !handgun%0.5|shotgun%0.5|lasergun%0.5'],`[1] keeps [1:their] eyes open [to [1:their] surroundings|for danger|for anything unexpected|for a firearm to use].`);
				new G.act(0.5,['marksmen|any%0.2 handgun|shotgun|lasergun !peaceful|naive%0.5 '],`[1] [aims down the sights of|cleans|performs maintenance on|practices with] [1:their] gun.`);
			new G.act(1,['animal_ken|peaceful%0.2'],`[1] [feeds|dances with|encounters|plays with] a wild [squirrel|mouse|bird|deer|animal] in the [woods|forest|field|grass|night] peacefully.`);
			new G.act(1,['ninja'],`[1] [practices|shows off|performs some] [hardcore parkour|throwing techniques|hiding in plain sight|sick ninja skills].`);
			new G.act(1,['stubborn'],`[1] is ready to [fearlessly |stubbornly | ][ignore|face|handle|endure] [the cold|any struggle|danger|[1:their] fear].`);
			new G.act(1,['analytical'],`[1] [plans ahead|begins drafting plans|analyzes the situation|begins overthinking the sitution|considers all the variables ahead].`);
			new G.act(1,['artist'],`[1] creates a [sketch|drawing|picture|character] [in [1:their] spare time|while bored|to distract [1:themself]].`);
			new G.act(1,['pyromania'],`[1] really wants to [burn something|light a fire|create some sparks|warm up somewhere safe].`);
			new G.act(1,['cowardly'],`[1] is afraid of [what's next|the dark|a sound [1:they] heard|possible dangers|everything..].`);
			new G.act(1,['clumsy'],`[1] [stumbles|trips|drops something] but [nothing serious happens|[1:they] will be fine].`);
			new G.act(1,['glasses !blind'],`[1] [cleans|wipes off|checks|adjusts|defogs] [1:their] glasses so [1:they] can see better.`);
				new G.act(0.33,['glasses pyromania|survivalist%0.5|any%0.2 !blind|naive%0.5|clumsy%0.5'],`[1] starts a fire with their glasses for [warmth|heat|cooking|fun]`);
				new G.act(0.33,['glasses clumsy|any%0.2 !blind|survivalist%0.5'],`[1] drops [1:their] glasses and spends [a minute|a few minutes|an hour] to find them again.`);
				new G.act(0.33,['glasses sociopath|devious%0.5|inventor%0.5|analytical%0.5|any%0.2','+ cowardly|any%0.5 !sociopath%0.5|survivalist%0.5'],`[2] gets uncomfortable after noticing [1]'s glasses glint when [1:they] plan, spooky.`);
			new G.act(1,['the_gift'],`[1] [practices creating [fire|lights|strange sounds] with [1:their] gift|is feeling particularly empowered today|worries about losing [1:their] magical powers].`);
			
			new G.act(1,['survivalist|sociopath|stubborn alive:1 dead:>0'],`[1] [always knew [1:they]'d be the last to survive|made it out alive, it seems].`);
			new G.act(1,['devious alive:1 dead:>0'],`[1] is glad [1:they] made it out alive.`);
			new G.act(1,['!survivalist|sociopath|devious alive:1 dead:>0'],`[Dead... they're all dead...|[1] stares into the distance... Was it really worth it?|[1] survived... but at what price?]`);
			new G.act(1,['alive:1 dead:0'],`[1] is all by [1:themself].`);
			new G.act(1,['alive:1'],`[1] [screams at nobody in particular|hums to [1:themself]|wishes [1:they] had someone to talk to|].`);
			
			//item-related idling
            //Halved the idle-chance to compensate for additional items -TW
			new G.act(0.5,['big_stick !naive|peaceful|cowardly alive:>1'],`[1] waves [1:their] big stick around menacingly.`);
			new G.act(0.5,['pitchfork !peaceful'],`[1] wonders how far [1:they] could throw [1:their] pitchfork.`);
			new G.act(0.5,['sword !peaceful'],`[1] swooshes the air with [1:their] sword.`);
			new G.act(0.5,['axe !naive|peaceful'],`[1] is ready to use [1:their] axe if [1:g|he has|she has|they have] to.`);
			new G.act(0.5,['handgun !peaceful|suicidal%0.5'],`[1] aims [1:their] handgun in the distance.`);
				new G.act(0.25,['handgun suicidal'],`[1] looks at the end of [1:their] handgun, then puts it to [1:their] head. Yeah... that oughta do it.`);
			new G.act(0.5,['shotgun !naive|peaceful|suicidal%0.5'],`[1] reloads [1:their] shotgun, just in case.`);
				new G.act(0.25,['shotgun suicidal'],`[1] looks at the end of [1:their] shotgun, then puts it to [1:their] head. Yeah... that oughta do it.`);
			new G.act(0.5,['grenade !peaceful'],`[1] juggles a bit with [1:their] grenade, kind of wanting to use it...`);
			new G.act(0.5,['rocket_launcher !peaceful'],`[1] loves the way [1:their] rocket launcher feels on [1:their] shoulder.`);
			new G.act(0.5,['slingshot !naive|peaceful'],`[1] gathers ammo for [1:their] slingshot.`);
			new G.act(0.5,['bow !naive|peaceful'],`[1] practices pulling [1:their] bow's string back.`);
			new G.act(0.5,['flamethrower !peaceful'],`[1] really wants to use [1:their] flamethrower...`);
				new G.act(0.25,['flamethrower pyromania|unstable%0.2|any%0.2 !peaceful%0.5|survivalist%0.2'],`[1] sets random stuff on fire with their awesome flamethrower!`);
			new G.act(0.5,['lasergun !peaceful'],`[1] feels unstoppable with [1:their] lasergun.`);
			new G.act(0.5,['magic_wand'],`[1] waves [1:their] magic wand around, sending sparkles everywhere.`);
			new G.act(0.5,['ancient_scepter'],`[1] polishes [1:their] ancient scepter, making the magic orb shine.`);
			
			new G.act(1,['pet_wolf animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] pets [1:their] pet wolf to soothe him.|[1]'s pet wolf licks [1:their] [ear|cheek|face]!|[1] teaches [1:their] pet wolf a trick.|[1]'s pet wolf growls contentedly.]`);
				new G.act(0.01,['dead pet_wolf !nihil'],`[1]'s pet wolf lets out a sad howl...`);
				new G.act(0.25,['pet_wolf alive:1'],`[1]'s pet wolf is all [1:g|he has|she has|they have] left in the world.`);
			new G.act(1,['pet_tiger animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] scratches [1:their] pet tiger's neck. That's a good tiger.|[1]'s pet tiger pounces on [1:them] playfully.|[1] plays fetch with [1:their] pet tiger.|[1]'s pet tiger purrs softly.]`);
				new G.act(0.01,['dead pet_tiger !nihil'],`[1]'s pet tiger rests by her owner's body.`);
				new G.act(0.25,['pet_tiger alive:1'],`[1]'s pet tiger is all [1:g|he has|she has|they have] left in the world.`);
			new G.act(1,['pet_turtle animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[[1] rests again [1:their] pet turtle's flank.|[1] feeds [1:their] pet turtle some lettuce.|[1] watches [1:their] pet turtle ambling around.|[1]'s pet turtle does a really impressive trick.]`);
				new G.act(0.01,['dead pet_turtle !nihil'],`[1]'s pet turtle is looking for her owner, but can't find [1:them]...`);
				new G.act(0.25,['pet_turtle alive:1'],`[1]'s pet turtle is all [1:g|he has|she has|they have] left in the world.`);
			
			new G.act(0.5,['wish_ring'],`[1] ponders about how best to use [1:their] wish ring.`);
				new G.act(0.2,['wish_ring'],`[1] wishes for [a cheeseburger|a nice hunk of cheese|a garden salad|some grilled fish|a delicious steak|a tall glass of milk|some cookies|a birthday cake|some trail mix|a popsicle|some pizza|a chicken dinner|some fried chicken|some yogurt|a really cool shirt|a new hat|a bag of chips|some candy|some marshmallows|some comic books|a rubber ducky]...<br>[1:g|His|Her|Their] wish ring shimmers for a second, and [1:their] wish materializes in front of [1:them].`);
				new G.act(0.15,['wish_ring'],`[1] wishes for [a longer nose|a shorter nose|bigger ears|really cool facial hair|really nice eyebrows|an interesting accent]...<br>[1:g|His|Her|Their] wish ring shimmers for a second before answering [1:their] wish.`);
				new G.act(0.15,['annoying%0.5|naive%0.5|any%0.5 !survivalist%0.8|kind%0.5 wish_ring','+'],`[1] wishes for [2] to have [a longer nose|a shorter nose|bigger ears|really cool facial hair|really nice eyebrows|an interesting accent]...<br>Much to [2]'s surprise, [1]'s wish ring seems happy to comply.`);
			
			new G.act(0.5,['leather_scraps'],`[1] wearing leather scraps is a sight to behold.`);
			new G.act(0.5,['bikini'],`[1] [is very proud of|flaunts|looks really good in] [1:their] bikini.`);
				new G.act(0.5,['bikini seductive|cute%0.5|any%0.2','+'],`Everybody is staring at [1] in [1:their] bikini...`);
				new G.act(0.5,['','+ bikini seductive|cute%0.5|any%0.2'],`[1] gets distracted staring at [2]'s bikini.`);
			new G.act(0.5,['dapper_suit'],`[1] [is very proud of|acts cool in|looks amazing in] [1:their] dapper suit.`);
				new G.act(0.25,['has_killed dapper_suit'],`[1] washes the blood off of [1:their] dapper suit.`);
			new G.act(0.5,['knight_armor'],`[1] [looks glorious in|stands proudly in|is ready to cleave some invaders in] [1:their] knight armor.`);
				new G.act(0.25,['has_killed knight_armor'],`[1] washes the blood off of [1:their] knight armor.`);
			new G.act(0.5,['combat_gear'],`[1] [looks menacing in|is looking downright tactical in|practices some strategic moves in] [1:their] combat gear.`);
				new G.act(0.25,['has_killed combat_gear'],`[1] washes the blood off of [1:their] combat gear.`);
			new G.act(0.5,['wizard_robe'],`[1] [shakes [1:their] wizard sleeves, and a thousand tiny animals fall out|sneezes from all the sparkles coming out of [1:their] wizard robe, making [1:them] levitate for a few seconds|is looking magical today].`);
				new G.act(0.25,['has_killed wizard_robe'],`[1] washes the blood off of [1:their] wizard robe.`);
            
            // Additional Item idling -TW
			new G.act(0.5,['shuriken !peaceful|ninja%0.5|clumsy%0.5|marksmen%0.2'],`[1] tosses a few of [1:their] [knives|shuriken] at a [tree|wall|target] for practice.`);
				new G.act(0.25,['shuriken ninja|marksmen%0.5 !clumsy%0.5|meek%0.2'],`[1] [juggles|practices with] [1:their] [knives|shuriken] with [expert|true|keen] [skill|finesse].`);
				new G.act(0.25,['shuriken clumsy|meek%0.2|any%0.2 !ninja|marksmen|peaceful%0.5'],`[1] [juggles|practices with] [1:their] [knives|shuriken] and nearly cuts [1:themself] after dropping them all!`);
            new G.act(0.5,['lucky_coin'],`[1] flips [1:their] lucky coin, it lands on [heads|heads|heads|tails|tails|tails|it's side]. [Ominous.|Just as [1:they] called it.|What could it mean?]`);
            new G.act(0.5,['cursed_knife !goth%0.5|lunatic%0.5'],`[[1] feels compelled to use [1:their] knife...|[1] is hearing strange whispers|[1] tries to toss [1:their] knife away, but finds it in [1:their] supplies again.]`);
                new G.act(0.25,['cursed_knife goth|lunatic|analytical%0.2'],`[1] has a long conversation with [1:their] knife about the nature of the universe.`);
            new G.act(0.5,['random_orb'],`[1] ponders their orb, as it flashes between a myriad of possible other things.`);
            new G.act(0.5,['pet_hawk animal_ken|peaceful%0.5|kind%0.5|cute%0.5|any%0.5'],`[1] [catches mice with|practices tricks with|scouts ahead with|pets] [1:their] pet hawk.`);
				new G.act(0.01,['dead pet_hawk !nihil'],`[1]'s pet hawk perches atop her owner's unmoving body.`);
				new G.act(0.2,['pet_hawk alive:1'],`[1]'s pet tiger is all [1:g|he has|she has|they have] left in the world.`);
            new G.act(0.5,['pet_rock naive|animal_ken%0.5|peaceful%0.5|annoying%0.5|any%0.5'],`[1] [paints a new look for|practices tricks with|plays fetch with|murmurs sweet nothings to] [1:their] pet rock.`);
				new G.act(0.01,['dead pet_rock !nihil'],`[1]'s pet rock sits beside [1:g|his|her|their] cold body.`);
				new G.act(0.2,['pet_rock alive:1'],`[1]'s pet rock is all [1:g|he has|she has|they have] left in the world.`);
                new G.act(0.25,['pet_rock annoying|cute%0.5|naive%0.5|any%0.2','+ team teamalive:>1'],`[1] keeps showing everyone [1:their] rock's neat tricks. [Stay!|Sleep!|Roll over!]`);
            new G.act(0.5,['parka'],`[1] feels quite comfortable in the [heat|cold|wind|rain] thanks to [1:their] handy parka.`);
				new G.act(0.25,['has_killed parka'],`[1] washes the blood off of [1:their] parka.`);
            new G.act(0.5,['kevlar_vest'],`[1] [wonders if|considers] getting shot in [1:their] vest will still hurt.`);
				new G.act(0.25,['has_killed kevlar_vest'],`[1] washes the blood off of [1:their] kevlar vest.`);
            new G.act(0.5,['kite_shield'],`[1] feels [heroic|safe|tired] carrying around [1:their] kite shield.`);
            new G.act(0.5,['riot_shield !peaceful%0.5|meek%0.2'],`[1] practices combat drills with [1:their] modern riot shield.`);
			new G.act(0.5,['medicine medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|clumsy%0.5|suicidal%0.5'],`[1] [counts|tries to figure out|takes stock of] how much of [1:their] medicine is left.`);
				new G.act(0.25,['medicine clumsy|meek%0.5|naive%0.5|any%0.2 !medic|survivalist%0.5|analytical%0.5|ninja%0.5'],`[1] checks on how much medicine is left, only to [spill|drop|lose] some [shakily|when [1:they] trip|by accident], oops...`);
				new G.act(0.25,['medicine suicidal'],`[1] shakes the bottle of medicine. Would it be enough...?`);
				new G.act(0.25,['medicine pitchfork|sword|axe|cursed_knife|shuriken|bow sociopath|devious|survivalist|ninja|medic%0.5 !kind|peaceful|naive'],`[1] considers using the medicine as a poison for [1:their] weapon...`);
			new G.act(0.5,['first_aid_kit medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|suicidal%0.5'],`[1] sorts all the bandages, gauze, and [materials|supplies|ointment|salves] in [1:their] kit, making sure it's all still [clean|sterile|ready].`);
			new G.act(0.5,['tourniquet medic|peaceful%0.5|kind%0.5|any%0.5 !sociopath%0.5|cowardly%0.5|naive%0.5'],`[1] straps and unstraps the tourniquet. Hopefully [1] never needs to use this...`);
				new G.act(0.25,['tourniquet cowardly|any%0.2 !medic%0.5|sociopath%0.5|naive%0.5|survivalist%0.2|analytical%0.2'],`[1] is terrified of losing a limb to [1:their] tourniquet`);
			new G.act(0.5,['AED medic|peaceful%0.5|kind%0.5|analytical%0.5|any%0.5 !sociopath%0.5|naive%0.5'],`[1] takes out [1:their] AED [for practice drills|to make sure the batteries still work].`);
            new G.act(0.2,['scrap_metal'],`[1] wonders what they could do with all [1:their] shiny bits of metal.`);
            new G.act(0.2,['gun_parts !peaceful|naive|inventor%0.5|marksmen%0.5'],`[1] tries piecing together their gun parts but hasn't figured it out yet.`);
            new G.act(0.2,['magic_dust artist|cute%0.5|naive%0.5|any%0.5 !goth|survivalist|analytical%0.5|inventor%0.5'],`[1] decorates some stuff with their magic dust.<br>The sparkles will never come out of that now.`);
				new G.act(0.1,['magic_dust analytical|inventor|any%0.2 !naive'],`[1] tries to study [1:their] magic dust [with reason|scientifically|carefully] but its [properties|colors|effects] keep changing`);
			new G.act(0.2,['roll_of_fabric artist|cute%0.5|any%0.5'],`[1] [wraps [1:themself] in|cuts pieces out of|considers what to make with] [1:their] fabrics.`);
			// Status Effect Idling - TW
			// // Minor Status Effects
			new G.act(0.5,['scratched !first_aid_kit%0.5|bulky%0.5|stubborn%0.5'],`[1] [winces|worries|checks over [1:themself]] as [1:their] scratches [burn a little|bother [1:them]|sting steadily].`);
			new G.act(0.5,['bruised !first_aid_kit%0.5|bulky%0.5|stubborn%0.5'],`[1] [rubs over|worries about] [1:their] bruises, as they continue to hurt [a little|a lot|steadily].`);
			new G.act(0.5,['sick !medicine%0.5|bulky%0.5|stubborn%0.5'],`[1] is feeling very [ill|sick|feverish|unsteady] as [1:they] [wander|prepare [1:themself]|try to rest it off].`);
			new G.act(0.5,['dizzy !medicine%0.5|bulky%0.5|stubborn%0.5'],`[1] [wanders|walks|looks] around, dizzy and a bit [tired|confused|uncertain|dazed].`);
			new G.act(0.5,['cut_up !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] covers up [1:their] various cuts [and slashes |] as [1:they] [slightly bleed|have mostly scabbed over|breath slowly to [numb|stiffle] the pain].`);
			new G.act(0.5,['broken !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1]'s breathing is [pained|struggling|staggered] from [1:their] [internal injuries|broken rib|sore body].`);
			new G.act(0.5,['shot !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] grips [1:their] [still slightly bleeding|gruesome] bullet wound, pressing on to survive.`);
			new G.act(0.5,['singed !first_aid_kit%0.5|bulky%0.2|stubborn%0.2'],`[1] is still looking toasty from when [1:they] last delt with fire.`);
			new G.act(0.5,['poisoned !medicine%0.5|bulky%0.2|stubborn%0.2'],`[1] is turning [pale|yellow|green] from the poison coursing through [1:their] body.`);
			// // Major Status Effects
			new G.act(1,['bleeding_out'],`[1] hasn't died yet despite their extensive blood loss.`);
			new G.act(1,['burnt'],`[1] is disabled by the extreme pain of [1:their] burns.`);
			new G.act(1,['comatose'],`[1] still hasn't woken up...`);
			new G.act(1,['badly_poisoned'],`[1] can barely move as [1:their] [poisoned|sick|struggling] body [slowly|steadily] shuts down[. |bit by bit|organ by organ.]`);
			new G.act(1,['missing_leg'],`[1] [sometimes still feels|suffers phantoms from] [1:their] missing [arm|hand].`);
			new G.act(1,['missing_arm'],`[1] struggles to get around since losing [1:their] leg.`);
			new G.act(1,['frenzied'],`[[1] looks around maniacally, seething.|[1] looks for [1:their] next victim...]`);
			new G.act(1,['shell-shocked'],`[1] [sits there with a blank stare.|has a blank expression and seems unresponsive to what's going on...|sobs quietly...|starts sobbing uncontrollably.|just wants it to end already...|is on the verge of a nervous breakdown...]`);
			new G.act(1,['dazed'],`[1] [sits there with a [blank|long|helpless] stare|hasn't moved since in a while|is still completely senseless|remains helpless].`);
			new G.act(1,['laughed'],`[1] keeps up their evil laughing practice, [Muahahahahahaa|Ehehehehee|Buahahahaaaaa]!`);
			new G.act(1,['sheep'],`[1] is a sheep and [grazes peacefully|doesn't do much|baahs softly|glances away, a sad look in [1:their] eyes].`);
				new G.act(0.5,['peaceful%0.5|kind%0.5|animal_ken%0.5|cute%0.2|any%0.5 !sociopath%0.8|survivalist%0.8','sheep cute|any%0.5 !annoying%0.5|cowardly%0.2'],`[1] gently pets [2], who is a sheep.`);
			// Misc Idling -TW
			new G.act(0.1,['!sociopath|devious|leader deaths:0'],`[1] [doesn't know yet how bad things are gonna get.|knows not of the horrors yet to come.|is pretty optimistic about all of this.]`);
			new G.act(0.1,['!sociopath|devious|leader deaths:>0'],`[1] [sobs quietly...|starts sobbing uncontrollably.|just wants it to end already...]`);
			
			
			//finding items
			var baseItemMult=1;
				var newItemMult=baseItemMult*0.2 // New item spawns
				var newPetMult=baseItemMult*0.1 // New pet spawns
				var newMatMult=baseItemMult*0.4 // New material spawns
				
				var lootDeadMult=baseItemMult*0.5 // Stealing from the dead
				var lootStealMult=baseItemMult*0.1 // Stealing from the living
				
				var petFindMult=baseItemMult*0.1 // Pet finding material actions
				var airDropMult=baseItemMult*0.1 // Rich air drop item actions
				var itemCraftMult=baseItemMult*0.5 // Crafting item actions
			var baseItemLoss=0.1;
			var itemThief='gremlin|scrappy%0.5|devious%0.5|survivalist%0.5|any%0.2 !naive%0.5|kind%0.2|cut_up%0.2|broken%0.2|shot%0.2|missing_arm%0.3';

			//Every action in each category adds to a total of 1.0, in the original version, items had a combined rate of 0.012 -TW
			//Everything is weighted with traits, to be 40-% with worst traits, 50% with no traits, and 90+% with all best traits. -TW
			//Clothing & Armor(30%) -TW
			new G.act(newItemMult*0.05,['scrappy%0.5|lucky_coin%0.2|any%0.5 !leather_scraps|naive%0.2'],`[BLUE][1] finds some leather scraps, just enough to patch together some rudimentary clothing.<br>It looks rather caveman-like.`,p=>{p[1].gain('leather scraps');});
			new G.act(newItemMult*0.04,['scrappy%0.5|lucky_coin%0.2|seductive%0.5|any%0.5 !bikini|survivalist%0.8|naive%0.2'],`[BLUE][1] finds a lovely bikini and puts it on!<br>It's quite revealing.`,p=>{p[1].gain('bikini');});
			new G.act(newItemMult*0.04,['scrappy%0.5|lucky_coin%0.2|seductive%0.5|rich%0.5|any%0.5 !dapper_suit|survivalist%0.8|naive%0.2'],`[BLUE][1] finds a dapper suit and puts it on!<br>It's rather fetching.`,p=>{p[1].gain('dapper suit');});
			new G.act(newItemMult*0.03,['scrappy%0.5|lucky_coin%0.2|bulky%0.5|survivalist%0.2|any%0.5 !knight_armor|meek%0.5|naive%0.2'],`[BLUE][1] somehow finds a full suit of medieval armor and puts it on!<br>It gleams with a dazzling shine.`,p=>{p[1].gain('knight armor');});
			new G.act(newItemMult*0.03,['scrappy%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !combat_gear|naive%0.2'],`[BLUE][1] somehow finds a bunch of tactical combat gear and equips it!<br>It provides optimal protection for the whole body, without sacrificing flexibility.`,p=>{p[1].gain('combat gear');});
			new G.act(newItemMult*0.02,['scrappy%0.5|magic_wand%0.2|ancient_scepter%0.2|the_gift%0.5|any%0.5 !wizard_robe|naive%0.2'],`[BLUE][1] disappears for a while and comes back with a wizard robe [1:they] just found...<br>[1:g|He slips|She slips|They slip] it on, scattering sparkles everywhere.`,p=>{p[1].gain('wizard robe');});
			
			new G.act(newItemMult*0.05,['scrappy%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !parka|naive%0.2'],`[BLUE]While at first [1] was shivering in the [rain|cold|wind], [1:they] manages to warm up from finding a comfortable parka!`,p=>{p[1].gain('parka');});
			new G.act(newItemMult*0.04,['scrappy%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !kevlar_vest|naive%0.2'],`[BLUE][1] somehow finds a kevlar vest and puts it on.<br>[1] feels bulletproof now!`,p=>{p[1].gain('kevlar vest');});
			//Weapons (30%) -TW
			new G.act(newItemMult*0.04,['scrappy%0.5|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !big_stick !peaceful|naive%0.2'],`[BLUE][1] finds a big stick...<br>Probably comes in handy to bash some skulls.`,p=>{p[1].gain('big stick');});
			new G.act(newItemMult*0.03,['scrappy%0.5|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !pitchfork !peaceful%0.8|naive%0.2'],`[BLUE][1] finds a pitchfork, which [1:g|he figures|she figures|they figure] is great for lobbing at enemies.`,p=>{p[1].gain('pitchfork');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !sword !peaceful|naive%0.2'],`[BLUE][1] finds a sword, shiny and sharp.<br>A rather nice find!`,p=>{p[1].gain('sword');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|bulky%0.2|survivalist%0.2|any%0.5 !axe !peaceful|naive%0.2'],`[BLUE][1] finds an axe, upping [1:their] chances of survival somewhat.`,p=>{p[1].gain('axe');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !handgun !peaceful|naive%0.2'],`[BLUE][1] finds a handgun, with just enough bullets to be useful.`,p=>{p[1].gain('handgun');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !shotgun !peaceful|naive%0.2'],`[BLUE][1] finds a shotgun!<br>[1:g|He starts|She starts|They start] thinking about the damage [1:they] can do.`,p=>{p[1].gain('shotgun');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !grenade !peaceful|naive%0.2'],`[BLUE][1] finds a grenade...<br>Better be careful with that.`,p=>{p[1].gain('grenade');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !rocket_launcher !peaceful|naive%0.2'],`[BLUE][1] finds a rocket launcher!<br>That's gonna end well.`,p=>{p[1].gain('rocket launcher');});
			new G.act(newItemMult*0.03,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !slingshot !peaceful|naive%0.2'],`[BLUE][1] finds a slingshot! How quaint...<br>Might be useful in a pinch.`,p=>{p[1].gain('slingshot');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2|survivalist%0.2|any%0.5 !bow !peaceful|naive%0.2'],`[BLUE][1] finds a bow and some arrows.<br>It'll take some practice but this can surely come in handy.`,p=>{p[1].gain('bow');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|pyromania%0.5|survivalist%0.2|any%0.5 !flamethrower !peaceful|naive%0.2'],`[BLUE]Are you kidding? [1] just found a flamethrower!<br>See if anyone gets in [1:their] way now!`,p=>{p[1].gain('flamethrower');});
			new G.act(newItemMult*0.005,['scrappy%0.5|lucky_coin%0.2|inventor%0.2|survivalist%0.2|any%0.5 !lasergun !peaceful|naive%0.2'],`[BLUE]Whoah! [1] just found a lasergun!<br>[1:g|He starts|She starts|They start] swinging it around making "pew pew" sounds, before [1:they] realize [1:they] can just pull the trigger and make those sounds for real.`,p=>{p[1].gain('lasergun');});
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|naive%0.2|the_gift%0.2|any%0.5 !magic_wand'],`[BLUE][1] follows some sparkles and discovers a magic wand!<br>Hopefully it still has some spells left in it...`,p=>{p[1].gain('magic wand');});
			new G.act(newItemMult*0.005,['scrappy%0.5|lucky_coin%0.2|goth%0.2|the_gift%0.2|any%0.5 !ancient_scepter|naive%0.2'],`[BLUE][1] catches a strange glow in the corner of [1:their] eye and discovers an ancient scepter!<br>Arcane magic courses through [1:their] body as [1:their] fingers touch the carved wood.`,p=>{p[1].gain('ancient scepter');});
			
			new G.act(newItemMult*0.02,['scrappy%0.5|lucky_coin%0.2|ninja%0.5|survivalist%0.2|any%0.5 !shuriken !peaceful'],`[BLUE][1] finds a [bundle|box|pile] of throwing weapons, including some knives and shuriken.<br>[1] is already practicing with a few tosses.`,p=>{p[1].gain('shuriken');});
			new G.act(newItemMult*0.01,['scrappy%0.5|suicidal%0.5|sociopath%0.2|goth%0.2|any%0.5 !cursed_knife|lucky_coin%0.8|survivalist%0.5|peaceful%0.5'],`[RED][1] finds an old knife with dried blood.<br>Once [1:they] pick it up, they can't seem to get rid of it...`,p=>{p[1].gain('cursed knife');});
            //Other Stuff (30%) -TW
			new G.act(newItemMult*0.01,['scrappy%0.2|lucky_coin%0.2|peaceful%0.2|the_gift%0.5|any%0.5 !wish_ring'],`[BLUE][1] was lost in [1:their] thoughts... The next thing [1:g|he knows|she knows|they know], [1:g|he's|she's|they've] found a wish ring.<br>Hopefully [1:they]'ll be responsible with it.`,p=>{p[1].gain('wish ring');});
			
            new G.act(newItemMult*0.03,['scrappy%0.5|clumsy%0.5|marksmen%0.2|the_gift%0.2|any%0.5 !lucky_coin','- handgun|shotgun|bow|lasergun|slingshot'],`[BLUE][1] [notices|trips over|falls into] something shining on the ground.<br> When [1:they] go to pick up the coin, a shot goes right over their head. How lucky!`,p=>{p[1].gain('lucky coin');});
            new G.act(newItemMult*0.04,['scrappy%0.5|lunatic%0.5|the_gift%0.5|any%0.5 !random_orb'],`[BLUE][1] can't believe their luck, a random item orb!<br>Across it's shiny surface, pictures between many other possibilities arise.<br>What will it turn into?`,p=>{p[1].gain('random orb');});
            new G.act(newItemMult*0.03,['scrappy%0.5|kind%0.2|bulky%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !kite_shield'],`[BLUE][1] somehow finds a knightly kite shield.<br>[1] practices fending off attackers with their new shield.`,p=>{p[1].gain('kite shield');});
            new G.act(newItemMult*0.03,['scrappy%0.5|kind%0.2|bulky%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !riot_shield'],`[BLUE][1] somehow finds a riot shield.<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('riot shield');});
			new G.act(newItemMult*0.05,['scrappy%0.5|medic%0.5|lucky_coin%0.2|survivalist%0.2|any%0.5 !medicine'],`[BLUE][1] [finds|scavenges] some [medicine|medicine|pills|ground medical herbs|herbal remedies].<br>[1] keeps it all in a bottle for later.`,p=>{p[1].gain('medicine');});
			new G.act(newItemMult*0.04,['scrappy%0.5|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !first_aid_kit'],`[BLUE][1] finds a small [box|bag|kit] with a [camo pattern|red cross|green cross|unassuming apperance].<br>It's full of medical supplies, score!`,p=>{p[1].gain('first aid kit');});
			new G.act(newItemMult*0.04,['scrappy%0.5|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !tourniquet'],`[BLUE][1] finds a small [box|bag|kit] with a camo pattern.<br>Inside is a wrapped [tourniquet|"Combat Application Tourniquet"], could be useful in an emergency.`,p=>{p[1].gain('tourniquet');});
			new G.act(newItemMult*0.03,['scrappy%0.5|medic%0.2|lucky_coin%0.2|survivalist%0.2|any%0.5 !AED'],`[BLUE][1] somehow finds a riot shield.<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('AED');});
			//Combo Events (10%) -TW
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|sociopath%0.2|survivalist%0.2|any%0.5 !axe%0.8|leather_scraps%0.8|peaceful%0.5|kind%0.2'],`[BLUE][1] finds a dead body dressed in leather and holding an axe.<br>[1] loots the body, maybe some of this could be useful?`,p=>{p[1].gain('axe');p[1].gain('leather scraps');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2|any%0.5 !handgun%0.8|kevlar_vest%0.8|peaceful%0.5'],`[BLUE][1] finds a box with a gun, ammo, and vest inside.<br>Who left this here...?`,p=>{p[1].gain('handgun');p[1].gain('kevlar_vest');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|the_gift%0.5|naive%0.2|any%0.5 !magic_wand%0.8|magic_dust%0.8'],`[BLUE][1] follows a trail of sparkly dust to a still sparking wand.<br>It continues to leak the colorful dust long after [1] picks it up.`,p=>{p[1].gain('magic wand');p[1].gain('magic dust');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|annoying%0.2|any%0.5 !slingshot%0.8|grenade%0.8|peaceful%0.8'],`[BLUE][1] finds an abandoned slingshot with a single grenade next to it.<br>That could be an interesting combination...`,p=>{p[1].gain('slingshot');p[1].gain('grenade');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|sociopath%0.2|survivalist%0.2|any%0.33 !sword%0.8|kite_shield%0.8|knight_armor%0.8|peaceful%0.5|kind%0.2'],`[BLUE][1] finds the dead body of an armored knight<br>[1] begins putting on the armor before grabing the sword and shield.<br>Hopefully, [1]'s fate won't be the same.`,p=>{p[1].gain('sword');p[1].gain('kite shield');p[1].gain('knight armor');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|marksmen%0.2||any%0.33 !shotgun%0.8|riot_shield%0.8|combat_gear%0.8|peaceful%0.5'],`[BLUE][1] gets really lucky and finds a whole bunch of gear!<br>Shotgun, riot shield, and body armor all at [1]'s disposal!`,p=>{p[1].gain('shotgun');p[1].gain('riot shield');p[1].gain('combat gear');});
			new G.act(newItemMult*0.01,['gremlin%|scrappy%0.5|lunatic%0.5|the_gift%0.5|any%0.33 !wish_ring%0.8|lucky_coin%0.8|random_orb%0.8|survivalist%0.5'],`[BLUE][1] is plauged by weird dreams of a laughing god.<br>When [1:they] wakes, a strange orb, ring, and coin are left in [1]'s hands.`,p=>{p[1].gain('wish ring');p[1].gain('lucky coin');p[1].gain('random orb');});
			new G.act(newItemMult*0.01,['scrappy%0.5|medic%0.2|lucky_coin%0.2|any%0.25 !medicine%0.8|first_aid_kit%0.8|tourniquet%0.8|AED%0.8'],`[BLUE][1] somehow finds a whole [locker|backpack|broken vehicle] full of medical supplies in the middle of nowhere.<br>Medicine, bandages, gauze, even a tourniquet and AED!`,p=>{p[1].gain('medicine');p[1].gain('first aid kit');p[1].gain('tourniquet');p[1].gain('AED');});
			new G.act(newItemMult*0.01,['scrappy%0.5|lucky_coin%0.2|artist%0.2|any%0.25 !bikini%0.8|dapper_suit%0.8|parka%0.8|wizard_robe%0.8|survivalist%0.5'],`[BLUE][1] stumbles across an abandoned building.<br>It is some sort of dressing room, with all sorts of outfits, even a magic robe!<br>[1] isn't sure which to wear right now, so [1:they] grab them all.`,p=>{p[1].gain('bikini');p[1].gain('dapper suit');p[1].gain('parka');p[1].gain('wizard robe');});
			new G.act(newItemMult*0.01,['scrappy%0.5|sociopath%0.2|survivalist%0.2|any%0.2 !sword%0.8|axe%0.8|cursed_knife%0.8|peaceful%0.8|kind%0.2','+ scrappy|lucky_coin%0.5|any%0.5 !sword%0.8|axe%0.8|peaceful%0.8'],`[BLUE][1] and [2] stumble across an old battlefield littered with weapons[and|, and though gruesome,] they [decide|team up to|dare each other] to pick through the remains.<br>[1] and [2] leave after grabbing some blades and axes, though [1] gets a weird feeling with the last one [1:they] grabbed...`,p=>{p[1].gain('sword');p[1].gain('axe');p[2].gain('sword');p[2].gain('axe');p[1].gain('cursed knife');});
			
			//Materials -TW
            new G.act(newMatMult*0.4,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|any%0.5 !scrap_metal|naive%0.2'],`[BLUE][1] finds some chunks of metal scrap<br>Maybe [1:they] can make something out of it?`,p=>{p[1].gain('scrap metal');});
            new G.act(newMatMult*0.2,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|marksmen%0.2|any%0.5 !gun_parts|peaceful%0.8|naive%0.2'],`[BLUE][1] finds some old looking gun parts...<br>Now how do they go back together?`,p=>{p[1].gain('gun parts');});
            new G.act(newMatMult*0.1,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|the_gift%0.5|any%0.5 !magic_dust|naive%0.2'],`[BLUE][1] finds a sachet full of faintly glowing dust.<br>Oh no, this stuff is worse than glitter!`,p=>{p[1].gain('magic dust');});
			new G.act(newMatMult*0.3,['scrappy%0.8|inventor%0.2|lucky_coin%0.2|artist%0.2|any%0.5 !roll_of_fabric|naive%0.2'],`[BLUE][1] [finds|stumbles across|scrounges] [various|rolls of|dusty old|unused] fabrics.<br>Might be useful for an outfit or to stay warm.`,p=>{p[1].gain('roll of fabric');});
            
            // With other traits -TW
            new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !big_stick'],`[BLUE][1] was playing with [1:their] pet, when they returned with a big stick!<br>It will make a good club if nothing else.`,p=>{p[1].gain('big stick');});
                new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !big_stick'],`[BLUE][1] was [playing with|training their|practicing their] [1:their] pet rock, tossing them a couple of feet at a time to see if they'll return.<br>After a few tosses, [1:their] pet rock found a stick it was laying next to!`,p=>{p[1].gain('big stick');});
            new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !scrap_metal'],`[BLUE][1] was playing with [1:their] pet when they dug up some metal scraps!<br>Maybe [1:they] can make something out of it?`,p=>{p[1].gain('scrap metal');});
                new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !big_stick'],`[BLUE][1] was trying to find [1:their] pet rock some new friends.<br>While none of the other rocks seemed interested, [1] did find some scraps of shiny metal!`,p=>{p[1].gain('big stick');});
            new G.act(petFindMult*0.1,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !gun_parts|peaceful'],`[BLUE][1] was playing with [1:their] pet they found a box of gun parts!<br>Now how do they go back together?`,p=>{p[1].gain('gun parts');});
                new G.act(petFindMult*0.02,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !gun_parts|peaceful'],`[BLUE][1] was trying to teach their pet rock some new tricks, when they both tripped over a half burried box.<br>Uncovering it, [1] and [1:their] pet rock found some gun parts!`,p=>{p[1].gain('gun parts');});
            new G.act(petFindMult*0.1,['animal_ken%0.5|scrappy%0.5|the_gift%0.5|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !magic_dust'],`[BLUE][1] was playing with [1:their] pet when they returned covered in sparkling dust!<br>Oh no, this stuff is worse than glitter, but maybe it can be useful.`,p=>{p[1].gain('magic dust');});
                new G.act(petFindMult*0.03,['naive%0.2|scrappy%0.5|the_gift%0.5|lucky_coin%0.2|any%0.5 pet_rock !magic_dust'],`[BLUE][1] was playing with [1:their] pet when [1:they] found [1:their] rock covered in sparkling dust!<br>Oh no, this stuff is worse than glitter, but maybe it can be useful.`,p=>{p[1].gain('magic dust');});
			new G.act(petFindMult*0.2,['animal_ken%0.5|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_wolf|pet_tiger|pet_turtle|pet_hawk !roll_of_fabric'],`[BLUE][1] was playing with [1:their] pet when they fetched a [bunch|bundle|roll] of mostly intact fabrics!<br>Might be useful for an outfit or to stay warm.`,p=>{p[1].gain('roll of fabric');});
				new G.act(petFindMult*0.05,['naive%0.2|scrappy%0.5|inventor%0.2|lucky_coin%0.2|any%0.5 pet_rock !roll_of_fabric'],`[BLUE][1] tried to dress up [1:their] pet rock with some paint and clay.<br>[1] stumbled across some [rolls|bundles|unsorted] fabric, now they both can have outfits!`,p=>{p[1].gain('roll of fabric');});
			
            // Finding Pets -TW
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|analytical%0.2|any%0.5 !pet_wolf|sociopath%0.8|survivalist%0.5'],`[BLUE][1] finds a whimpering wolf stuck in a trap...<br>Feeling pity, [1] releases the wolf from the trap, who begins wagging their tail much more like a dog.`,p=>{p[1].gain('pet wolf');});
                new G.act(newPetMult*0.01,['big_stick animal_ken%0.5|peaceful%0.5|kind%0.5|scrappy%0.2|analytical%0.2|any%0.5 !pet_wolf|sociopath%0.8'],`[BLUE][1] practices tossing their big stick as far as they can<br>To their surprise, it's returned by a wild wolf! The two continue to play fetch together.`,p=>{p[1].gain('pet wolf');});
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|bulky%0.2|any%0.5 !pet_turtle|sociopath%0.8|survivalist%0.5'],`[BLUE][[1] takes a seat... only the seat starts moving!<br>[1] feeds their new pet turtle some food to keep them around|[1] releases a massive turtle from an old trap.<br>The turtle seems to have taken a liking to [1]].`,p=>{p[1].gain('pet turtle');});
            new G.act(newPetMult*0.01,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|rich%0.2|any%0.5 !pet_tiger|sociopath%0.8|survivalist%0.5'],`[BLUE][[1] is almost mauled by a raging tiger!<br>[1] removes the thorn from their paw, and the tiger quickly becomes the biggest, scariest, kitten.|[1] finds a starving tiger cub who's lost their mother.<br>[1] begins feeding it and teaching the tiger cub tricks.]`,p=>{p[1].gain('pet tiger');});
            new G.act(newPetMult*0.02,['animal_ken%0.5|peaceful%0.2|kind%0.2|scrappy%0.2|marksmen%0.2|any%0.5 !pet_hawk|sociopath%0.8|survivalist%0.5'],`[BLUE][1] finds an injured bird and nurturs them back to health.<br>The recovered hawk keeps circling around [1].`,p=>{p[1].gain('pet hawk');});
            new G.act(newPetMult*0.02,['peaceful%0.2|naive%0.5|annoying%0.5|scrappy%0.5|any%0.5 !pet_rock|sociopath%0.8|analytical%0.8|survivalist%0.8'],`[BLUE][1] picks up an unusual rock.<br>Maybe [1:they] can teach it some tricks...?`,p=>{p[1].gain('pet rock');});
			
			// Theft - TW & Nyan Cat
			// - Melee
			new G.act(lootDeadMult*0.025,[itemThief+' !peaceful|pitchfork|naive%0.5|meek%0.2','pitchfork dead !nihil'],`[BLUE][1] [stops in their tracks|freezes in fear|gasps in surprise] when [1:they] stumble upon [2]'s lifeless body.<br>Fearing for [1:their] own safety, [1] [grabs|takes|loots] the nearby pitchfork [from the ground|from [2]].`,p=>{p[1].gain('pitchfork');p[2].lose('pitchfork');});
			new G.act(lootDeadMult*0.025,[itemThief+' ninja|any%0.8 !peaceful|sword|naive%0.5|meek%0.2','sword dead !nihil'],`[BLUE][1] [spots|discovers|notices] [2]'s [bloodied|rusty|ornate] sword lying nearby.<br>Feeling that [1:they] could put it to better use, [1] [grabs|takes|loots] it [from the ground|from [2]].`,p=>{p[1].gain('sword');p[2].lose('sword');});
			new G.act(lootDeadMult*0.025,[itemThief+' survivalist|any%0.8 !peaceful|axe|naive%0.5|meek%0.2','axe dead !nihil'],`[BLUE][1] [stumbles upon|finds|comes across] [2]'s [heavy|sharp|old] axe lying nearby.<br>[1:They] feel[s] that it could be useful in the harsh wilderness, and [grabs|takes|loots] it [from the ground|from [2]].`,p=>{p[1].gain('axe');p[2].lose('axe');});
			new G.act(lootDeadMult*0.05,[itemThief+' goth%0.5|ninja%0.5|naive%0.5|any%0.5 !peaceful%0.8|cursed_knife','cursed_knife dead !nihil'],`[RED][1] [notices|spots|discovers] [2]'s [ominous|freaky|bloodied] knife lying nearby.<br>Despite feeling uneasy about it, [1] [grabs|takes|loots] it [from the ground|from [2]], hoping to use it to [2:their] advantage.`,p=>{p[1].gain('cursed knife');p[2].lose('cursed knife');});
			// - Ranged
			new G.act(lootDeadMult*0.025,[itemThief+' annoying|any%0.8 !peaceful|slingshot|naive%0.5','slingshot dead !nihil'],`[BLUE][1] [spies|sees|notices] a [tattered|frayed|handmade] slingshot next to [2]'s body.<br>[1:They] [grabs|takes|loots] it [from the ground|from [2]], thinking it could be a useful tool for hunting or defending [1:themself].`,p=>{p[1].gain('slingshot');p[2].lose('slingshot');});
			new G.act(lootDeadMult*0.025,[itemThief+' ninja%0.8|marksmen%0.5|any%0.5 !peaceful|shuriken|naive%0.5','shuriken dead !nihil'],`[BLUE][1] [notices|spots|sees] some [gleaming|shiny|sharp] [shurikens|throwing knives] lying near [2]\'s body.<br>Quickly, [1:they] [grab|take|loot] them [from the ground|from [2]], thinking they could come in handy in [1:their] next fight.`,p=>{p[1].gain('shuriken');p[2].lose('shuriken');});
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen%0.8|survivalist%0.5|any%0.5 !peaceful|bow|naive%0.5','bow dead !nihil'],`[BLUE][1] [stares at|peers at|notices] the bow at [2]s side. [1] picks it up [as a weapon against|ready to use it against] any [potential enemies|threats].`,p=>{p[1].gain('bow');p[2].lose('bow');});
			new G.act(lootDeadMult*0.05,[itemThief+' pyromania%0.5|inventor%0.5|any%0.5 !peaceful|grenade|naive%0.5','grenade dead !nihil'],`[BLUE][1] [gasps in shock|shudders in fear|gulps nervously] when [1:they] [spots|see] [2] lying dead on the ground.<br>[1] [quickly snatches up|sneaks over and takes|grabs] the  [improved|unused] grenade by [2]s body before [hastily departing|slinking away into the shadows|disappearing into the night].`,p=>{p[1].gain('grenade');p[2].lose('grenade');});
			// Gun
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen|any%0.8 !peaceful|handgun|naive%0.5','handgun dead !nihil'],`[BLUE][1] notices the handgun lying next to [2] and [hurriedly|cautiously] [picks up|takes|grabs] the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe].`,p=>{p[1].gain('handgun');p[2].lose('handgun');});
			new G.act(lootDeadMult*0.025,[itemThief+' marksmen|any%0.8 !peaceful|shotgun|naive%0.5','shotgun dead !nihil'],`[BLUE][1] spots the shotgun lying on the ground next to [2]. Feeling [nervous|anxious|apprehensive], [1] [picks up|takes|grabs] the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe|ensure [1:their] survival].`,p=>{p[1].gain('shotgun');p[2].lose('shotgun');});
			new G.act(lootDeadMult*0.025,[itemThief+' pyromania|any%0.8 !peaceful|flamethrower|naive%0.5','flamethrower dead !nihil'],`[BLUE][1] notices the flamethrower lying near [2]\'s body and [hastily|nervously] [picks up|takes|grabs|steals] the fiery weapon [from the ground|from [2]] to [defend [1:themself]|stay safe].`,p=>{p[1].gain('flamethrower');p[2].lose('flamethrower');});
			new G.act(lootDeadMult*0.025,[itemThief+' inventor|any%0.8 !peaceful|rocket_launcher|naive%0.5|meek%0.2','rocket_launcher dead !nihil'],`[BLUE][1] [hesitantly|cautiously] picks up the rocket launcher lying on the ground next to [2]. Though [1:they] [are scared to|are unsure if [1:they] will] use it, [1] takes the weapon [from the ground|from [2]] to [defend [1:themself]|stay safe|ensure survival].`,p=>{p[1].gain('rocket launcher');p[2].lose('rocket launcher');});
			new G.act(lootDeadMult*0.025,[itemThief+' inventor|any%0.8 !peaceful|lasergun|naive%0.5','lasergun dead !nihil'],`[BLUE][1] [gazes in awe|marvels|is surprised] at the sight of the lasergun lying next to [2]\'s body. [1] [picks up|takes|grabs] the weapon [from the ground|from [2]] with the intention of using it [for protection|to stay safe].`,p=>{p[1].gain('lasergun');p[2].lose('lasergun');});
			// Magic
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|cute%0.5|any%0.5 !magic_wand|peaceful%0.5|naive%0.5','magic_wand dead !nihil'],`[BLUE][1] notices a [sparkling|glowing|shimmering] object near [2]s dead body and [walks towards|approaches|investigates] it.<br>[1] [picks up|steals|loots] the magic wand [from the ground|from [2]] hoping it will [magically keep [1:them] alive|be useful later|keep [1:them] safe].`,p=>{p[1].gain('magic wand');p[2].lose('magic wand');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|goth%0.5|any%0.5 !ancient_scepter|peaceful%0.8|naive%0.5','ancient_scepter dead !nihil'],`[BLUE][1] [comes across|lays their eyes on|discovers] the ancient scepter that a dead [2] had with them.<br>[1] [picks up|steals|loots] the ancient scepter [from the ground|from [2]] hoping to [see how to use it|make better use of it|survive longer than [2] did].`,p=>{p[1].gain('ancient scepter');p[2].lose('ancient scepter');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !wish_ring|peaceful%0.5|naive%0.5','wish_ring dead !nihil'],`[BLUE][1] [notices|spies|sees] the [glowing|shimmering|radiant] wish ring on [2]'s finger.<br>[1] [slides off|steals|loots] the wish ring [from [2]|from [2:their] finger] hoping it will [prove useful|bring good luck].`,p=>{p[1].gain('wish ring');p[2].lose('wish ring');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift%0.5|marksmen%0.5|any%0.5 !lucky_coin|peaceful%0.5|naive%0.5','lucky_coin dead !nihil'],`[BLUE][1] [notices|spots|sees] the lucky coin that [2] had in their possession.<br>[1] [picks up|steals|loots] the lucky coin [off of [2]|from [2]] hoping to [stay alive longer|turn the tide of fate].`,p=>{p[1].gain('lucky coin');p[2].lose('lucky coin');});
			new G.act(lootDeadMult*0.025,[itemThief+' the_gift|any%0.8 !random_orb|peaceful%0.5|naive%0.5','random_orb dead !nihil'],`[BLUE][1] [notices|spots|sees] the [mysterious|mystical|enigmatic] orb that [2] had in their possession.<br>[1] [reaches for|steals|loots] the random item orb [from [2]|off the floor] hoping to [get something useful|find value within it|discover the treasures within].`,p=>{p[1].gain('random orb');p[2].lose('random orb');});
			// Armor
			new G.act(lootDeadMult*0.00625,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|any%0.5 !knight_armor|peaceful%0.8|naive%0.8|cowardly%0.5|meek%0.2','knight_armor dead !nihil'],`[BLUE][1] [stops in their tracks|pauses|stumbles] when [1:they] come across the body of [2].<br>[1] notices the [shiny|durable|impressive] knight armor and [quickly|easily|swiftly] removes it from the [lifeless|lifeless and cold|lifeless and still] [2] for [protection|self-defense|future use].`,p=>{p[1].gain('knight armor');p[2].lose('knight armor');});
			new G.act(lootDeadMult*0.00625,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|any%0.5 !combat_gear|peaceful%0.8|naive%0.8|cowardly%0.5|meek%0.2','combat_gear dead !nihil'],`[BLUE][1] [stops in their tracks|pauses|stumbles] when [1:they] come across the body of [2].<br>[1] notices the [tactical|military|camo] combat gear and [quickly|easily|swiftly] removes it from the [lifeless|lifeless and cold|lifeless and still] [2] for [protection|self-defense|future use].`,p=>{p[1].gain('combat gear');p[2].lose('combat gear');});
			new G.act(lootDeadMult*0.0125,[itemThief+' bulky%0.5|sociopath%0.5|survivalist%0.5|marksmen%0.5|any%0.5 !kevlar_vest|peaceful%0.8|naive%0.8|cowardly%0.5','kevlar_vest !survivalist%0.5|cowardly%0.5 dead !nihil'],`[BLUE][1] [searches|looks through|rifles through] the [clothes|body|vest] of [2] until [1:they] find a kevlar vest.<br>[1] [quickly|briskly|swiftly] removes the vest and puts it on [[1:themself]|for [1:their] safety|for future use].`,p=>{p[1].gain('kevlar vest');p[2].lose('kevlar vest');});
			new G.act(lootDeadMult*0.05,[itemThief+' bulky%0.5|kind%0.5|any%0.5 !kite_shield|peaceful%0.2|naive%0.5','kite_shield dead !nihil'],`[BLUE][1] [notices|spots|sees] the [sturdy|reliable|strong] kite shield that was left by [2]\s body.<br>[1] [quickly|hastily|swiftly] takes the shield and [uses it for protection|puts it to use].`,p=>{p[1].gain('kite shield');p[2].lose('kite shield');});
			new G.act(lootDeadMult*0.05,[itemThief+' stubborn%0.5|kind%0.5|any%0.5 !riot_shield|peaceful%0.2|naive%0.5','riot_shield dead !nihil'],`[BLUE][1] [comes across|stumbles upon|finds] the [strong|sturdy|protective] riot shield that [2] had been [carrying|holding|using] before [2:their] unfortunate demise.<br>[1] [quickly|hastily|swiftly] takes the shield and [uses it for protection|puts it to use].`,p=>{p[1].gain('riot shield');p[2].lose('riot shield');});
			// Medicine
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !first_aid_kit|peaceful%0.2|naive%0.5','first_aid_kit dead !nihil'],`[BLUE][1] [opens|inspects] [2] for any possessions, and finds a first aid kit which [1:they] [grab|take]. [1] figures it could be useful later on.`,p=>{p[1].gain('first aid kit');p[2].lose('first aid kit');});
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !tourniquet|peaceful%0.2|naive%0.5','tourniquet dead !nihil'],`[BLUE][1] [searches [2]s body|loots [2]] and finds a tourniquet. [1] [places it in|attaches it to] [1:their] bag. It might cost a limb, but better safe than sorry.`,p=>{p[1].gain('tourniquet');p[2].lose('tourniquet');});
			new G.act(lootDeadMult*0.025,[itemThief+' medic|any%0.8 !AED|peaceful%0.2|naive%0.5','AED dead !nihil'],`[BLUE][1] [searches|looks through|rifles through] [2]s body and find an AED. [1] [puts it in|attaches it to] [1:their] bag. If [1:they] ever have to use it, it could be a lifesaver.`,p=>{p[1].gain('AED');p[2].lose('AED');});
			new G.act(lootDeadMult*0.05,[itemThief+' medic%0.5|suicidal%0.5|any%0.5 !medicine|peaceful%0.2|naive%0.5','medicine dead !nihil'],`[BLUE][1] [rummages through|searches|inspects] [2]s body and [pockets|takes] [a bottle of|some] medicine. [1] figures [1:they] might need it later.`,p=>{p[1].gain('medicine');p[2].lose('medicine');});
			// Materials
			new G.act(lootDeadMult*0.075,[itemThief+' scrappy%0.5|inventor%0.5|bulky%0.5|any%0.5 !scrap_metal|peaceful%0.5|naive%0.5','scrap_metal dead !nihil'],`[BLUE][1] [rummages|searches|scours] through a dead [2]'s belongings, finding a handful of [scrap metal|metal pieces|metal scraps]. Quietly, [1:they] [decide|plan|intend] to keep it, in case it comes in handy `,p=>{p[1].gain('scrap metal');p[2].lose('scrap metal');});
			new G.act(lootDeadMult*0.075,[itemThief+' scrappy%0.5|inventor%0.5|marksmen%0.5|any%0.5 !gun_parts|peaceful%0.5|naive%0.5','gun_parts dead !nihil'],`[BLUE][1] [finds|spots] a small [bag|satchel|container] containing [gun parts|weapon parts|parts of a gun] near [2]s carcass. Quietly, [1:they] [sneak|take|grab] the [bag|satchel|container] and makes off with [1:their] loot.`,p=>{p[1].gain('gun parts');p[2].lose('gun parts');});
			new G.act(lootDeadMult*0.05,[itemThief+' scrappy%0.5|inventor%0.5|the_gift%0.5|any%0.5 !magic_dust|peaceful%0.5|naive%0.5','magic_dust dead !nihil'],`[BLUE][1] [carefully picks up|gently takes|slowly gathers] some [magic|magical|colorful|colourful] dust off [2]'s [clothing|body|belongings]. Planning ahead, [1:they] [hope|wish|plan] to use it somehow later.`,p=>{p[1].gain('magic dust');p[2].lose('magic dust');});
			new G.act(lootDeadMult*0.05,[itemThief+' scrappy%0.5|inventor%0.5|artist%0.5|any%0.5 !roll_of_fabric|peaceful%0.5|naive%0.5','roll_of_fabric dead !nihil'],`[BLUE][1] [unfurls|unrolls|unwinds] a roll of fabric found in [2]'s possession. [1] [considers|think about|ponder on] whether or not to take it, and conclude it is better safe than sorry.`,p=>{p[1].gain('roll of fabric');p[2].lose('roll of fabric');});
			
            // Rich AirDrop! -TW
            new G.act(airDropMult*0.2,['rich !dapper_suit|survivalist%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a fresh change of clothes. The dapper suit is quite fetching.`,p=>{p[1].gain('dapper suit');});
            new G.act(airDropMult*0.05,['rich marksmen|any%0.5 !handgun|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a handgun with plenty of ammo!`,p=>{p[1].gain('handgun');});
            new G.act(airDropMult*0.05,['rich annoying|any%0.5 !grenade|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a single grenade...`,p=>{p[1].gain('grenade');});
            new G.act(airDropMult*0.04,['rich marksmen|any%0.5 !shotgun|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a shotgun and shells!`,p=>{p[1].gain('shotgun');});
            new G.act(airDropMult*0.01,['rich sociopath|any%0.5 !rocket_launcher|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a whole rocket launcher! Now that's a game changer!`,p=>{p[1].gain('rocket launcher');});
            new G.act(airDropMult*0.02,['rich pyromania|any%0.5 !flamethrower|peaceful%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a dangerous looking flamethrower`,p=>{p[1].gain('flamethrower');});
            new G.act(airDropMult*0.03,['rich bulky|any%0.5 !combat_gear|meek%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a complete suit of tactical combat gear!`,p=>{p[1].gain('combat gear');});
			new G.act(airDropMult*0.1,['rich medic|any%0.5 !first_aid_kit|suicidal%0.5'],`[BLUE][1] uses their financial connections to smuggle an airdrop.<br>Inside the package, [1] finds a kit of first aid supplies.`,p=>{p[1].gain('first aid kit');});
			
            new G.act(airDropMult*0.2,['rich !dapper_suit%0.5|survivalist%0.5','- !dapper_suit%0.8|survivalist%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a fresh change of clothes. The dapper suit is quite fettching.`,p=>{p[2].gain('dapper suit');});
            new G.act(airDropMult*0.05,['rich marksmen|any%0.5 !shotgun%0.5|peaceful%0.5','- !handgun%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a handgun with plenty of ammo!`,p=>{p[2].gain('handgun');});
            new G.act(airDropMult*0.05,['rich annoying|any%0.5 !grenade%0.5|peaceful%0.5','- !grenade%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a single grenade...`,p=>{p[2].gain('grenade');});
            new G.act(airDropMult*0.04,['rich marksmen|any%0.5 !shotgun%0.5|peaceful%0.5','- !shotgun%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a shotgun and shells!`,p=>{p[2].gain('shotgun');});
            new G.act(airDropMult*0.01,['rich sociopath|any%0.5 !rocket_launcher%0.5|peaceful%0.5','- !rocket_launcher%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a whole rocket launcher! Now that's a game changer!`,p=>{p[2].gain('rocket launcher');});
            new G.act(airDropMult*0.02,['rich pyromania|any%0.5 !flamethrower%0.5|peaceful%0.5','- !flamethrower%0.8|peaceful%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a dangerous looking flamethrower`,p=>{p[2].gain('flamethrower');});
            new G.act(airDropMult*0.03,['rich bulky|any%0.5 !combat_gear%0.5|meek%0.5','- !combat_gear%0.8|meek%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [2] finds a complete suit of tactical combat gear!`,p=>{p[2].gain('combat gear');});
			new G.act(airDropMult*0.1,['rich medic|any%0.5 !first_aid_kit%0.5|suicidal%0.5','- !first_aid_kit%0.8|suicidal%0.5'+itemThief],`[BLUE][1] uses their financial connections to smuggle an airdrop, but [2] steals it before [1] can find it!<br>Inside the package, [1] finds a kit of first aid supplies.`,p=>{p[2].gain('first aid kit');});

            
			// Crafting for self -TW
			new G.act(itemCraftMult*0.04,['scrap_metal scrappy%0.2|artist%0.2|any%0.5 !big_stick|peaceful|inventor%0.2'],`[BLUE][1] attaches [1:their] metal scraps to a stick, making a big, crude, club`,p=>{p[1].gain('big stick');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.03,['scrap_metal scrappy%0.2|artist%0.2|any%0.5 !pitchfork|peaceful%0.5|inventor%0.5'],`[BLUE][1] fashions a new pitchfork from [1:their] scrap metal.<br>Turns out most of the scrap was from some farm tools.`,p=>{p[1].gain('pitchfork');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !sword|peaceful'],`[BLUE][1] forges the spare metal [1:they] found into a fine blade<br>[1] practices swinging it around in the air.`,p=>{p[1].gain('sword');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !axe|peaceful'],`[BLUE][1] takes the time to forge an axe head out of [1:their] spare chunks of metal.<br>The new axe is crude, but effective.`,p=>{p[1].gain('axe');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !shuriken|peaceful'],`[BLUE][1] forges the scraps of metal into various throwing knives.<br>They may not all match, but they should still be deadly.`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.025,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !bow|peaceful'],`[BLUE][1] fletches some arrows and a bow together in [1:their] spare time.<br>With [1:their] metal scrap acting as arrowheads, [1] soon has a new weapon.`,p=>{p[1].gain('bow');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.02,['scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|kind%0.2|any%0.5 !kite_shield'],`[BLUE][1] carefully takes the time to forge reinforcements for a wooden base.<br>Eventually, [1] has an effective kite shield for [1:their] protection!`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['scrap_metal inventor%0.5|any%0.2 !knight_armor'],`[BLUE][1] cleverly forges a whole suit of armor.<br>[1] knew that scrap metal would be put to good use!`,p=>{p[1].gain('knight armor');p[1].lose('scrap metal');});
            new G.act(itemCraftMult*0.1,['gun_parts scrappy%0.2|artist%0.2|any%0.5 !handgun|peaceful|inventor%0.5'],`[BLUE][1] manages to piece togeather a simple working gun from the parts [1:they] found.`,p=>{p[1].gain('handgun');p[1].lose('gun parts');});
                new G.act(itemCraftMult*0.06,['gun_parts !shotgun|peaceful|inventor%0.5'],`[BLUE][1] begins making shells for the new shotgun [1:they] finished building.<br>[1]'s gun parts found a good use.`,p=>{p[1].gain('shotgun');p[1].lose('gun parts');});
				new G.act(itemCraftMult*0.03,['gun_parts inventor%0.5|pyromania%0.8|scrappy%0.25|artist%0.25|any%0.5 !flamethrower|peaceful'],`[BLUE][1] pieces togeather the gun parts [1:they] found into a flamethrower!<br>Now this is a fire arm!`,p=>{p[1].gain('flamethrower');p[1].lose('gun parts');});
                new G.act(itemCraftMult*0.01,['gun_parts inventor%0.5|any%0.2 !lasergun|peaceful'],`[BLUE][1] hides away in a surge of inspiration.<br>When [1:g|he returns|she returns|they return], [1:their] assembled gunparts glow with a new scientific hum.`,p=>{p[1].gain('lasergun');p[1].lose('gun parts');});
            new G.act(itemCraftMult*0.04,['roll_of_fabric scrappy%0.2|any%0.5 !leather_scraps|inventor%0.2|artist%0.5'],`[BLUE][1] makes a mess of [1:their] roll of fabric...<br>The once high quality leather is now merely scraps of armor.`,p=>{p[1].gain('leather scraps');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.04,['roll_of_fabric scrappy%0.2|artist%0.2|any%0.5 !slingshot|peaceful|inventor%0.5'],`[BLUE][1] tries out a sling made from [1:their] fabric, but it's hard to use...<br>[1] settles for turning it into a slingshot instead.`,p=>{p[1].gain('slingshot');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !bikini|inventor%0.5'],`[BLUE][1] works on a new outfit with [1:their] rolls of fabric.<br>There wasn't much fabric to work with, but [1]'s new bikini sure is stunning!`,p=>{p[1].gain('bikini');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !dapper_suit|inventor%0.5'],`[BLUE][1] measures [1:themself] before tailoring [1:their] fabric.<br>It's a lot of hard work, but [1]'s new dapper suit is priceless!`,p=>{p[1].gain('dapper suit');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrappy%0.2|artist%0.5|any%0.5 !parka|inventor%0.5'],`[BLUE][1] is tired of wearing [1:their] bundles of fabric for warmth...<br>[1] fashions the fabric into a proper parka instead.`,p=>{p[1].gain('parka');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.01,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !kevlar_vest'],`[BLUE][1] realizes some of [1:their] fabric is kevlar!<br>A new vest could be pricelessly lifesaving, [1] works on one right away.`,p=>{p[1].gain('kevlar vest');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.2|medic%0.5|any%0.5 !tourniquet'],`[BLUE][1] tries fashioning a tourniquet from [1:their] fabric.<br>[q] takes a while to find a proper windlass rod, but the new tourniquet is ready for an emergency.`,p=>{p[1].gain('tourniquet');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.01,['roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.2|medic%0.5|any%0.5 !first_aid_kit'],`[BLUE][1] takes the time to sterilize rolls of cloth for bandages.<br>It's time consuming, but a first aid kit is worth the effort.`,p=>{p[1].gain('first aid kit');p[1].lose('roll of fabric');});
			new G.act(itemCraftMult*0.1,['magic_dust scrappy%0.2|artist%0.2|the_gift%0.2|any%0.5 !magic_wand|inventor%0.5'],`[BLUE][1] spills [1:their] magic dust over a stick.<br>The new wand begins to glow softly, leaving a trail of sparkles`,p=>{p[1].gain('magic wand');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.02,['magic_dust clumsy|any%0.5 !lucky_coin'],`[BLUE][1] trips and spills their magic dust everywhere! What a waste...<br>Wait, [1] finds a shimmering coin that was hidden in the dust...?`,p=>{p[1].gain('lucky coin');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.02,['magic_dust inventor%0.5|the_gift%0.5|artist%0.2|goth%0.2|any%0.5 !ancient_scepter|peaceful%0.5'],`[BLUE][1] finds an old shadowy orb that whispers softly...<br>[1] pours the magic dust on it, as it swirls cloudly back to life.`,p=>{p[1].gain('ancient scepter');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.05,['magic_dust inventor%0.5|pyromania%0.2|unstable%0.2|scrappy%0.2|artist%0.2|any%0.5 !grenade|peaceful'],`[BLUE][1] tries compacting as much magic dust into as small of a container as possible.<br>The new makeshift grenade cracks unstably.`,p=>{p[1].gain('grenade');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.01,['magic_dust inventor%0.5|artist%0.5|the_gift%0.5|any%0.2 !wizard_robe'],`[BLUE][1] finds an old robe, and decorates it with [1:their] magic dust.<br>[1] slips on [1:their] new wizard cosplay.`,p=>{p[1].gain('wizard robe');p[1].lose('magic dust');});
			new G.act(itemCraftMult*0.04,['scrap_metal roll_of_fabric inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !riot_shield'],`[BLUE][1] finds a large chunk of durable plexiglass.<br>[1] uses [1:their] metal scraps to make a rim and handle for [1:their] new makeshift riot shield.`,p=>{p[1].gain('riot shield');p[1].lose('scrap metal');p[1].lose('roll of fabric');});
				new G.act(itemCraftMult*0.02,['gun_parts scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !rocket_launcher|peaceful'],`[BLUE][1] cleverly figures out how to use [1:their] gun parts and scrap metal to make a whole rocket launcher.<br>[1] begins working on the ammo next...`,p=>{p[1].gain('rocket launcher');p[1].lose('gun parts');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['gun_parts magic_dust inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !lasergun|peaceful'],`[BLUE][1] tries assembling a gun and loading it with magic dust for ammo.<br>[1] nearly falls back as the magically glowing gun fires a laser blast!`,p=>{p[1].gain('lasergun');p[1].lose('gun parts');p[1].lose('magic dust');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric big_stick inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !tourniquet'],`[BLUE][1] fashions an effective tourniquet out of [1:their] stick and fabric.<br>Hopefully [1] doesn't need it later.`,p=>{p[1].gain('tourniquet');p[1].lose('roll of fabric');p[1].lose('big stick');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric medicine inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !first_aid_kit'],`[BLUE][1] fashions bandages and sterile wraps with [1:their] fabric and medicine.<br>This new first aid kit could be life saving!`,p=>{p[1].gain('first aid kit');p[1].lose('roll of fabric');p[1].lose('medicine');});
				new G.act(itemCraftMult*0.03,['roll_of_fabric scrap_metal inventor%0.5|scrappy%0.2|artist%0.2|any%0.5 !combat_gear'],`[BLUE][1] realizes some of the fabric is kevlar!<br>With some forged scrap metal and full body tailoring, the new combat gear looks ready for war!`,p=>{p[1].gain('combat gear');p[1].lose('roll of fabric');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.01,['magic_dust scrap_metal inventor%0.5|scrappy%0.2|the_gift%0.5|artist%0.2|any%0.5 !wish_ring'],`[BLUE][1] forges [1:their] metal scraps into a ring, and cools it in the magic dust.<br>It sparkles softly in the light...`,p=>{p[1].gain('wish ring');p[1].lose('magic dust');p[1].lose('scrap metal');});
				new G.act(itemCraftMult*0.03,['magic_dust roll_of_fabric inventor%0.5|scrappy%0.2|the_gift%0.5|artist%0.5|any%0.5 !wizard_robe'],`[BLUE][1] tailors a custom fitting robe for [1:themself]<br>With the help of [1:their] magic dust, the new robe begins to flutter with power.`,p=>{p[1].gain('wizard robe');p[1].lose('magic dust');p[1].lose('roll of fabric');});
            // Crafting for teammates -TW
				// TODO - write new teamwork craft. (Friendly and Leader-inspired)
			new G.act(itemCraftMult*0.01,['inventor kind|any%0.5','+ scrap_metal !peaceful'],`[BLUE][2] asks [1] for help with [forging|finding a use for] the metal [scrap|scraps] [2:they] found.<br>[1] stokes an improvised forge, and soon [2] has a new sword to protect themselves!`,p=>{p[2].lose('scrap metal');p[2].gain('sword');});

            // Random Item Orb -TW
            // - Melee
			new G.act(0.025,['random_orb !big_stick'],`[BLUE][1] can't wait to get a cool item from [1:their] orb.<br>It begins to shine, and turns into a really big stick.`,p=>{p[1].gain('big stick');p[1].lose('random_orb');});
			new G.act(0.025,['random_orb !pitchfork'],`[BLUE][1] almost loses [1:their] random item orb, but when they find it, it turns into a pitchfolk.<br>[1] supposes they might be able to pitch it at something.`,p=>{p[1].gain('pitchfork');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !sword'],`[BLUE][1] pretends to draw one of the items appearing on the surface of [1:their] orb.<br>To [1:their] surprise, they draw a sword out from the orb as it fades away.`,p=>{p[1].gain('sword');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !axe'],`[BLUE][1] shakes their random item orb. It turns into an axe, upping [1:their] chances of survival somewhat.`,p=>{p[1].gain('axe');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !cursed_knife'],`[RED][1] ponders [1:their] orb, as it begins to glow a dark red...<br>The orb hatches like an egg, leaving an eerie knife.`,p=>{p[1].gain('cursed knife');p[1].lose('random orb');});
			// - Ranged
			new G.act(0.03125,['random_orb !slingshot'],`[BLUE][1] watches [1:their] orb slowly turn into an item.<br>Hey, listen! It's just a slingshot now.`,p=>{p[1].gain('slingshot');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !slingshot'],`[BLUE]nearly trips and drops [1:their] random item orb.<br>As it lands, it shatters into a myriad throwing knives and shuriken.`,p=>{p[1].gain('shuriken');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !bow'],`[BLUE][1] ponders [1:their] orb, before a bunch of arrows and a whole bow fly out.<br>After taking cover, [1] realizes the bow is still intact.`,p=>{p[1].gain('bow');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !grenade'],`[BLUE][1] ponders [1:their] orb. It begins to shrink, leaving behind only a single grenade.`,p=>{p[1].gain('grenade');p[1].lose('random orb');});
			// - Firearms
			new G.act(0.025,['random_orb !handgun'],`[BLUE][1] reaches into [1:their] orb and pulls out a gun!<br>It appears fully loaded.`,p=>{p[1].gain('handgun');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !shotgun'],`[BLUE][1] ponders [1:their] orb, many items flash by, before settling on a shotgun.`,p=>{p[1].gain('shotgun');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !rocket_launcher'],`[BLUE][1] watches [1:their] orb blink rapidly, before a whole rocket launcher falls out of it.`,p=>{p[1].gain('rocket launcher');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !flamethrower'],`[BLUE]After settling on a fire-flower, [1]'s orb has turned into a whole flamethrower! Dangerous!`,p=>{p[1].gain('flamethrower');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !lasergun'],`[BLUE]Whoah! [1]'s random orb turned into a laser gun!<br>[1:g|He starts|She starts|They start] swinging it around making "pew pew" sounds, before [1:they] realize [1:they] can just pull the trigger and make those sounds for real.`,p=>{p[1].gain('lasergun');p[1].lose('random orb');});
			// - Magic
			new G.act(0.02625,['random_orb !magic_wand'],`[BLUE][1] gets excited as [1:their] orb shows an invincibility star, only for it to turn into a magic wand instead.`,p=>{p[1].gain('magic wand');p[1].lose('random orb');});
			new G.act(0.02625,['random_orb !ancient_scepter'],`[BLUE][1] ponders [1:their] orb as it begins to glow brighter, an elegant handle growing from it.<br>Arcane magic courses through [1:their] body as [1:their] fingers touch the carved wood.`,p=>{p[1].gain('ancient scepter');p[1].lose('random orb');});
			new G.act(0.02625,['random_orb !wish_ring'],`[BLUE][1] finds [1:their] random item orb turned into some sort of ring.<br>[1] wishes for something better, only for the ring to start glowing brightly.<br>Afraid to ruin [1:their] chance at wishes, [1:they] start to consider more carefully.`,p=>{p[1].gain('wish ring');p[1].lose('random orb');});
            new G.act(0.02625,['random_orb !lucky_coin'],`[BLUE][1] drops [1:their] orb and panics. Trying to find it, [1:they] only find a single coin instead...`,p=>{p[1].gain('lucky coin');p[1].lose('random orb');});
            new G.act(0.02,['random_orb'],`[1] is ready to recieve an item from [1:their] orb.<br>The myriad items on it's surface slow down, before settling on...<br>... another orb.`);
            // - Clothing
			new G.act(0.025,['random_orb !leather_scraps'],`[BLUE][1] ponders [1:their] orb, only for it to hatch into... some scraps of leather.<br>[1] pretends it's a new suit of armor, better than nothing!`,p=>{p[1].gain('leather scraps');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !bikini'],`[BLUE][1] finds [1:their] random orb has become a skimpy bikini.<br>[1] could use a new change of clothes...`,p=>{p[1].gain('bikini');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !dapper_suit'],`[BLUE][1] ponders the mystery of [1:their] orb, only for it to become a dazzling suit.<br>[1] is looking quite fancy now!`,p=>{p[1].gain('dapper suit');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !wizard_robe'],`[BLUE][1] wonders what random upgrade [1:their] orb will give. Only for it to turn into a wizard robe!<br>[1:g|He slips|She slips|They slip] it on, scattering sparkles everywhere.`,p=>{p[1].gain('wizard robe');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !parka'],`[BLUE][1] wonders if [1:their] orb can protect [1:them].<br>It turns into a comfy looking parka, that might work.`,p=>{p[1].gain('parka');p[1].lose('random orb');});
			// - Armor
			new G.act(0.025,['random_orb !knight_armor'],`[BLUE][1] rubs [1:their] shiny item orb, only for it to change into a whole suit of armor!<br>[1] feels quite safe now!`,p=>{p[1].gain('knight armor');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !combat_gear'],`[BLUE][1] finds [1:their] random item orb has turned into a suit of Combat Gear!<br>It provides optimal protection for the whole body, without sacrificing flexibility.`,p=>{p[1].gain('combat gear');p[1].lose('random orb');});
			new G.act(0.025,['random_orb !kevlar_vest'],`[BLUE][1] ponders [1:their] orb, as it settles on a vest.<br>The material looks like kevlar, so [1] puts it on for now.`,p=>{p[1].gain('kevlar vest');p[1].lose('random orb');});
            new G.act(0.025,['random_orb !kite_shield'],`[BLUE][1] tosses [1:their] orb around a little, only for it to turn into a heavy shield mid-air.<br>[1] almost drops it on their foot, but at least it looks useful.`,p=>{p[1].gain('kite shield');p[1].lose('random orb');});
            new G.act(0.025,['random_orb !riot_shield'],`[BLUE][1]'s random orb turns into a modern riot shield!<br>[1] begins crouching and acting all tactical!`,p=>{p[1].gain('riot shield');p[1].lose('random orb');});
			// - Medicine
			new G.act(0.03125,['random_orb !medicine'],`[BLUE][1] is getting a headache from staring at [1:their] item orb too often.<br>As if in response, the orb turns out to be a container of medicine all along!`,p=>{p[1].gain('medicine');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !first_aid_kit'],`[BLUE][1] is very worried about surviving when [1:they] could get hurt at any moment.<br>[1]'s random item orb cracks open, revealing a swath of medical supplies.`,p=>{p[1].gain('first aid kit');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !tourniquet'],`[BLUE][1] has a nightmare about losing their arm.<br>Desperate to stop the bleeding, [1:they] tries to make a tourniquet, only for [1:their] random item orb to transform into a real one!`,p=>{p[1].gain('tourniquet');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !AED'],`[BLUE][1] while [playing|messing] with [1:their] item orb, [1:they] find a button...<br>"Please attach pads to patient"<br>Oh, it's really an oddly shaped Automated External Defibrillator. Time to save lives!`,p=>{p[1].gain('AED');p[1].lose('random orb');});
			// - Medical
			new G.act(0.03125,['random_orb !scrap_metal'],`[BLUE][1] ponders [1:their] orb<br>The surface dulls until it looks like a metal egg, and falls into pieces.<br>Maybe these scraps can still be useful?`,p=>{p[1].gain('scrap metal');p[1].lose('random orb');});
            new G.act(0.03125,['random_orb !gun_parts|peaceful'],`[BLUE][1] is almost about to draw a gun out of [1:their] random item orb, when the whole thing falls apart.<br>How do these parts go back together?!`,p=>{p[1].gain('gun parts');p[1].lose('random orb');});
			new G.act(0.03125,['random_orb !roll_of_fabric'],`[BLUE][1] [plays with|rolls] [1:their] random [item |]orb around to pass the time, but it begins to unravel.<br>Soon, all that's left of the orb is various [textiles|fabrics].`,p=>{p[1].gain('roll of fabric');p[1].lose('random orb');});
            new G.act(0.03125,['random_orb !magic_dust'],`[BLUE][1] trips and drops [1:their] random item orb and it cracks.<br>It isn't showing pictures of items anymore, but it seems to be full of a rainbow of dusty sparkles.`,p=>{p[1].gain('magic dust');p[1].lose('random orb');});
            
			// Item Loss
			// - Melee 10%
			new G.act(baseItemLoss*0.03,['big_stick clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|peaceful%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]While training [1] accidentally whacks [1:their] big stick against a [tree|rock], which snaps it in half.`,p=>{p[1].lose('big stick');});
			new G.act(baseItemLoss*0.02,['pitchfork clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s pitchfork [randomly|suddenly|unexpectedly] [becomes [a stick|useless|broken]|falls apart [in practice|during maintenance]|gets stuck in [the ground|a tree|a rock|the air]].`,p=>{p[1].lose('pitchfork');});
			new G.act(baseItemLoss*0.02,['sword clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|ninja%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s sword got stuck in a [tree|stone] and [1:they] couldn't get it out.`,p=>{p[1].lose('sword');});
			new G.act(baseItemLoss*0.02,['axe clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s axe was smashed into a bunch of pieces when [1] tried to chop a tree with it.`,p=>{p[1].lose('axe');});
			new G.act(baseItemLoss*0.02,['cursed_knife wish_ring%0.8|lucky_coin%0.5|peaceful%0.2|stubborn%0.2|any%0.2 !goth%0.8|sociopath%0.8|ninja%0.5|scrappy%0.5'],`[1] wishes they could just be done with their cursed knife once and for all.<br>By their wish or some twist of fate, the knife is gone when [1:they] next sleeps.`,p=>{p[1].lose('cursed knife');});
			// - Ranged 12%
			new G.act(baseItemLoss*0.03,['slingshot clumsy%0.5|naive%0.2|bulky%0.2|any%0.5 !scrappy%0.5|annoying%0.2|survivalist%0.2'],`[RED][1] pulled [1:their] slingshot too hard, and it [snapped|shattered] into [4|5|6|8|a thousand] pieces.`,p=>{p[1].lose('slingshot');});
			new G.act(baseItemLoss*0.02,['shuriken clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|ninja%0.5|survivalist%0.2|bulky%0.2'],`[RED][1] threw all of [1:their] shuriken at a tree for practice.<br>Despite trying as hard as possible, they [1:they] couldn't pull them out.`,p=>{p[1].lose('shuriken');});
			new G.act(baseItemLoss*0.02,['bow clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2'],`[RED][1]'s bowstring [snapped|set aflame|ripped apart] after it accidentally slid it against [some rocks|a branch|some tall grass|the ground].`,p=>{p[1].lose('bow');});
			new G.act(baseItemLoss*0.05,['grenade clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|survivalist%0.2|analytical%0.2'],`[RED][1] realises that [1:their] grenade never even had a pin, rendering it useless.`,p=>{p[1].lose('grenade');});
			// - Firearms 12%
			new G.act(baseItemLoss*0.02,['handgun clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]All of [1]'s handgun's ammo was accidentally dropped [on the ground without [1:them] realizing|into water before [1:they] could save it].`,p=>{p[1].lose('handgun');});
			new G.act(baseItemLoss*0.02,['shotgun clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1] incorrectly loaded the shotgun, causing it to [spontaneously combust|permanently jam|blow up next time it was fired].`,p=>{p[1].lose('shotgun');});
			new G.act(baseItemLoss*0.025,['flamethrower clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|pyromania%0.5|inventor%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s flamethrower ran out of flames to throw and there is no more fuel in sight...`,p=>{p[1].lose('flamethrower');});
			new G.act(baseItemLoss*0.025,['rocket_launcher clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s rocket launcher was [breached|shot|shattered] through by a [tiny|moderately|massive] sized rock flying at [1|2|3]00 km/s.`,p=>{p[1].lose('rocket_launcher');});
			new G.act(baseItemLoss*0.03,['lasergun clumsy%0.5|peaceful%0.5|naive%0.2|any%0.5 !scrappy%0.5|marksmen%0.5|analytical%0.2|inventor%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1] tried to shoot [1:their] lasergun before realising that it's expiration date has already passed and [1:they] can't use it anymore.`,p=>{p[1].lose('lasergun');});
			// - Magic 20%
			new G.act(baseItemLoss*0.05,['magic_wand clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|goth%0.2|lucky_coin%0.2'],`[RED][1] [shakes [1:their] magic wand, but it seems it's used up the last of its magic.<br>The star at the tip has grown dull and useless; [1] tosses it aside|accidentally used [1:their] magic wand wrong and it flew away from [1:them]].`,p=>{p[1].lose('magic wand');});
			new G.act(baseItemLoss*0.02,['ancient_scepter clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|goth%0.2|lucky_coin%0.2'],`[RED][1]'s ancient scepter [randomly became|suddenly became|finally became|revealed it was] [sentient|sapient|self aware] and grew tired of [1], teleporting away to the [4|5|6]th dimension.`,p=>{p[1].lose('ancient sceptor');});
			new G.act(baseItemLoss*0.02,['lucky_coin clumsy%0.5|naive%0.2|rich%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED][1] tossed [1:their] lucky coin and it landed on it's rim, causing it to vanish out of existence.`,p=>{p[1].lose('lucky coin');});
			new G.act(baseItemLoss*0.1,['wish_ring clumsy%0.5|naive%0.2|goth%0.2|any%0.5 !scrappy%0.2|the_gift%0.5|analytical%0.2|lucky_coin%0.2'],`[1] tries to make a wish... [1:g|His|Her|Their] wish ring starts emitting a rancid smoke!<br>[1:g|He throws|She throws|They throw] it to the ground, where it fizzles and burns away in a crackling of angry sparkles.`,p=>{p[1].lose('wish ring');});
			new G.act(baseItemLoss*0.01,['random_orb clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|lucky_coin%0.5'],`[RED][1]'s random item orb is finally ready to transform!<br>After shining a [myriad|thousand] colo[u|]rs, it shines bright and leaves... nothing[| but air]!`,p=>{p[1].lose('random orb');});
			// - Clothing 5%
			new G.act(baseItemLoss*0.02,['leather_scraps clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1][ ripped [1:their] leather scraps in a wrong place|'s worn scraps finally fall apart], rendering them useless.`,p=>{p[1].lose('leather scraps');});
			new G.act(baseItemLoss*0.005,['bikini clumsy%0.5|naive%0.2|lunatic%0.2|any%0.5 !scrappy%0.5|survivalist%0.5|analytical%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1]'s bikini got lost in a pile of [50|100|250] other identical bikinis.<br>There's no way [1] will ever find [1:their] bikini again!`,p=>{p[1].lose('bikini');});
			new G.act(baseItemLoss*0.005,['dapper_suit clumsy%0.5|devious%0.2|seductive%0.2|naive%0.2|any%0.5 !scrappy%0.5|annoying%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1] was too good for [1:their] dapper suit to handle, causing it to burn without a trace the moment [1:they] put it on.`,p=>{p[1].lose('dapper suit');});
			new G.act(baseItemLoss*0.012,['parka clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|bulky%0.2|animal_ken%0.5|lucky_coin%0.2'],`[RED][1]'s parka is ripped apart by a hoard of [angry|nearby|rampaging] [pigs|crows|pidgeons].`,p=>{p[1].lose('parka');});
			new G.act(baseItemLoss*0.008,['wizard_robe clumsy%0.5|naive%0.2|analytical%0.2|any%0.5 !scrappy%0.5|artist%0.2|lucky_coin%0.2'],`[RED][1]'s robe has [finally|slowly|suddenly] lost all its glitter and pazazz.<br>The magic within its [threads|fabric] has finally run out.`,p=>{p[1].lose('wizard robe');});
			// - Armor 5%
			new G.act(baseItemLoss*0.005,['knight_armor clumsy%0.5|naive%0.2|meek%0.5|cowardly%0.2|any%0.5 !scrappy%0.5|bulky%0.5|survivalist%0.2|lucky_coin%0.2'],`[RED]Knight Armor was too [heavy|hard to maintain] for [1:them], causing [1:them] to [trip|fall down|struggle with] and break the most important pieces.`,p=>{p[1].lose('knight armor');});
			new G.act(baseItemLoss*0.005,['combat_gear clumsy%0.5|naive%0.2|glasses%0.2|any%0.5 !scrappy%0.5|analytical%0.2|marksmen%0.2|survivalist%0.2|lucky_coin%0.2'],`[RED][1]'s combat gear was hidden so well by the environment that when [1] wanted to put it back on, [1:they] couldn't find it.`,p=>{p[1].lose('combat gear');});
			new G.act(baseItemLoss*0.01,['kevlar_vest clumsy%0.5|naive%0.2|sociopath%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|animal_ken%0.5|cowardly%0.2|lucky_coin%0.2'],`[RED][1]'s kevlar vest got ripped apart in an encounter with a[ tiger| boar|n eagle].`,p=>{p[1].lose('kevlar vest');});
			new G.act(baseItemLoss*0.015,['kite_shield clumsy%0.5|naive%0.2|bulky%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|analytical%0.2|lucky_coin%0.2'],`[RED][1] [jammed|bumped|slammed] [1:their] shield into a [tree|rock] really hard while holding it.<br>The shield cracked and some of it fell apart. It's now too unweildly to be useful.`,p=>{p[1].lose('kite shield');});
			new G.act(baseItemLoss*0.015,['riot_shield clumsy%0.5|naive%0.2|inventor%0.2|any%0.5 !scrappy%0.5|survivalist%0.2|anaytlical%0.2|lucky_coin%0.2'],`[RED][1]'s riot shield [shattered|broke|cracked in half] when testing it's durability when [1:they] tried dropping a [brick|brick|brick|boulder||boulder|secret cache of explosives] on it.`,p=>{p[1].lose('riot shield');});
			// - Medicine 15%
			new G.act(baseItemLoss*0.05,['medicine clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|animal_ken%0.2|analytical%0.2|survivalist%0.2'],`[RED][1]'s medicine seems to have [expired|run out|gone stale].`,p=>{p[1].lose('medicine');});
			new G.act(baseItemLoss*0.03,['first_aid_kit clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|survivalist%0.2'],`[RED][1]'s first aid kit was [stolen by [a few|a bunch of|a massive number of] [raccoons|maccaws|magpies|bears]|fully used up, now out of enough supplies to be of practical use].`,p=>{p[1].lose('first aid kit');});
			new G.act(baseItemLoss*0.04,['tourniquet clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.5|survivalist%0.2'],`[RED][1] practices with [1:their] tourniquet just in case, but it rips inhalf with the [4|5|6]th twist.`,p=>{p[1].lose('tourniquet');});
			new G.act(baseItemLoss*0.03,['AED clumsy%0.5|naive%0.2|cowardly%0.2|any%0.5 !scrappy%0.5|medic%0.2|survivalist%0.2'],`[RED][1] tried turning on [1:their] AED, but the batteries seem to have died...`,p=>{p[1].lose('AED');});
			// - Material 20%
			new G.act(baseItemLoss*0.04,['scrap_metal clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|survivalist%0.2'],`[RED][1] tried [forging/trading] [1:their] scrap metal but only ended up with [slag|a hat].`,p=>{p[1].lose('scrap metal');});
			new G.act(baseItemLoss*0.04,['gun_parts clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|marksmen%0.5|survivalist%0.2'],`[RED][1] finally managed to piece togeather [1:their] gun parts, but when test firing, the whole thing fell apart into [impossibly small pieces|too many directions to track|even more broken and unusable parts].`,p=>{p[1].lose('gun parts');});
			new G.act(baseItemLoss*0.04,['roll_of_fabric clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|inventor%0.5|artist%0.5|survivalist%0.2'],`[RED][1]'s roll of fabric [fell|was dropped] into [sharp rocks|brambles|rubble] and is ripped and torn in the process.`,p=>{p[1].lose('roll of fabric');});
			new G.act(baseItemLoss*0.08,['magic_dust clumsy%0.5|naive%0.2|any%0.5 !scrappy%0.5|the_gift%0.5|inventor%0.2|artist%0.2|survivalist%0.2'],`[RED][1] trips and spills [1:their] magic dust everywhere.<br>[1] is going to be finding sparkles for weeks...`,p=>{p[1].lose('magic dust');});
			// - Pets 1%
			new G.act(baseItemLoss*0.00125,['pet_wolf clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s wolf chased a [bunny|deer|bird] deep in the [forest|wilds] and was lost...`,p=>{p[1].lose('pet wolf');});
			new G.act(baseItemLoss*0.00125,['pet_tiger clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s tiger ate something [poisonous|harmful] and has to be left behind to rest...`,p=>{p[1].lose('pet tiger');});
			new G.act(baseItemLoss*0.00125,['pet_turtle clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s turtle fell off of a cliff before [1] could react.<br>There is no way to safely go down and reach them...`,p=>{p[1].lose('pet turtle');});
			new G.act(baseItemLoss*0.00125,['pet_hawk clumsy%0.2|naive%0.2|sociopath%0.5|any%0.5 !scrappy%0.2|animal_ken%0.5|survivalist%0.2|peaceful%0.2|kind%0.2'],`[RED][1]'s hawk flew too close to the sun...`,p=>{p[1].lose('pet hawk');});
			new G.act(baseItemLoss*0.005,['pet_rock clumsy%0.5|naive%0.2|sociopath%0.5|glasses%0.2|any%0.5 !scrappy%0.5|annoying%0.5|analytical%0.2|artist%0.2'],`[RED][1] accidentally picked up the wrong rock, only realizing that [1:their] pet is gone hours after...`,p=>{p[1].lose('pet rock');});
			
			//todo : scrappy, rich, inventor
            //Done and done, including adding weights to traits. -TW
			
			//Trait-based actions
			// - Lunatic
			// - - Gain Traits
			new G.act(0.1,['lunatic !unstable|peaceful%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] takes [1:them] to an even stranger place, turning [1:them] even more unstable than before.`,p=>{p[1].gain('unstable');});
			new G.act(0.04,['lunatic !kind|sociopath%0.5'],`[BLUE][1]'s [unusual|unpredictable|crazy] [brain|mind] somehow turns [1:them] a little kinder...`,p=>{p[1].gain('kind');});
			new G.act(0.04,['lunatic !devious|kind%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] turns [1:them] into a [horrible|coniving] person...`,p=>{p[1].gain('devious');});
			new G.act(0.04,['lunatic !suicidal|stubborn%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] saps [1:their] will to live...`,p=>{p[1].gain('suicidal');});
			new G.act(0.04,['lunatic !annoying|cute%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] turns [1:them] into an absolute pain to deal with.`,p=>{p[1].gain('annoying');});
			
			new G.act(0.08,['lunatic peaceful|any%0.5 !naive|survivalist%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] [stops paying attention to anything going on|becomes blissfully unaward of all the danger].`,p=>{p[1].gain('naive');});
			new G.act(0.08,['lunatic inventor|any%0.5 !scrappy|clumsy%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] leads them to begin hoarding everything [1:they] can find`,p=>{p[1].gain('scrappy');});
			new G.act(0.08,['lunatic bulky|any%0.5 !stubborn|analytical%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] is getting harder and harder to reason with as [1:they] force [1:their] way through everything.`,p=>{p[1].gain('stubborn');});
			new G.act(0.08,['lunatic meek|any%0.5 !cowardly|bulky%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] can't handle all the danger anymore, becoming flighty and paranoid.`,p=>{p[1].gain('cowardly');});
			new G.act(0.08,['lunatic glasses|any%0.5 !clumsy|scrappy%0.5'],`[RED][1]'s [unusual|unpredictable|crazy] [brain|mind] is becoming less and less cordinated, stumbling a lot more than [1:they] used to.`,p=>{p[1].gain('clumsy');});
			new G.act(0.08,['lunatic artist%0.5|cute%0.2|annoying%0.2|any%0.2 !gremlin|leader%0.5'],`[1]'s [unusual|unpredictable|crazy] [brain|mind] leads to [1:them] causing chaos everywhere they can!`,p=>{p[1].gain('gremlin');});
			// - - Lose Traits
			new G.act(0.04,['lunatic unstable peaceful|any%0.5'],`[BLUE][1] finds a moment of [clarity|zen] in the chaos of the games, stablizing for now.`,p=>{p[1].lose('unstable');});
			new G.act(0.02,['lunatic kind sociopath|any%0.5'],`[RED]Kindness seems to leave [1]'s shifting personality.`,p=>{p[1].lose('kind');});
			new G.act(0.02,['lunatic devious kind|any%0.5'],`[BLUE][1] seems to assume a slightly less cynical worldview.`,p=>{p[1].lose('devious');});
			new G.act(0.02,['lunatic suicidal stubborn|any%0.5'],`[BLUE][1] seems to find a new will to live.`,p=>{p[1].lose('suicidal');});
			new G.act(0.02,['lunatic annoying cute|any%0.5'],`[BLUE][1] seems to calm down, understanding that they're not that interesting.`,p=>{p[1].lose('annoying');});
			
			new G.act(0.02,['lunatic naive survivalist|any%0.5'],`[BLUE][1]'s starts paying attention to what's going on again.`,p=>{p[1].lose('naive');});
			new G.act(0.02,['lunatic scrappy clumsy|any%0.5'],`[1] stops picking up everything they can find, struggling to carry what [1:they] already have.`,p=>{p[1].lose('scrappy');});
			new G.act(0.02,['lunatic stubborn analytical|any%0.5 '],`[1] stops being so stubborn with everything, for better or worse.`,p=>{p[1].lose('stubborn');});
			new G.act(0.02,['lunatic cowardly bulky|any%0.5'],`[BLUE][1] finds a new sense of bravery within [1:themself]`,p=>{p[1].lose('cowardly');});
			new G.act(0.02,['lunatic clumsy scrappy|any%0.5 !missing_leg%0.5|glasses%0.2'],`[BLUE][1] stops stumbling around so much, becoming much more surefooted.`,p=>{p[1].lose('clumsy');});
			new G.act(0.02,['lunatic gremlin !artist%0.5|annoying%0.2 any'],`[1] stops acting like such a gremlin, the smirk from [1:their] face facing for now.`,p=>{p[1].lose('gremlin');});
			
			new G.act(0.01,['lunatic'],`[BLUE][1] calms down for good, no longer subject to the whims of a changing brain.`,p=>{p[1].lose('lunatic');});
			// - Status Effects
			// - - Unstable
			new G.act(0.5,['unstable !frenzied|peaceful%0.5|kind%0.2|naive%0.2|meek%0.2|analytical%0.2 bulky%0.5|lunatic%0.5|unstable%0.5|cursed_knife%0.5|bleeding_out%0.5|burnt%0.5|cut_up%0.3|broken%0.3|shot%0.3|singed%0.3|scratched%0.2|bruised%0.2'],`[RED][[1] finally snaps!|Something inside [1] snaps!]<br>[1] is now frenzied!`,p=>{p[1].gain('frenzied');});
				new G.act(0.2,['frenzied peaceful%0.5|kind%0.5|analytical%0.2|meek%0.2|any%0.5'],`[1]'s frenzy finally dies down.`,p=>{p[1].lose('frenzied');});
			// - - Evil Laughing
			new G.act(0.2,['sociopath%0.8|devious%0.5|rich%0.2|cursed_knife%0.2 devious%0.5|sociopath%0.5|unstable%0.5|lunatic%0.5|glasses%0.5 !peaceful%0.8|kind%0.5|naive%0.5|meek%0.5|cowardly%0.5'],`[1] finds a [high up|quiet|out of the way] place to practice [1:their] evil laugh! [Muahahahaha|Ehehehehe|Buahahahaaa]!`,p=>{p[1].gain('laughed');});
				new G.act(0.5,['laughed !sociopath%0.5|devious%0.2|unstable%0.2|lunatic%0.2|cursed_knife%0.5 any'],`[1] seems to have most of the laughing out of their system, for now.`,p=>{p[1].lose('laughed');});
			// - - Gremlin mode
			new G.act(0.2,['artist%0.8|unstable%0.2|annoying%0.2|inventor%0.2|lunatic%0.2 artist%0.8|glasses%0.2|sociopath%0.2|pet_rock%0.2|any%0.2 !gremlin|naive%0.5|survivalist%0.5|leader%0.5|analytical%0.2'],`[[1] can no longer help [1:g|himself|herself|themself]|Stress overcomes [1]] and a transformation seems to take place...<br>[1] cracks a crazy smile as [1:they] start spreading chaos everywhere!`,p=>{p[1].gain('gremlin');});
				new G.act(0.5,['gremlin !artist%0.5|lunatic%0.5|annoying%0.2 any'],`[1] dusts off [1:their] shoulders as [1:they] stop acting like such a gremlin.`,p=>{p[1].lose('gremlin');});
			// - - Mental Health
			new G.act(0.2,['shell-shocked|terrified|dazed|frenzied|gremlin|laughed stubborn%0.5|analytical%0.2|any%0.5 any'],`[1] snaps out of it!`,p=>{p[1].lose('shell-shocked');p[1].lose('terrified');p[1].lose('dazed');p[1].lose('frenzied');p[1].lose('laughed');p[1].lose('gremlin');});
			new G.act(0.1,['shell-shocked !suicidal|stubborn%0.5|sociopath%0.5|survivalist%0.5'],`[RED][1] doesn't want to carry on...<br>[1] is now suicidal.`,p=>{p[1].gain('suicidal');});
			new G.act(0.2,['suicidal pet_wolf|pet_tiger|pet_turtle|pet_hawk|pet_rock'],`[1] considers taking their own life when they're consoled by their pet.<br>[1] resolves to keep living, for them.`,p=>{p[1].lose('suicidal');});
            
			// Composite variables
			var coldBloodKiller='!peaceful|naive%0.8|kind%0.8|cowardly%0.5|meek%0.5|missing_arm%0.5 has_killed%0.5|survivalist%0.2|sociopath%0.2|cursed_knife%0.2|any%0.2';
			var hesitentKiller='!peaceful|naive%0.8|kind%0.5|cowardly%0.5|meek%0.2|missing_arm%0.5 has_killed%0.2|survivalist%0.2|sociopath%0.2|cursed_knife%0.2|any%0.5';
			var injuredMinor='scratched%0.5|bruised%0.5|sick%0.5|dizzy%0.5|any%0.5 !bulky%0.1|stubborn%0.1|plot_armor%0.3';
			var injuredModerate='cut_up%0.5|broken%0.5|shot%0.5|singed%0.5|any%0.5 !bulky%0.2|stubborn%0.2|plot_armor%0.6';
			var injuredMajor='bleeding_out%0.5|burnt%0.5|missing_arm%0.5|missing_leg%0.5|any%0.5 !bulky%0.3|stubborn%0.3|plot_armor%0.9';
			var victimMinor='annoying%0.5|meek%0.5|naive%0.5|suicidal%0.5|any%0.8 !knight_armor%0.2|combat_gear%0.2|wizard_robe%0.1|lucky_coin%0.1|cowardly%0.1';
			var victimModerate=injuredMinor+' '+victimMinor;
			var victimMajor=injuredModerate+' '+victimMinor;
			var victimKill=injuredMajor+' '+victimMinor;
			// Injury/murder chances
			// Greatly reduced, replaced by the descriptive combat system
			var anyAttackMult=2;  // Actual chance about halved due to trait checks.
			var perkAttackMult=0.5; // Actual chance about halved due to trait checks.
			var anyDefenseMult=0.75;
			
			var attackFail=1;     // Placeholder
			var attackMinor=1;    // 37% to 99%
			var attackModerate=1; // 15% to 96%
			var attackMajor=1;    // 12% to 97%
			var attackKill=1;     // 09% to 97%
			
			// Generic Combat
			new G.act(anyAttackMult*attackMinor*0.15,[hesitentKiller,'- any '+victimMinor],`[RED][1] ambushes [2], but [2] manages to escape with only minor bruises.`,p=>{p[2].gain('bruised');});
				new G.act(anyAttackMult*attackMinor*0.05,[hesitentKiller+' '+victimMinor,'- !peaceful%0.5|naive%0.2|meek%0.2'],`[RED][1] attacked [2] during an ambush, but was sent running with bruises instead.`,p=>{p[1].gain('bruised');});
				new G.act(anyAttackMult*attackMinor*0.05,[hesitentKiller+' '+victimMinor,'- !peaceful%0.5|naive%0.2|meek%0.2 '+victimMinor],`[RED][1] and [2] fought with good old fists, leaving each other bruised but alive.`,p=>{p[1].gain('bruised');p[2].gain('bruised');});
				
			new G.act(anyAttackMult*attackModerate*0.15,[hesitentKiller,'- any '+victimModerate],`[RED][1] and [2] ended up in a fight, with [2] ending up with a few broken ribs before it ended.`,p=>{p[2].gain('broken');});
				new G.act(anyAttackMult*attackModerate*0.05,[hesitentKiller+' '+victimModerate,'- '+hesitentKiller],`[RED][1] picked a fight with [2] only to be left unconscious for a few hours after a solid [punch|kick] to the chest.`,p=>{p[2].gain('broken');});
				new G.act(anyAttackMult*attackModerate*0.05,[hesitentKiller+' '+victimModerate,'- '+hesitentKiller+' '+victimModerate],`[RED][1] and [2] were both forced to escape after nearly killing each other in a fight.`,p=>{p[1].gain('broken');p[2].gain('broken');});
				
			new G.act(anyAttackMult*attackMajor*0.15,[coldBloodKiller,'- any '+victimMajor],`[RED][1] nearly kills [2] before [2] escapes with [2:their] life.<br>[2] leaves a trail of blood, [2:they] won't have much time left at this rate...`,p=>{p[2].gain('bleeding out');});
				new G.act(anyAttackMult*attackMajor*0.05,[coldBloodKiller+' '+victimMajor,'- '+hesitentKiller],`[RED][1] attempts to [ambush|attack|duel] [2] but makes a life-threatening mistake in the fight before escaping.<br>[2] is left confused and covered in [1]'s blood. A lot of blood...`,p=>{p[1].gain('bleeding out');});
				new G.act(anyAttackMult*attackMajor*0.05,[coldBloodKiller+' '+victimMajor,'- '+hesitentKiller+' '+victimMajor],`[RED]In a particularly violent [affair|duel|battle|fight] between [1] and [2], both are left with life-threatening wounds.`,p=>{p[1].gain('bleeding out');p[2].gain('bleeding out');});
			
			new G.act(anyAttackMult*attackKill*0.1,[coldBloodKiller,'- any '+victimKill],`[RED][1] [ambushes [2]|attacks [2] from behind] and [murders|kills|slaughters|strangles|eviscerates|gets rid of] [2:them]!`,p=>{p[1].kill(p[2],`ambush`);});
				new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller,'- '+victimKill+' '+hesitentKiller],`[RED][[1] duels it out with [2]|[1] challenges [2] to a duel|[2] challenges [1] to a duel|[1] wants to end things once and for all with [2]|[2] wants to end things once and for all with [1]].<br>[2] bites the dust!`,p=>{p[1].kill(p[2],`duel`);});
				new G.act(anyAttackMult*attackKill*0.02,[hesitentKiller+' !sociopath|survivalist%0.5|devious%0.5 deaths:>0','- any '+victimKill],`[RED][1] really doesn't want to, but [1:g|he finds himself|she finds herself|they find themself] having to get rid of [2].`,p=>{p[1].kill(p[2],`murder`);});
			new G.act(anyAttackMult*attackKill**0.02,[hesitentKiller+' '+victimKill,'- '+hesitentKiller],`[RED][1] tries to kill [2], but [2] retaliates and kills [1:them] instead.`,p=>{p[2].kill(p[1],`retaliation`);});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller+' '+victimKill,'- '+hesitentKiller],`[RED][[1] duels it out with [2]|[1] challenges [2] to a duel|[2] challenges [1] to a duel|[1] wants to end things once and for all with [2]|[2] wants to end things once and for all with [1]].<br>[1] bites the dust!`,p=>{p[2].kill(p[1],`duel`);});
				new G.act(anyAttackMult*attackKill*0.01,[hesitentKiller+' '+victimKill,'- cute|any%0.2 cute%0.5|seductive%0.5|bikini%0.5|artist%0.5|glasses%0.2|any%0.5 sociopath%0.5|devious%0.5|any%0.5 '+coldBloodKiller],`[RED][1] [ambushes [2]|attacks [2] from behind] and tries to [kill|murder|attack] [2:them] but [2] is too cute to kill.<br>That doesn't stop [2] from [stabbing|murdering|slaughtering|removing] [1] when [1:their] back is turned.`,p=>{p[2].kill(p[1],`reverse ambush`);});
			new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any '+victimKill,'+ any '+victimKill],`[RED][1] [ambushes [2] and [3]|attacks [2] and [3] from behind|manages to sneak-attack [2] and [3]], [murdering|killing|slaughtering] them both!`,p=>{p[1].kill(p[2],`ambush`);p[1].kill(p[3],`ambush`);});
			new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller+ ' leader%0.5|devious%0.5|any%0.5','+ leader%0.5|devious%0.5|any%0.5 '+coldBloodKiller,'- any'],`[RED][1] and [2] [team up and ambush [3]|come at [3] from both sides|ambush [3]|attack [3] from behind|manage to sneak-attack [3]], [murdering|killing|slaughtering] [3:them]!`,p=>{p[1].kill(p[3],`ambush`,p[2]);});
			new G.act(anyAttackMult*attackKill*0.02,[coldBloodKiller,'- any '+victimKill,'+ leader%0.5|kind%0.5|bulky%0.5|knight_armor%0.2|kite_shield%0.2|riot_shield%0.2|any%0.2 !sociopath%0.5|survivalist%0.5|cowardly%0.5|devious%0.2|meek%0.2'],`[RED][1] attempts to kill [2], but [3] intervenes just in time!<br>[3] had to kill [1] to protect [2]'s life...`,p=>{p[3].kill(p[1],`retaliation`);});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any '+victimKill,'+ !sociopath|stubborn%0.5|survivalist%0.5|analytical%0.2|medic%0.2|first_aid_kit%0.5|AED%0.5 any'],`[RED][1] [kills|murders|attacks and kills] [2] [in front of [3]|before [3] can react]!<br>[There is nothing [3] can do...|[3] rushes to help, but [[2] dies in [3:their] arms|it's already too late]...]`,p=>{p[1].kill(p[2],`ambush`);p[3].gain('shell-shocked');});
				new G.act(anyAttackMult*attackKill*0.01,[coldBloodKiller,'- any '+victimKill,'+ leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.5|survivalist%0.5|cowardly%0.5|devious%0.2 '+victimKill],`[RED][1] attempts to kill [2], but [3] intervenes to protect [2:them]!<br>Unfortunately, [3] dies in the attempt...`,p=>{p[1].kill(p[3],`failed retaliation`);});
			// Status Effect kills
			new G.act(0.2,[hesitentKiller,'sheep annoying%0.5|suicidal%0.5|clumsy%0.2|meek%0.2|naive%0.2|any%0.5 !cute%0.2|stubborn%0.2|cowardly%0.2|plot_armor%0.8'],`[RED][1] decides to put [2] out of [2:their] sheep misery.`,p=>{p[1].kill(p[2],`sheep pity kill`);});
            // Frenzy Combat
			new G.act(perkAttackMult*attackModerate*0.2,['frenzied',victimModerate],'[RED]In a fit of frenzy, [1] creeps up on [2] and [tackles [2:them] to the ground|smashes [2:them] into a tree|headbutts [2:them] right in the chest] [as [2] shouts in surprise|breaking a few ribs].<br>[2] manages to [in a surge of adrenaline|painfully|desperately] [kick|throw|toss] [1] off and escape.',p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackMajor*0.2,['frenzied',victimMajor],'[RED]In a fit of frenzy, [1] creeps up on [2] and [cuts|stabs|slashes] [2:their] [chest|throat].<br>[2] is beginning to bleed out quick...',p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.5,['frenzied',victimKill],`[RED]In a fit of frenzy, [1] creeps up on [2] and [snaps [2:their] neck|kills [2:them] dead|slaughters [2:them]|turns [2:them] inside out]!`,p=>{p[1].kill(p[2],`frenzy kill`);});
				new G.act(perkAttackMult*attackKill*0.1,['frenzied any bleeding_out%0.5|burnt%0.5|badly_poisoned%0.5|missing_arm%0.5|missing_leg%0.5|cut_up%0.3|broken%0.3|shot%0.3|singed%0.3|poisoned%0.3|scratched%0.2|bruised%0.2|meek%0.2 !bulky%0.2|stubborn%0.2'],`[RED][Panting like a wild beast, [1:their] eyes bulging out|After rampaging for a while|Raging fury grasping [1:their] chest], [1]'s frenzy grows so overpowering that [1:their] heart gives out...`,p=>{p[1].die(`frenzy heart attack`);});
            // Evil laugh Combat - suggested by Berwalch -TW
            new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' laughed','- any '+victimKill],`[RED][1] slaughters [2] while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed big_stick|pitchfork','- any '+victimKill],`[RED][1] clubs [2] to death while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed sword|axe','- any '+victimKill],`[RED][1] chops [2] to bits while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed bow|handgun|shotgun|lasergun','- any '+victimKill],`[RED][1] shoots [2] multiple times while laughing quite [evily|maniacally|devilously]!`,p=>{p[1].kill(p[2],`murder`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed grenade|rocket_launcher','- any '+victimKill],`[RED][1] blows up [2], when the smoke clears, [1] is laughing [evily|maniacally|devilously|excessively]!`,p=>{p[1].kill(p[2],`explosion`);p[1].lose('grenade');});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed grenade|rocket_launcher','- any '+victimKill],`[RED][1] blows up [2] and [3] when they're talking together!<br>When the smoke clears, [1] is laughing [evily|maniacally|devilously|excessively]!`,p=>{p[1].kill(p[2],`explosion`);p[1].kill(p[3],`explosion`);p[1].lose('grenade');});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' laughed flamethrower|magic_wand|ancient_scepter','- any '+victimKill],`[RED][1] sets [2] aflame and laughs very [evily|maniacally|devilously|excessively] as they burn!`,p=>{p[1].kill(p[2],`incinerated`);});
                new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' laughed cursed_knife','- any '+victimKill],`[RED][1] just keeps stabbing [2] even after they'ved died, all the while laughing quite [evily|maniacally|devilously|deranged]!`,p=>{p[1].kill(p[2],`cursed_knife`);});
            // Big Stick Combat
			new G.act(perkAttackMult*attackMinor*0.6,[hesitentKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimMinor],`[RED][1] wacked [2] with [1:their] stick, leaving a nasty bruise.`,p=>{p[2].gain('bruised');});
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimModerate],`[RED][1] beat [2] black and blue with [1:their] stick, beaking a bone or two.`,p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' big_stick bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] bludgeons [2] to death with [1:their] big stick!`,p=>{p[1].kill(p[2],`big stick`);});
            // Pitchfork Combat
			new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimMinor],`[RED][1] scratched [2] with [1:their] pitchfork when the two ended up in a fight.`,p=>{p[2].gain('scratched');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimModerate],`[RED][2] was gashed pretty bad by [1]'s pitchfork when it was thrown at [2:them].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] lobs [1:their] pitchfork at [2], killing [2:them] instantly!`,p=>{p[1].kill(p[2],`pitchfork`);});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' pitchfork bulky|any%0.8','- any !knight_armor%0.2|kite_shield%0.2 '+victimKill,'+ any !knight_armor%0.2|kite_shield%0.2 '+victimKill],`[RED][1] skewers [2] and [3] with [1:their] pitchfork!`,p=>{p[1].kill(p[2],`pitchfork`);p[1].kill(p[3],`pitchfork`);});
			// Sword Combat
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimModerate],`[RED][1] sliced [2] with [1:their] sword before [2] could escape.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.3,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimMajor],`[RED][1] severely sliced [2] with [1:their] sword, causing excruciating pain.<br>[2] escaped but the bleeding won't stop...`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimKill],`[RED][1] artfully [slices|cleaves] [2] [|across|deeply|lethally|in two] with [1:their] [sword|blade]!`,p=>{p[1].kill(p[2],`sword`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' sword bulky%0.5|ninja%0.5|any%0.5','- any !knight_armor%0.2|kite_shield%0.2|ninja%0.2|sword%0.1 '+victimKill,'+ any !knight_armor%0.2|kite_shield%0.2|sword%0.1 '+victimKill],`[RED][1] artfully [slices|cleaves] through [2] and [3] in one fell swoop.`,p=>{p[1].kill(p[2],`sword`);p[1].kill(p[3],`sword`);});
			// Axe Combat
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimModerate],`[RED][2] took an axe chop from [1] before escaping.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.3,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimMajor],`[RED][1] violently chopped at [2], causing life threatening bleeding!`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.25,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimKill],`[RED][1] chops [2] to bits with [1:their] axe!`,p=>{p[1].kill(p[2],`axe`);});
				new G.act(perkAttackMult*attackKill*0.15,[coldBloodKiller+' axe bulky%0.5|survivalist%0.5|any%0.5','- any !knight_armor%0.2|sword%0.1 '+victimKill,'+ any '+victimKill],`[RED][1] goes axe-crazy, chopping [2] and [3] to bits.`,p=>{p[1].kill(p[2],`axe`);p[1].kill(p[3],`axe`);});
			// Handgun Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any combat_gear|knight_armor !riot_shield%0.2|lucky_coin%0.2|marksmen%0.2 '+victimMinor],`[RED][1] manages to ambush [2] with [a few shots.|a headshot!]<br>[2]'s [helmet|armor] saved [2:their] life, but there is a still a ringing in [2:their] ears from the encounter.`,p=>{p[2].gain('dizzy');});
			new G.act(perkAttackMult*attackModerate*0.6,[hesitentKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.5|combat_gear%0.5|knight_armor%0.3|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[RED][1] fires a few rounds at [2] during a brief encounter.<br>[2] escapes with their life, but not without a new [bullet wound|hole|injury].`,p=>{p[2].gain('shot');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' handgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.5|combat_gear%0.5|knight_armor%0.3|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] finds [1:themself] face-to-face with [2] and shoots [2:them] dead with [1:their] gun!`,p=>{p[1].kill(p[2],`handgun`);});
			// Shotgun Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][2] runs into the business end of [1]'s shotgun, managing to barely survive the [slug|bits of [buck|bird]shot].`,p=>{p[2].gain('shot');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] [ambushes|attacks|shoots at] both [2] and [3] togeather, injuring them with a few shots from [1:their] shotgun.`,p=>{p[2].gain('shot');p[3].gain('shot');});
				new G.act(perkAttackMult*attackKill*0.5,[coldBloodKiller+' shotgun marksmen%0.5|lucky_coin%0.2|any%0.5','- any !kevlar_vest%0.2|combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] creeps up behind [2] and shoots [2:them] point-blank with [1:their] shotgun!`,p=>{p[1].kill(p[2],`shotgun`);});
			// Flamethrower
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate],`[RED][1] [catches|ambushes] [2] in a bout of fire!<br>[2] escapes with [some 2nd|plenty of 1st] degree burns.`,p=>{p[2].gain('singed');});
			new G.act(perkAttackMult*attackModerate*0.1,[hesitentKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate,'+ any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimModerate],`[RED][1] [catches|ambushes] [2] and [3] in a [burst|gust|flurry] of [fire|flames]!<br>[2] and [3] escape after suffering [a few 2nd|some 2nd|plenty of 1st] degree burns.`,p=>{p[2].gain('singed');p[3].gain('singed');});
				new G.act(perkAttackMult*attackMajor*0.2,[coldBloodKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor],`[RED][1] fires [1:their] flamethrower [point blank|face first] at [2]<br>[2] catches alight but escapes before [2:they] burn to death, but it doesn't look pretty...`,p=>{p[2].gain('burnt');});
				new G.act(perkAttackMult*attackMajor*0.1,[coldBloodKiller+' flamethrower !pyromania%0.8|kind%0.5|cowardly%0.2','- any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor,'+ any !combat_gear%0.2|wizard_robe%0.2|pyromania%0.2 '+victimMajor],`[RED][2] crazily blasts [1:their] flamethrower across a group of enemies.<br>Everyone runs for their lives, but [2] and [3] suffer [severe|life-threatening|3rd degree] burns.`,p=>{p[2].gain('burnt');p[3].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' flamethrower pyromania%0.8|marksmen%0.2|inventor%0.2|suicidal%0.2|any%0.5 !kind%0.5|cowardly%0.2','- any'],`[RED]Armed with [1:their] flamethrower, [1] [incinerates|torches|burns] [2] to a crisp!`,p=>{p[1].kill(p[2],`flamethrower`);p[2].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' flamethrower pyromania%0.8|marksmen%0.2|inventor%0.2|suicidal%0.2|any%0.5 !kind%0.5|cowardly%0.2','- any','+ any'],`[RED]Armed with [1:their] flamethrower, [1] [incinerates|torches|burns] [2] and [3] to a crisp!`,p=>{p[1].kill(p[2],`flamethrower`);p[1].kill(p[3],`flamethrower`);p[2].gain('burnt');p[3].gain('burnt');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' flamethrower pyromania%0.8|sociopath%0.5|suicidal%0.5|gremlin%0.2|any%0.2 !cowardly%0.8|meek%0.5|survivalist%0.5|combat_gear%0.2|wizard_robe%0.2','- flamethrower pyromania%0.8|sociopath%0.5|suicidal%0.5|gremlin%0.2|any%0.2 !cowardly%0.8|meek%0.5|survivalist%0.5|combat_gear%0.2|wizard_robe%0.2 '+coldBloodKiller],`[RED][1] and [2] joyfully incinerate each other with their flamethrowers.<br>When the fire dies down, there's not much of them left...`,p=>{p[1].kill(p[2],`flamethrower duel`);p[2].kill(p[1],`flamethrower duel`);p[1].gain('burnt');p[2].gain('burnt');});
			// Rocket Launcher Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' rocket_launcher pyromania%0.5|inventor%0.5|clumsy%0.2|any%0.5 !missing_arm%0.8|marksmen%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] fires a rocket near a group of enemies, not quite catching them all.<br>[2] and [3] are caught by the explosion, sent tumbling and burned.`,p=>{p[2].gain('broken');p[3].gain('broken');p[2].gain('singed');p[3].gain('singed');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' rocket_launcher pyromania%0.5|inventor%0.5|clumsy%0.2|any%0.5 !missing_arm%0.8|marksmen%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] fires a rocket near a group of enemies, not quite catching them all.<br>[2], [3] and [4] are caught by the explosion, sent tumbling and burned.`,p=>{p[2].gain('broken');p[3].gain('broken');p[4].gain('broken');p[2].gain('singed');p[3].gain('singed');p[4].gain('singed');});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at [2], who gets absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at a group of enemies.<br>[2] and [3] are caught in the explosion and are absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);p[1].kill(p[3],`rocket launcher`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' rocket_launcher sociopath%0.5|pyromania%0.5|inventor%0.5|marksmen%0.5|any%0.5 !missing_arm%0.8|clumsy%0.2|meek%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] fires a rocket at a group of enemies.<br>[2], [3] and [4] are caught in the explosion and are absolutely blown away.`,p=>{p[1].kill(p[2],`rocket launcher`);p[1].kill(p[3],`rocket launcher`);p[1].kill(p[4],`rocket launcher`);});
			// Lasergun Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' lasergun marksmen%0.5|inventor%0.5|naive%0.5|kind%0.5|any%0.5','- any !stubborn%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimModerate],`[RED][1] shoots several bolts of energy at [2] using [1:their] lasergun.<br>Good thing [1] left [1:their] gun on stun, leaving [2] 'merely' senseless.`,p=>{p[2].gain('dazed');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackMajor*0.2,[coldBloodKiller+' lasergun marksmen%0.5|inventor%0.5|analytical%0.2|any%0.5','- any !wizard_robe%0.2|lucky_coin%0.2 '+victimMajor],`[RED][1] shoots several white-hot holes in [2]'s body using [1:their] lasergun.<br>[2] is left barely alive as [2:g|he bleeds|she bleeds|they bleed] out from [2:their] burns.`,p=>{p[2].gain('bleeding out');p[2].gain('singed');});
				new G.act(perkAttackMult*attackKill*0.6,[coldBloodKiller+' lasergun marksmen%0.5|inventor%0.5|analytical%0.2|any%0.5','- any !wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] shoots several white-hot holes in [2]'s body using [1:their] lasergun.`,p=>{p[1].kill(p[2],`lasergun`);});
			// Slingshot & Pet Rock Combat
			new G.act(perkAttackMult*attackFail*0.8,[hesitentKiller+' slingshot annoying|any%0.5 !missing_arm|marksmen%0.5|survivalist%0.2','- any knight_armor%0.5|combat_gear%0.5|kite_shield%0.5|riot_shield%0.5|any%0.5'],`[RED][1] uses [1:their] slingshot to pelt [2] with rocks, which is more annoying than anything, really.`);
				new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' slingshot marksmen|any%0.8 !missing_arm|annoying%0.5|meek%0.2','- any !knight_armor%0.2|combat_gear%0.2|riot_shield%0.2|stubborn%0.2 '+victimMinor],`[RED][1] uses [1:their] slingshot to pelt [2] with rocks.<br>[2] takes a rock to the head, leaving them a bit bloody and dizzy.`,p=>{p[2].gain('bruised');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' pet_rock gremlin%0.8|annoying%0.5|naive%0.5|animal_ken%0.2|any%0.5 !missing_arm','- any !knight_armor%0.2|combat_gear%0.2|stubborn%0.2 '+victimMinor],`[1] lets out a shout "Pet Rock, use Tackle!" and [tosses|chucks|throws] [1:their] pet rock at [2]<br>[2] takes the rock to [2:their] head, leaving them a bit bloody and dizzy.`,p=>{p[2].gain('bruised');p[2].gain('dizzy');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' slingshot pet_rock annoying%0.5|marksmen%0.5|any%0.5 !missing_arm','- any'],`[RED][1] sics their pet rock on [2] through [1:their] sling shot!<br>Head shot! [2]'s skull is left shattered and bloody as [2:their] body drops dead.`,p=>{p[1].kill(p[2],`pet rock`);});
			// Shuriken Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimMinor],`[1] grazed [2] with a few of [1:their] gleaming shuriken.`,p=>{p[2].gain('scratched');});
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[1] managed to leave [2] with a few lacerations after tossing knives at [2:them].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' shuriken ninja%0.8|marksmen%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] strikes [2] right in the neck with a [shuriken|throwing knife], killing [2:them] before [2] knew what was coming!`,p=>{p[1].kill(p[2],`shuriken`);});
				new G.act(perkAttackMult*attackFail*0.2,[hesitentKiller+' shuriken !ninja%0.8|marksmen%0.5|lucky_coin%0.2','- any'],`[1] throws a few knives at [2], but misses...`);
			// Bow Combat
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimModerate],`[1] managed to hit [2] in the limb with an arrow.<br>The arrow didn't stick, but it left [2] bleeding.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackMajor*0.4,[coldBloodKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimMajor],`[1] managed to hit [2] with a few arrows.<br>[2] is bleeding out and unsure what to do!`,p=>{p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' bow marksmen%0.5|survivalist%0.5|any%0.5 !missing_arm|clumsy%0.2|dizzy%0.2','- any !kite_shield%0.2|riot_shield%0.2|lucky_coin%0.2 '+victimKill],`[RED][[1] spots [2] in the distance, and draws [1:their] bow. [1:g|His|Her|Their] arrow flies off, and pierces [2]'s|[1]'s arrow flies straight and true, piercing [2]'s] [heart|head|chest|stomach]!`,p=>{p[1].kill(p[2],`arrow`);});
				new G.act(perkAttackMult*attackFail*0.2,[hesitentKiller+' bow !missing_arm|marksmen%0.5|lucky_coin%0.2','- any'],`[1] fires an arrow at [2], but misses...`);
			// Grenade Combat (up chances of use by 50% since it is consumed)
			new G.act(perkAttackMult*attackModerate*0.25,[hesitentKiller+' grenade pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] tosses a live grenade near a group of enemies, not quite catching them all.<br>[2] and [3] are caught by the explosion, suffering numerous cuts and burns.`,p=>{p[2].gain('cut up');p[3].gain('cut up');p[2].gain('singed');p[3].gain('singed');p[1].lose('grenade');});
			new G.act(perkAttackMult*attackModerate*0.5,[hesitentKiller+' grenade pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.2|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimModerate],`[RED][1] tosses a live grenade near a group of enemies, not quite catching them all.<br>[2], [3] and [4] are caught by the explosion, suffering numerous cuts and burns.`,p=>{p[2].gain('cut up');p[3].gain('cut up');p[4].gain('cut up');p[2].gain('singed');p[3].gain('singed');p[4].gain('singed');p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at [2], who is instantly blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.25,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at a group of enemies.<br>[2] and [3] are caught in the explosion and are blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].kill(p[3],`grenade`);p[1].lose('grenade');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' grenade sociopath%0.5|pyromania%0.5|inventor%0.5|any%0.5 !clumsy%0.5|dizzy%0.2','- any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill,'+ any !combat_gear%0.2|riot_shield%0.2 '+victimKill],`[RED][1] tosses a live grenade at a group of enemies.<br>[2], [3] and [4] are caught in the explosion and are blown to smithereens!`,p=>{p[1].kill(p[2],`grenade`);p[1].kill(p[3],`grenade`);p[1].kill(p[4],`grenade`);p[1].lose('grenade');});
			// Magic Wand Combat
			new G.act(perkAttackMult*attackMinor*0.4,[hesitentKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimMinor],`[RED][1] hesitently gestures towards [2] with [1:their] magic wand.<br>[2] stumbles as [2:their] guts seem to twist and turn, leaving [2:them] feeling sick.`,p=>{p[2].gain('sick');});
				new G.act(perkAttackMult*attackMajor*0.2,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !missing_arm !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimMajor],`[RED][1] swipes [1:their] wand sharply at [2]'s direction.<br>[2] [screams out as|yells out as|is shocked by the pain of] [2:their] arm being ripped off!`,p=>{p[2].gain('missing arm');p[2].gain('bleeding out');});
				new G.act(perkAttackMult*attackKill*0.3,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimKill],`[RED][1] gestures angrily towards [2] with [1:their] magic wand.<br>[2] only has time to feel [2:their] [blood turn to jelly|lungs turn into cauliflowers|blood vessels turn into spaghetti|major organs turn into various pastries|body temperature rising rapidly|brain hemispheres try to switch places|pancreas turn to cheese] before [2:g|he topples|she topples|they topple] over, dead.`,p=>{p[1].kill(p[2],`magic wand`);});
				new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' magic_wand wizard_robe%0.5|goth%0.5|ancient_scepter%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimKill,'+ any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimKill],`[RED][1] gestures angrily towards [2] and [3] with [1:their] magic wand.<br>It seems this switched some of their major organs, [2] inheriting [3]'s [spleen|kidneys|lungs|intestines|brain stem|uvula|eyelids|pancreas|bladder] and vice-versa. They both topple over, dead.`,p=>{p[1].kill(p[2],`magic wand`);p[1].kill(p[3],`magic wand`);});
			// Ancient Scepter Combat
			new G.act(perkAttackMult*attackMajor*0.4,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimMajor,'+ any '+victimModerate,'+ any '+victimModerate],`[RED][1] uses a [ancient|horrid|dark|arcane|eldrich] ritual on a group of enemies!<br>[2]'s blood rips out from [2:their] body, burning [3] like acid and cutting up [4] like blades of iron!`,p=>{p[2].gain('bleeding out');p[3].gain('singed');p[4].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.4,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any'],`[RED][1] calls arcane fury down on [2], [1:their] ancient scepter beaming with an inner rage.<br>[[2] combusts into thousands of firey butterflies...|[2] vaporizes into a minty purple mist...|[2] grimaces, then starts bubbling violently, before melting into the ground.|For a second, nothing happens. [2] opens [2:their] mouth to say something, then starts peeling away, layer by layer.|At first, it seems nothing happened, until a light breeze blows [2] away like a pile of old dust.|[2] quivers strangely, then starts getting taller and taller, and thinner and thinner, until [2:g|he becomes just a line and disappears|she becomes just a line and disappears|they become just a line and disappear].]`,p=>{p[1].kill(p[2],`ancient scepter`);});
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|magic_wand%0.2|any%0.5','- any !wizard_robe%0.5|goth%0.2|stubborn%0.2|analytical%0.2 '+victimKill,'+ any '+victimModerate,'+ any '+victimModerate],`[RED][1] calls on [dark|ancient|arcane] arts to turn [2] into a bomb!<br>[2] is [unaware|unprepared|feeling a little sick] when they next see [3] and [4], only to explode violently and sending both [3] and [4] [flying|tumbling|a barrage of body parts] and breaking a few bones.`,p=>{p[1].kill(p[2],`ancient scepter`);p[2].gain('confirmed');p[3].gain('broken');p[4].gain('broken');});
			// Gun Dueling
				new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' handgun%0.8|lasergun%0.5|shotgun%0.2 marksmen|any%0.8 !cowardly%0.8|naive%0.2','- handgun%0.8|lasergun%0.2|shotgun%0.2 !peaceful|cowardly%0.8|kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5 '+victimKill],`[RED][1] and [2] duel it out, guns drawn.<br>[Two shots are fired.|One shot is fired.] [2] falls over, dead.`,p=>{p[1].kill(p[2],`gun duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' handgun%0.8|lasergun%0.2|shotgun%0.2 !kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5|marksmen%0.5 '+victimKill,'- handgun%0.8|lasergun%0.5|shotgun%0.2 marksmen|any%0.8 !peaceful|cowardly%0.8'],`[RED][1] and [2] duel it out, guns drawn.<br>[Two shots are fired.|One shot is fired.] [1] falls over, dead.`,p=>{p[2].kill(p[1],`gun duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' handgun%0.8|lasergun%0.5|shotgun%0.2 !kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5|marksmen%0.5 '+victimKill,'- handgun%0.8|lasergun%0.5|shotgun%0.2 !peaceful|cowardly%0.8|kevlar_vest%0.5|combat_gear%0.2|lucky_coin%0.5 '+victimKill],`[RED][1] and [2] duel it out, guns drawn.<br>Two shots are fired. [1] and [2] both fall over, dead.<br>Guess it's a tie.`,p=>{p[2].kill(p[1],`gun duel`);p[1].kill(p[2],`gun duel`);});
				new G.act(perkAttackMult*attackFail*0.1,[hesitentKiller+' handgun%0.5|lasergun%0.5|shotgun%0.5 !marksmen%0.5|lucky_coin%0.2','- any lucky_coin%0.5|clumsy%0.2|cowardly%0.2|any%0.5'],`[1] fires [1:their] gun at [2][, but they miss..|! Good thing [1:they] can't aim..| but [2] [makes a lucky trip|makes a lucky dodge|narrowly escapes]].`);
			// Magic Dueling & Magical Curses
			new G.act(perkAttackMult*attackKill*0.2,[coldBloodKiller+' magic_wand|ancient_scepter|the_gift%0.5|wizard_robe%0.2 magic_wand%0.2|ancient_scepter%0.2|wizard_robe%0.5|the_gift%0.5|any%0.5 !cowardly%0.8|analytical%0.2','- magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !peaceful|cowardly%0.8|stubborn%0.5|goth%0.5|plot_armor%0.8'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until [2] [explodes in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|has various major organs turned into [pastries|each other|cheese]|is turned inside out].`,p=>{p[1].kill(p[2],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !cowardly%0.8|stubborn%0.5|goth%0.5|analytical%0.2|plot_armor%0.8','- magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !peaceful|cowardly%0.8|stubborn%0.5|goth%0.5|plot_armor%0.8'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until both of them [explode in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|have various organs turned into [pastries|each other|cheese]|are turned inside out].`,p=>{p[1].kill(p[2],`magic duel`);p[2].kill(p[1],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand|ancient_scepter%0.2|the_gift%0.2|wizard_robe%0.1 !cowardly%0.8|stubborn%0.5|goth%0.5|analytical%0.2|plot_armor%0.8','- magic_wand|ancient_scepter%0.2|wizard_robe%0.2 magic_wand%0.2|ancient_scepter%0.2|wizard_robe%0.5|goth%0.5|any%0.5 !peaceful|cowardly%0.8|analytical%0.2'],`[RED][1] and [2] have a merciless magic duel!<br>This goes on for a while until [1] [explodes in a splash of [violet|purple|indigo|blue|green|yellow|orange|red|color|colour]|has various major organs turned into [pastries|each other|cheese]|is turned inside out].`,p=>{p[2].kill(p[1],`magic duel`);});
				new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' magic_wand !ancient_scepter|cowardly%0.8|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8','- ancient_scepter !peaceful|cowardly%0.8|wizard_robe%0.5|the_gift%0.5|goth%0.5 '],`[RED][1] challenges [2] to a magic duel with [1:their] magic wand!<br>Unfortunately for [1:them], [2] has an ancient scepter, and after a few colorful puffs and sparks, there's not much left of [1].`,p=>{p[2].kill(p[1],`magic duel`);});
			new G.act(perkAttackMult*attackKill*0.1,[hesitentKiller+' ancient_scepter !cowardly%0.8|wizard_robe%0.5|stubborn%0.5|the_gift%0.5|plot_armor%0.8','- ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8 '+victimKill],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way, until both opponents suddenly bulge out and explode in a puff of acrid smoke.`,p=>{p[1].kill(p[2],`magic duel`);p[2].kill(p[1],`magic duel`);});
                new G.act(perkAttackMult*attackKill*0.1,[coldBloodKiller+' ancient_scepter goth%0.8|laughed%0.2|sociopath%0.2|devious%0.2|ninja%0.2 !cowardly%0.8|kind%0.5|naive%0.2','- ancient_scepter !peaceful|cowardly%0.8|stubborn%0.5|wizard_robe%0.5|the_gift%0.5|plot_armor%0.8'],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way, but [1]'s dark mind pulls out the full strength of [1:their] scepter and [2] is turned to ashes and blown asunder.`,p=>{p[1].kill(p[2],`magic duel`);});
                new G.act(perkAttackMult*attackModerate*0.1,[coldBloodKiller+' ancient_scepter wizard_robe%0.5|goth%0.5|the_gift%0.5|stubborn%0.2|any%0.2 !meek%0.5|naive%0.5','- ancient_scepter wizard_robe%0.5|goth%0.5|the_gift%0.5|stubborn%0.2|any%0.2 !peaceful|cowardly%0.8|meek%0.5|naive%0.5|kind%0.5'],`[RED][1] and [2] have a merciless magic duel with their ancient scepters!<br>Sparks and bolts fly every which way until both sceptors are pushed to their limits and shatter.<br>The explosion of shards leaves both [1] and [2] tired and bleeding.`,p=>{p[1].lose('ancient scepter');p[2].lose('ancient scepter');p[1].gain('cut up');p[2].gain('cut up');});
			new G.act(perkAttackMult*0.3,['magic_wand|ancient_scepter|the_gift%0.2|wizard_robe%0.2 magic_wand%0.5|ancient_scepter%0.5|wizard_robe%0.5|animal_ken%0.5|any%0.5','- !sheep|wizard_robe%0.5|stubborn%0.2'],`[BLUE]With a flick of [1:their] wrist, [1] turns [2] into a sheep!`,p=>{p[2].gain('sheep');});
				new G.act(perkAttackMult*0.2,['magic_wand|ancient_scepter|the_gift%0.5|wizard_robe%0.2 wizard_robe%0.5|cute%0.5|seductive%0.5|devious%0.5|any%0.5 !peaceful%0.8|kind%0.5|naive%0.2','- any !dazed|wizard_robe%0.5|naive%0.2|stubborn%0.2|analytical%0.2'],`[RED][1] [casts a charm on|waves [1:their] magic at] [2] leaving [2:them] completely senseless.`,p=>{p[2].gain('dazed');p[2].gain('dizzy');});
				new G.act(0.01,['ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.2 ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.2 leader%0.5|kind%0.5|medic%0.5|shell-shocked%0.5|any%0.2 !sociopath|devious%0.8|survivalist%0.8','+ dead'],`[BLUE][1] invokes [dark|desperate|arcane|last resort] magic with everything [1:they] have!<br>...it's a miracle! [1] brought [2] back to the edge of life!`,p=>{p[1].lose('shell-shocked');p[2].lose('dead');p[2].gain('revived');});
				new G.act(0.01,['ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.5 ancient_scepter%0.5|magic_wand%0.2|wizard_robe%0.2|the_gift%0.5 leader%0.5|kind%0.5|medic%0.5|suicidal%0.8|any%0.2 !sociopath|devious%0.8|survivalist%0.8','+ dead peaceful%0.5|kind%0.5|cute%0.5|medic%0.5|any%0.5'],`[BLUE][1] invokes [dark|desperate|arcane|last resort] magic with everything [1:they] have left!<br>One life for one life. With [1]'s life spent, [2] slowly begins to wake up once more...<br>When [2] realizes what has happened, it is already too late... Was it really worth it?`,p=>{p[1].kill(p[1],`self sacrafice`);p[2].gain('shell-shocked');p[2].lose('dead');p[2].gain('revived');});
			// Wish Ring
			new G.act(perkAttackMult*attackKill*0.2,[hesitentKiller+' wish_ring the_gift%0.2|naive%0.5|goth%0.5|any%0.5','- any annoying|any%0.8 !lucky_coin%0.2|plot_armor%0.5'],`[RED][1] wishes [2] would disappear... [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...nobody seems to remember [2] ever existed at all.`,p=>{p[1].kill(p[2],`ceased to exist`);p[2].gain('nihil');});
				new G.act(perkAttackMult*attackKill*0.1,['wish_ring naive%0.5|peaceful%0.5|meek%0.5|the_gift%0.5|any%0.5 !survivalist%0.8|devious%0.5|stubborn%0.5|analytical%0.5|plot_armor%0.5'],`[RED][1] wishes [1:g|he wasn't|she wasn't|they weren't] here... [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...nobody seems to remember [1] ever existed at all.`,p=>{p[1].kill(p[1],`ceased to exist`);p[1].gain('nihil');});
			new G.act(0.05,['wish_ring meek%0.5|devious%0.5|survivalist%0.5|analytical%0.5|any%0.5 !plot_armor%0.8|naive%0.5|peaceful%0.2|bulky%0.2'],`[RED][1] wishes [1:they] [were immortal|were invincibile|could survive anything].<br>[1]'s wish ring shimmers ominonusly, and [1] realizes what they've done.<br>It couldn't have been that easy, could it?`,p=>{p[1].gain('plot armor');});
			new G.act(0.05,['wish_ring peaceful%0.5|kind%0.5|the_gift%0.2|medic%0.2|any%0.5 !sociopath|devious%0.8|survivalist%0.8','+ dead !nihil'],`[BLUE][1] wishes [1:they] could see [2] one last time... [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...it's a miracle! [2] came back to life!`,p=>{p[2].lose('dead');p[2].gain('revived');});
			new G.act(0.1,['wish_ring peaceful%0.5|kind%0.5|the_gift%0.2|cowardly%0.5|any%0.5 !sociopath|survivalist%0.8|devious%0.5 alive:1 dead:>0'],`[BLUE][1] wishes [1:g|he wasn't|she wasn't|they weren't] alone anymore... [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...it's a miracle! Everybody's been brought back to life!`,p=>{
				for (var i in G.chars){G.chars[i].lose('dead');G.chars[i].gain('revived');}
			});
			new G.act(0.01,['wish_ring peaceful%0.5|kind%0.5|naive%0.5|meek%0.2|any%0.2 !sociopath%0.8|devious%0.5|survivalist%0.5|analytical%0.2|stubborn%0.2 alive:>1'],`[BLUE][1] wishes [everyone|people] would get along! [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...it seems the world has been made a softer place.`,p=>{
				for (var i in G.chars){G.chars[i].gain('peaceful');}
			});
			new G.act(0.01,['wish_ring has_killed%0.5|sociopath%0.5|devious%0.5|lunatic%0.2|any%0.2 !peaceful%0.8|kind%0.5|naive%0.5|meek%0.2|analytical%0.2 alive:>1'],`[BLUE][1] wishes [everyone|people] would just [be more violent|get it over with already|not hold back anymore]. [1:g|His|Her|Their] wish ring shimmers for a second, and then -<br>...it seems the world has been made a more violent place.`,p=>{
				for (var i in G.chars){G.chars[i].gain('sociopath');G.chars[i].lose('peaceful');}
			});
			// Cursed Knife Combat
            new G.act(perkAttackMult*attackKill*0.4,['cursed_knife sociopath%0.5|devious%0.5|goth%0.5|ninja%0.5|any%0.5 !peaceful%0.8|stubborn%0.8|kind%0.5|naive%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] seems in a daze as they sneak up behind [2] and stab [2:them] in the heart!`,p=>{p[1].kill(p[2],`cursed_knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife peaceful%0.5|stubborn%0.5|kind%0.5 !sociopath%0.5|devious%0.5|goth%0.5|ninja%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] tries to resist their cursed knife's demands and blacks out!<br>When they awake, [1:g|he is|she is|they're] covered in [2]'s blood!`,p=>{p[1].kill(p[2],`cursed knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife goth%0.8|sociopath%0.5|ninja%0.5|the_gift%0.5|any%0.2 !peaceful%0.8|stubborn%0.5|cowardly%0.5|kind%0.5','- any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill,'+ any !knight_armor%0.2|wizard_robe%0.2|lucky_coin%0.2 '+victimKill],`[RED][1] becomes one with the dark spirit in their knife and goes on a murdering spree.<br>By the end, both [2] and [3] have been sacraficed`,p=>{p[1].kill(p[2],`cursed knife`);p[1].kill(p[3],`cursed knife`);});
                new G.act(perkAttackMult*attackKill*0.2,['cursed_knife suicidal|any%0.2 !survivalist%0.8|stubborn%0.8|the_gift%0.5|lucky_coin%0.2|cowardly%0.2 '+victimKill],`[RED][1] hears their cursed knife demand sacrafice.<br>Convinced that [1:they] have had enough with the world, [1:g|he stabs himself|she stabs herself|they stab themselves] instead.`,p=>{p[1].kill(p[1],`cursed knife`);});
				new G.act(perkAttackMult*0.2,['cursed_knife peaceful%0.5|kind%0.5|lunatic%0.5|any%0.5 !stubborn%0.8|goth%0.8|sociopath%0.8|survivalist%0.5|suicidal%0.5'],`[1] can't keep struggling with the whispers from their knife for long.<br>[1] considers ending [1:their] own life.`,p=>{p[1].gain('suicidal');});
			// Pet Combat
			new G.act(perkAttackMult*attackMinor*0.3,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimMinor],`[RED][1] sics [1:their] pet hawk on [2]!<br>[2] is harassed by the [hawk|bird|avian|raptor] and suffers several scratches before driving it away.`,p=>{p[2].gain('scratched');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimModerate],`[RED][2] is ambushed by [1]'s hawk!<br>[2] ends up with several deep wounds from the [hawk|bird|avian|raptor]'s beak and talons.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[hesitentKiller+' pet_hawk animal_ken%0.8|meek%0.2|cowardly%0.2|marksmen%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|marksmen%0.2 '+victimKill],`[RED][1] sics [1:their] pet hawk on [2]!<br>[2] has their eyes torn out as [2:g|he bleeds|she bleeds|they bleed] to death blind.`,p=>{p[1].kill(p[2],`pet hawk`);});
				new G.act(perkAttackMult*attackFail*0.5,[hesitentKiller+' pet_hawk !animal_ken%0.5|sociopath%0.5|survivalist%0.2|marksmen%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|marksmen%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet hawk on [2]!<br>[2] manages to avoid and distract the [hawk|bird|avian|raptor] with some bait before escaping unscathed.`);
			new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimModerate],`[RED][1] sics [1:their] pet turtle on [2]!<br>[2] doesn't take it seriously until a few bites leave [2:them] without a few chunks of [2:their] hand before escaping!`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimModerate],`[RED][1] sics [1:their] pet turtle on [2]<br>[2] is [knocked over|tripped|ambushed] [off a cliff|and crushed by the turtle's heavy weight|and stomped right on the chest]! [2] [survives|is left] with a few broken ribs.`,p=>{p[2].gain('broken');});
				new G.act(perkAttackMult*attackKill*0.2,[hesitentKiller+' pet_turtle animal_ken%0.8|meek%0.2|cowardly%0.2|bulky%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|bulky%0.2 '+victimKill],`[RED][1] sics [1:their] pet turtle on [2]!<br>[2] gets stomped to bits. [2:g|He|She|They] never saw it coming...`,p=>{p[1].kill(p[2],`pet turtle`);});
				new G.act(perkAttackMult*attackFail*0.6,[hesitentKiller+' pet_turtle !animal_ken%0.5|sociopath%0.5|survivalist%0.2|bulky%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|bulky%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet turtle on [2]!<br>[2] simply [pushes it over|avoids the slow creature|walks away].`);
			new G.act(perkAttackMult*attackMinor*0.2,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimMinor],`[RED][1] sics [1:their] pet wolf on [2]!<br>[2] tries to fight the wolf off, but takes a bite to the foot.`,p=>{p[2].gain('scratched');});
				new G.act(perkAttackMult*attackModerate*0.2,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimModerate],`[RED][2] follows [1] from the shadows, only to be attacked by [1]'s wolf!<br>[2] suffers several severe bites from the guardian canine before escaping.`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.4,[hesitentKiller+' pet_wolf animal_ken%0.8|meek%0.2|cowardly%0.2|analytical%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|analytical%0.2 '+victimKill],`[RED][1] sics [1:their] pet wolf on [2]!<br>[2] gets torn to shreds by the ravenous animal!`,p=>{p[1].kill(p[2],`pet wolf`);});
				new G.act(perkAttackMult*attackFail*0.4,[hesitentKiller+' pet_wolf !animal_ken%0.5|sociopath%0.5|survivalist%0.2|analytical%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|analytical%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet wolf on [2]!<br>[2] calms the wolf before [2:g|he is|she is|they are] attacked and escapes [quietly|quickly].`);
			new G.act(perkAttackMult*attackModerate*0.3,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimModerate],`[RED][1] sics [1:their] pet tiger on [2]!<br>[2] takes a life threatening [claw|swing] to the [arm|leg|chest|face] but otherwise escapes in a [desperate struggle|blind panic|lucky break|tactical retreat|clever slip].`,p=>{p[2].gain('cut up');});
				new G.act(perkAttackMult*attackKill*0.3,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill],`[RED][1] sics [1:their] pet tiger on [2]!<br>[2] gets mauled to laces by the ravenous animal!`,p=>{p[1].kill(p[2],`pet tiger`);});
				new G.act(perkAttackMult*attackKill*0.2,[hesitentKiller+' pet_tiger animal_ken%0.8|meek%0.2|cowardly%0.2|rich%0.2|any%0.5','- any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill,'+ any !animal_ken%0.5|kind%0.2|rich%0.2 '+victimKill],`[RED][1] ambushes [2] and [3] with [1:their] tiger!<br>[2] and [3] never had a chance against the [apex|deadly|massive] [predator|carnivore|striped feline|beast].`,p=>{p[1].kill(p[2],`pet tiger`);p[1].kill(p[3],`pet tiger`);});
				new G.act(perkAttackMult*attackFail*0.3,[hesitentKiller+' pet_tiger !animal_ken%0.5|sociopath%0.5|survivalist%0.2|rich%0.2','- any animal_ken%0.8|peaceful%0.2|kind%0.2|rich%0.2 !meek%0.2|naive%0.2|cowardly%0.2'],`[1] sics [1:their] pet tiger on [2]!<br>[2] [never breaks eye contact with|never turns [2:their] back to|avoids getting caught by] the [apex|deadly|massive] [predator|carnivore|striped feline|beast] until the tiger finally loses interest and leaves.`);
			
			// Injury Events
			var healthMinor='bulky%0.3|stubborn%0.3|plot_armor%0.2|any%0.5 !scratched%0.2|bruised%0.2|sick%0.2|dizzy%0.2';
			var healthModerate='bulky%0.2|stubborn%0.2|plot_armor%0.4|any%0.5 !cut_up%0.3|broken%0.3|shot%0.3|singed%0.3';
			var healthMajor='bulky%0.1|stubborn%0.1|plot_armor%0.6|any%0.5 !bleeding_out%0.5|burnt%0.5|missing_arm%0.5|missing_leg%0.5|badly_poisoned%0.5';
			
			var healthRecover=1;
			var healthWorsen=1;
			var healthHeal=1;
			var healthDeath=1;
			
			// - Minor (
			new G.act(healthRecover*0.3,['scratched '+healthMinor],`[1] has mostly recovered from their scratches.`,p=>{p[1].lose(`scratched`);});
				new G.act(healthWorsen*0.1,['scratched !cut_up|first_aid_kit%0.5|medic%0.5 '+injuredMinor],`[RED][1] accidentally aggravates [1:their] scratches, reopening the wounds even worse than before.`,p=>{p[1].gain(`cut up`);});
			new G.act(healthRecover*0.3,['bruised '+healthMinor],`[1]'s bruises have mostly faded.`,p=>{p[1].lose(`bruised`);});
				new G.act(healthWorsen*0.1,['bruised !broken|first_aid_kit%0.5|medic%0.5 '+injuredMinor],`[RED][1] grips [1:their] chest, realizing that [1:their] bruises are not healing properly...<br>Are the wounds deeper than [1:they] thought...?`,p=>{p[1].gain(`broken`);});
			new G.act(healthRecover*0.3,['dizzy '+healthMinor],`[1] is able to think clearly again.`,p=>{p[1].lose(`dizzy`);});
				new G.act(healthWorsen*0.08,['dizzy !dazed|medicine%0.5|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] goes into a catatonic daze.`,p=>{p[1].gain(`dazed`);});
				new G.act(healthWorsen*0.01,['dizzy !frenzied|medicine%0.5|peaceful%0.8|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] goes into a berzerk frenzy!`,p=>{p[1].gain(`frenzied`);});
				new G.act(healthWorsen*0.01,['dizzy !laughed|medicine%0.5|peaceful%0.5|medic%0.5|stubborn%0.5 '+injuredMinor],`[RED][1]'s head injury takes a turn for the worse as [1] begins laughing like a mad[1:g|man|women|person].`,p=>{p[1].gain(`laughed`);});
			new G.act(healthRecover*0.3,['sick '+healthMinor],`[1] recovers from feeling [sick|ill].`,p=>{p[1].lose(`sick`);});
				new G.act(healthWorsen*0.1,['sick !poisoned|medicine%0.5|medic%0.2|first_aid_kit%0.2|bulky%0.2 '+injuredMinor],`[RED][1] is feeling even worse as [1:their] fever heightens and [1:their] illness leads to a poisoning of [1:their] blood.`,p=>{p[1].gain(`poisoned`);});
			// - Moderate
			new G.act(healthRecover*0.2,['cut_up '+healthModerate],`[1] has partly recovered from [1:their] [wounds|lacerations|deep cuts].`,p=>{p[1].lose(`cut up`);p[1].gain('scratched');});
				new G.act(healthWorsen*0.1,['cut_up !bleeding_out|first_aid_kit%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] worsens [1:their] [wounds|lacerations|deep cuts] further [as they go untreated|in an accident], and is beginning to bleed out...`,p=>{p[1].gain(`bleeding out`);});
				new G.act(healthWorsen*0.1,['cut_up !sick|first_aid_kit%0.5|medicine%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] has become [ill|feverish] from the infection in [1:their] [wounds|lacerations|cuts].`,p=>{p[1].gain(`sick`);});
			new G.act(healthRecover*0.2,['broken '+healthModerate],`[1] doesn't feel in as much pain from [1:their] internal injuries.<br>Nonetheless, [1] begins to feel a bit feverish.`,p=>{p[1].lose(`broken`);p[1].gain('sick');});
				new G.act(healthWorsen*0.2,['broken !sick|first_aid_kit%0.5|medic%0.5|medicine%0.5 '+injuredModerate],`[RED][1] becomes [sick|ill] from the pain of [1:their] internal injuries.`,p=>{p[1].gain(`sick`);});
			new G.act(healthRecover*0.2,['shot '+healthModerate],`[1] has tried treating [1:their] open wound.<br>While mostly successful, [1:they] still feel sick to [1:their] stomach.`,p=>{p[1].lose(`shot`);p[1].gain('sick');});
				new G.act(healthWorsen*0.2,['shot !bleeding_out|first_aid_kit%0.5|medic%0.5|tourniquet%0.2 '+injuredModerate],`[RED][1] is becoming light headed as the bleeding from where [1:they] were shot continues...`,p=>{p[1].gain(`bleeding out`);});
			new G.act(healthRecover*0.2,['singed '+healthModerate],`[1]'s burns have mostly healed, but [1:they] still feel light-headed from pain and blood loss.`,p=>{p[1].lose(`singed`);p[1].gain('sick');});
				new G.act(healthWorsen*0.2,['singed !cut_up|medic%0.8|first_aid_kit%0.5|medicine%0.5 '+injuredModerate],`[RED][1] tries removing some improvised bandages on [1:their] burnt [skin|flesh|body] but inflicts more [wounds|lacerations] as the burnt [skin|flesh] too easily rips off.`,p=>{p[1].gain(`cut up`);});
			new G.act(healthRecover*0.2,['poisoned '+healthModerate],`[1] still has the chills and a fever as [1:their] poison runs its course.<br>However, [1] is starting to recover!`,p=>{p[1].lose(`poisoned`);p[1].gain('sick');});
				new G.act(healthWorsen*0.2,['poisoned !badly_poisoned|medicine%0.5|medic%0.5|bulky%0.2 '+injuredModerate],`[RED][1] continues to grow worse as [1:their] poisoned body begins shutting down...`,p=>{p[1].gain(`badly poisoned`);});
			// - Major
			new G.act(healthRecover*0.1,['bleeding_out any '+healthMajor],`Despite the severity of [1:their] injuries, [1] has stopped bleeding so harshly.<br>Maybe [1] still has a chance?`,p=>{p[1].lose(`bleeding out`);});
				new G.act(healthDeath*0.7,['bleeding_out any !tourniquet%0.8|first_aid_kit%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|drops] from blood loss.`,p=>{p[1].die(`blood loss`);});
			new G.act(healthRecover*0.1,['burnt any '+healthMajor],`[1] has toughened out the worst of [1:their] burns, but is far from fully recovered.`,p=>{p[1].lose(`burnt`);p[1].gain('singed');});
				new G.act(healthDeath*0.7,['burnt any !first_aid_kit%0.5|medicine%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|drops] from their extensive burns.`,p=>{p[1].die(`burn wounds`);});
			new G.act(healthRecover*0.1,['badly_poisoned any '+healthMajor],`[1] begins recovering from [1:their] severe [poison|toxic] build up, but hasn't fully recovered yet.`,p=>{p[1].lose(`badly poisoned`);p[1].gain('poisoned');});
				new G.act(healthDeath*0.7,['badly_poisoned any !medicine%0.5|medic%0.5 '+injuredMajor],`[RED][1] [dies|falls|loses] to the [severe poison|toxic buildup] within them.`,p=>{p[1].die(`poison`);});
			// - First Aid Self
			new G.act(healthHeal*0.5,['bruised|sick|dizzy medicine medic%0.8|analytical%0.2|first_aid_kit%0.2|any%0.5'],`[BLUE][1] takes some medication to take the edge off [1:their] pain, feeling better and more clear headed overall.`,p=>{p[1].lose(`bruised`);p[1].lose(`sick`);p[1].lose(`dizzy`);});
			new G.act(healthHeal*0.5,['cut_up|shot|scratched first_aid_kit%0.8|medic%0.5|medicine%0.2|roll_of_fabric%0.2|any%0.2'],`[BLUE][1] [carefully|calmly|expertly] treats [1:their] own [wounds|lacerations] with what supplies [1:g|he has|she has|they have], stopping any bleeding and preventing future infection.`,p=>{p[1].lose(`shot`);p[1].lose(`cut up`);p[1].lose(`scratched`);});
			new G.act(healthHeal*0.5,['broken|cut_up%0.5 first_aid_kit|roll_of_fabric%0.5|medic%0.2 first_aid_kit%0.5|medic%0.5|roll_of_fabric%0.5'],`[BLUE][1] uses some improvised fabric and bandages to [carefully|expertly|gently] bind their injuries.<br>While the bruises still hurt, [1]'s internal injuries shouldn't get any worse.`,p=>{p[1].lose(`broken`);p[1].lose(`cut up`);p[1].lose(`scratched`);p[1].lose(`roll of fabric`);p[1].gain(`bruised`);});
			new G.act(healthHeal*0.5,['burnt|singed first_aid_kit|medicine first_aid_kit%0.5|medicine%0.5|medic%0.5 any'],`[BLUE]With some medical ointment and bandaging [1] is able to treat [1:their] severe burns carefully.`,p=>{p[1].lose(`burnt`);p[1].lose(`singed`);});
			new G.act(healthHeal*0.5,['bleeding_out first_aid_kit|roll_of_fabric%0.2|medic%0.2 first_aid_kit%0.5|roll_of_fabric%0.5|medic%0.5 any'],`[BLUE][1] packs [1:their] wounds and slows [1:their] own bleeding.<br>It ruins what fabrics [1:they] has with blood, but better than being dead.`,p=>{p[1].lose(`bleeding out`);p[1].lose(`roll of fabric`);});
				new G.act(healthHeal*1,['bleeding_out|cut_up%0.2|shot%0.2 bleeding_out%0.5|cut_up%0.2|shot%0.2|scratched%0.2 tourniquet medic%0.8|survivalist%0.5|bulky%0.2|analytical%0.2|any%0.5 any !cowardly%0.5|meek%0.2'],`[1] resorts to [1:their] tourniquet to stop the bleeding, costing [1:them] [1:their] arm, but probably saving [1:their] life.`,p=>{p[1].lose(`bleeding out`);p[1].lose(`shot`);p[1].lose(`cut up`);p[1].lose(`scratched`);p[1].lose(`tourniquet`);p[1].gain(`missing arm`);});
			new G.act(healthHeal*0.5,['badly_poisoned|poisoned medicine medic%0.8|analytical%0.2|first_aid_kit%0.2|any%0.5 any'],`[BLUE][1] figures out an effective anidote from [1:their] medicine. While still feeling the chills, [1:g|he is|she is|they are] recovering much faster now.`,p=>{p[1].lose(`poisoned`);p[1].lose(`badly poisoned`);p[1].gain(`sick`);});
			// - First Aid Team Member
			new G.act(healthHeal*1,['medicine|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any bruised|sick|dizzy !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] uses what they have to help treat [2]'s various pains.<br>[2] is already feeling better and thinking clearer, relying on [1]'s expert care.`,p=>{p[2].lose(`bruised`);p[2].lose(`sick`);p[2].lose(`dizzy`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|medic%0.5|medicine%0.2|roll_of_fabric%0.2|any%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any cut_up|shot|scratched !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] [carefully|calmly|expertly] treats [2]'s [wounds|lacerations] with what supplies [1] has, stopping any bleeding and preventing future infection.`,p=>{p[2].lose(`shot`);p[2].lose(`cut up`);p[2].lose(`scratched`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|roll_of_fabric%0.5|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any broken|cut_up%0.5 !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] uses some improvised fabrics to [carefully|expertly|gently] bind [2]'s injuries<br>While the bruises still hurt, [2]'s internal injuries shouldn't get any worse.`,p=>{p[2].lose(`broken`);p[2].lose(`cut up`);p[2].lose(`scratched`);p[1].lose(`roll of fabric`);p[2].gain(`bruised`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|medicine%0.8|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any burnt|singed !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE]With some medical ointment and bandaging [1] is able to treat [2]'s severe burns carefully.`,p=>{p[2].lose(`burnt`);p[2].lose(`singed`);});
			new G.act(healthHeal*1,['first_aid_kit%0.8|roll_of_fabric%0.2|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any bleeding_out !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] desperately packs [2]'s wounds and slows [2:their] bleeding down.<br>It ruins what fabrics [1] has with blood, but better than letting [2] die without a fight.`,p=>{p[2].lose(`bleeding out`);p[1].lose(`roll of fabric`);});
				new G.act(healthHeal*2,['tourniquet|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|cowardly%0.5|devious%0.2|annoying%0.2','+ any bleeding_out|cut_up%0.2|shot%0.2 !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[1] resorts to [1:their] tourniquet to stop [2] from bleeding to death, costing [2:them] [2:their] arm, but probably saving [2:their] life.`,p=>{p[2].lose(`bleeding out`);p[2].lose(`shot`);p[2].lose(`cut up`);p[2].lose(`scratched`);p[1].lose(`tourniquet`);p[2].gain(`missing arm`);});
			new G.act(healthHeal*1,['medicine|medic%0.2 medic%0.5|leader%0.5|kind%0.5|peaceful%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2','+ any badly_poisoned|poisoned !sociopath%0.5|frenzied%0.5|suicidal%0.5|laughed%0.2|survivalist%0.2'],`[BLUE][1] carefully treats [2]'s [poisoned|toxified|dying] body with what medication and herbs they have.<br>While [2] is still feeling [feverish|the chills|ill], [2:g|he is|she is|they are] recovering much faster now.`,p=>{p[2].lose(`poisoned`);p[2].lose(`badly poisoned`);p[2].gain(`sick`);});
			// - First Aid Leader (ToDo)

			// Events for the Dead
            new G.act(healthHeal*0.4,['medic%0.5|leader%0.5|kind%0.5|analytical%0.2|any%0.5 !sociopath%0.8|AED%0.8|survivalist%0.5|devious%0.2|meek%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[1] tries desperately to perform CPR on [2], but [2:they] just won't wake up...`);
				new G.act(healthHeal*0.1,['medic%0.5|leader%0.2|kind%0.2|analytical%0.2|any%0.2 !sociopath%0.8|AED%0.8|survivalist%0.5|devious%0.2|meek%0.2','+ dead bulky%0.5|stubborn%0.5|survivalist%0.5|plot_armor%0.8|any%0.5 !nihil|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] tries [desperately|calmly|expertly] to perform CPR on [2]...<br>After a few agonizing [seconds|moments|cycles|minutes], [2] begins to breath again!<br>[2] slowly wakes up from death's door, will [2:they] survive?`,p=>{p[2].lose('dead');});
			new G.act(healthHeal*0.5,['AED medic%0.5|leader%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] [begins|keeps|tries] using [1:their] AED on [2]...<br>CLEAR!<br>[2] still won't wake up. [1] keeps trying to use CPR and the AED anyway...`);
				new G.act(healthHeal*0.5,['AED medic%0.8|leader%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.5|stubborn%0.5|survivalist%0.5|plot_armor%0.8|any%0.5 !nihil|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] [begins|keeps|tries] using [1:their] AED on [2]...<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [2] [is woken|comes back from|revives from] the edge of death!`,p=>{p[2].lose('dead');});
				new G.act(healthHeal*0.2,['AED medic%0.5|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ medic%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [1]'s AED on [3].<br>CLEAR!<br>[2] still won't wake up. [1] and [2] keeps trying to use CPR and the AED anyway...`);
				new G.act(healthHeal*0.2,['AED medic%0.8|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ medic%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.2|stubborn%0.2|survivalist%0.2|plot_armor%0.8|any%0.5 !nihil|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [1]'s AED on [3].<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [3] [is woken|comes back from|revives from] the edge of death!`,p=>{p[3].lose('dead');});
				new G.act(healthHeal*0.1,['medic%0.5|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ AED medic%0.5|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead !nihil|confirmed|sociopath%0.5|survivalist%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [2]'s AED on [3].<br>CLEAR!<br>[2] still won't wake up. [1] and [2] keeps trying to use CPR and the AED anyway...`);
				new G.act(healthHeal*0.1,['medic%0.8|leader%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ AED medic%0.8|kind%0.5|analytical%0.2|inventor%0.2|any%0.5 !sociopath%0.8|survivalist%0.5|devious%0.2|annoying%0.2|cowardly%0.2','+ dead bulky%0.2|stubborn%0.2|survivalist%0.2|plot_armor%0.8|any%0.5 !nihil|confirmed|sociopath%0.5|meek%0.2'],`[BLUE][1] and [2] cordinate together to perform CPR and use [2]'s AED on [3].<br>CLEAR!<br>In a [painful|sudden|surprising] gasp, [3] [is woken|comes back from|revives from] the edge of death!`,p=>{p[3].lose('dead');});
			new G.act(0.2,['dead bulky%0.2|survivalist%0.2|stubborn%0.2|plot_armor%0.8|any%0.2 !nihil|confirmed|meek%0.2'],`[BLUE][1] was [only mostly dead|thought for dead] but they've awoken despite their wounds.<br>Looks like [1] survived after all!`,p=>{p[1].lose('dead');});
				new G.act(0.1,['dead magic_dust !nihil|confirmed%0.5'],`[BLUE]Magic powder spills from [1]'s pouch, spilling over [1:their] body...<br>[1] begins to wake up, alive once more!`,p=>{p[1].lose('dead');p[1].gain('revived');p[1].lose('magic dust');});
			new G.act(0.2,['dead !nihil|plot_armor%0.8|confirmed%0.8'],`[The [pile of flesh that used to be|dead husk of] [1]|[1]'s [corpse|lifeless body]] [[rots|festers|desiccates|decays|putrefies|decomposes] [peacefully|silently]|writhes with maggots].`,p=>{p[1].gain('confirmed');});

			// Unfinished content below.

			// Defensive Perks
			new G.act(anyDefenseMult*0.4,[hesitentKiller+'sword%0.5|axe%0.5','- knight_armor any'],`[1] tries to [attack|kill] [2], but [2]'s knight armor diverts the blow!`);
				new G.act(anyDefenseMult*0.4,[hesitentKiller,'- combat_gear any'],`[1] tries to [attack|kill] [2], but [2]'s combat gear diverts the blow!`);
				new G.act(anyDefenseMult*0.4,[hesitentKiller,'- wizard_robe any'],`[1] tries to [attack|kill] [2], but [2]'s wizard robe has already carried [2:them] away to safety!`);
				new G.act(anyDefenseMult*0.4,[coldBloodKiller+' handgun|shotgun','- kevlar_vest any'],`[1] fires their gun at [2], but [2] survives with only bruises thanks to [2:their] kevlar vest!`,p=>{p[2].gain('bruised');});
				new G.act(anyDefenseMult*0.2,[coldBloodKiller,'- parka any'],`[1] tries to kill [2], but [2]'s parka takes the brunt of the damage, being ruined in the process.`,p=>{p[2].lose('parka');});
				new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- leather_scraps any'],`[1] tries to kill [2], but [2]'s leather 'armor' miraculously saves their life.`);
			new G.act(anyDefenseMult*0.4,[coldBloodKiller+' big_stick|sword|axe','- kite_shield any !missing_arm%0.5|meek%0.2'],`[1] tries to kill [2], but [2] fends off all [1]'s weapon strikes with [2:their] kite shield.`);
				new G.act(anyDefenseMult*0.4,[coldBloodKiller+' handgun|shotgun|bow','- riot_shield any !missing_arm%0.5|meek%0.2'],`[1] tries to kill [2], but [2] hides from all the shots behind [2:their] riot shield.`);
				new G.act(anyDefenseMult*0.2,[coldBloodKiller,'- any','+ kite_shield|riot_shield !survivalist%0.8|sociopath%0.8|devious%0.5|missing_arm%0.5'],`[RED][1] attempts to kill [2] and [3]!<br>[3] manages to defend them both with [3:their] shield!`);
			new G.act(anyDefenseMult*0.2,[hesitentKiller+' !bulky%0.5|sword%0.5|axe%0.5|big_stick%0.2|pitchfork%0.2','- bulky any'],`[1] tries to [attack|kill] [2], but [2] [is too [hardy|strong] to [overcome|defeat]|fights off [1] with [2:their] raw strength]!`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' !devious|sociopath|survivalist','- rich any'],`[1] tries to kill [2], but [2] convinces them to take a bribe instead.`);
                new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- rich devious|seductive|dapper_suit|bikini any'],`[1] tries to kill [2], but [2] wins them over with [2:their] charm and cash.`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' !sociopath|survivalist','- cute any'],`[1] manages to ambush [2], but spares [2:them], finding [2] too cute to kill.`);
            new G.act(anyDefenseMult*0.1,[coldBloodKiller,'- lucky_coin any'],`[1] tries to kill [2], but [2]'s manages a lucky break and escapes!`);
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' handgun','- lucky_coin any'],`[RED][1] fires [1:their] gun at [2]!<br>[2] is shot and left for dead, but wakes up to find [2:their] lucky coin stopped the bullet!<br>Seems it's luck has been used up now.`,p=>{p[1].lose('lucky coin');});
				new G.act(anyDefenseMult*0.1,[coldBloodKiller+' handgun|shotgun|bow|lasergun','- lucky_coin any'],`[1] tries to shoot at [2], but somehow every shot misses [2] by a hair!`);
            

            
            // Back to normal programing

			
			new G.act(0.3,['devious|sociopath|lunatic|survivalist','+ annoying'],`[RED][1] can't take it anymore and snaps [2]'s neck.`,p=>{p[1].kill(p[2],`too annoying to live`);});
			new G.act(0.3,['suicidal'],`[RED][1] can't take it anymore...<br>[1] has taken [1:their] own life.`,p=>{p[1].kill(p[1],`suicide`);});
				new G.act(0.3,['suicidal handgun'],`[RED][1] can't take it anymore...<br>[1] takes [1:their] own life with [1:their] handgun.`,p=>{p[1].kill(p[1],`handgun suicide`);});
				new G.act(0.3,['suicidal shotgun'],`[RED][1] can't take it anymore...<br>[1] takes [1:their] own life with [1:their] shotgun.`,p=>{p[1].kill(p[1],`shotgun suicide`);});
				new G.act(1,['suicidal alive:1'],`[RED][1] finds no point in being alive if [1:g|he's|she's|they're] the only one left.<br>[1] has taken [1:their] own life...`,p=>{p[1].kill(p[1],`suicide`);});
				new G.act(0.5,['suicidal alive:1'],`[BLUE][1] is all alone. [1:g|He looks|She looks|They look] around, not a soul to be seen...<br>It's quite peaceful, actually.<br>[1] is no longer suicidal.`,p=>{p[1].lose('suicidal');});
				new G.act(0.1,['!suicidal !survivalist|sociopath alive:1'],`[RED]There's nobody left except for [1]. What a bleak existence...<br>[1] is feeling suicidal.`,p=>{p[1].gain('suicidal');});
			// added inventors to setting/disarming traps, but they're not as good as survivalists at avoiding them. -TW
			new G.act(0.5,['survivalist|inventor !set_trap'],`[1] sets down a trap.`,p=>{p[1].gain('set trap');});
				new G.act(0.5,['!survivalist','set_trap'],`[RED][1] gets caught in one of [2]'s traps!<br>All [1:they] can do now is hope to be freed...`,p=>{p[2].lose('set trap');p[1].gain('trapped');});
				new G.act(0.1,['!survivalist','set_trap'],`[RED][1] gets caught in one of [2]'s traps... What a stupid mistake! [1:g|He|She|They] should have known better.<br>All [1:they] can do now is hope to be freed...`,p=>{p[2].lose('set trap');p[1].gain('trapped');});
				new G.act(0.5,['survivalist|inventor','- set_trap'],`[1] is smart enough to disarm one of [2]'s traps.`,p=>{p[2].lose('set trap');});
				new G.act(1,['trapped !bleeding_out any'],`[Still caught in the trap, [1] lays there, moping.|[1], still trapped, screams for help, but nobody answers...|[1] is still caught in the trap...|[1] is trapped and can't do anything.]`);
				new G.act(0.6,['trapped !bleeding_out any'],`[RED][1] was struggling in the trap and cut [1:themself] pretty bad.<br>[1] is now bleeding out!`,p=>{p[1].gain('bleeding out');});
				new G.act(1,['trapped bleeding_out any'],`[1] is trapped and slowly bleeding out...`);
				new G.act(0.5,['trapped bleeding_out any'],`[RED][1] finally dies from blood loss caused by the trap [1:g|he was|she was|they were] stuck in.`,p=>{p[1].die(`bled out in trap`);});
				new G.act(0.3,['!devious|survivalist','+ trapped any'],`[BLUE][1] finds [2] caught in a trap, and manages to free [2:them].`,p=>{p[2].lose('trapped');});
				new G.act(0.3,['!devious|survivalist peaceful|kind','- trapped any'],`[BLUE][1] feels sorry for [2] and frees [2:them] from the trap.`,p=>{p[2].lose('trapped');});
				new G.act(0.1,['trapped'],`[BLUE][1] manages to pull [1:themself] out of the trap!`,p=>{p[1].lose('trapped');});
			
			new G.act(0.5,['sociopath|survivalist|devious','+ sociopath|survivalist|devious','+'],`[1] and [2] conspire against [3]...`);
				new G.act(0.2,['sociopath|survivalist|devious','+ sociopath|survivalist|devious','+'],`[RED]In an act of betrayal, [1] and [2] team up and [murder|eliminate|get rid of] [3]!`,p=>{p[1].kill(p[3],`betrayal`,p[2]);});
			new G.act(0.2,['survivalist','+ !survivalist'],`[RED][1] feels like [2] is slowing [1:them] down.<br>[1] [has murdered|got rid of|eliminated|did quick work of] [2]!`,p=>{p[1].kill(p[2],`betrayal`);});
			
			new G.act(0.3,['has_killed sociopath|devious|lunatic|unstable !peaceful|kind'],`[1] can't wait to kill again...`);
			new G.act(0.3,['has_killed peaceful|kind'],`[1] [feels horrible for what [1:they] did...|wishes [1:they] didn't have to kill anyone...|never wants to kill anyone ever again.]`);
			new G.act(0.3,['!has_killed peaceful|kind','+ has_killed'],`[1] still can't believe [2] killed someone...`);
			new G.act(0.3,['!devious|sociopath|survivalist','+ dead'],`[1] [reminisces about|thinks about|remembers|recalls something about|remembers how much [1:g|he misses|she misses|they miss]] [2] and sobs quietly.`);
			new G.act(0.3,['!devious|sociopath|survivalist alive:1'],`[1] [reminisces about|thinks about|remembers|remembers how much [1:g|he misses|she misses|they miss]] everybody and sobs quietly.`);

			
			
			
			//accidents happen
			new G.act(0.008,['!survivalist any'],`[RED][1] [wasn't looking and fell off a cliff...|eats something [1:they] shouldn't have and dies of horrible stomach pains.|gets mauled by wild animals.|trips and falls in a really bad way, breaking [1:their] neck.]`,p=>{p[1].die(`accident`);});
			new G.act(0.002,['!survivalist any'],`[RED][1] kind of wanders off and gets lost, never to be seen again.`,p=>{p[1].die(`missing`);p[1].gain('nihil');});
			new G.act(0.005,['survivalist any'],`[RED][1] gets cocky and ends up dying from a stupid mistake.`,p=>{p[1].die(`stupid mistake`);});
			new G.act(0.2,['sheep suicidal%0.8|meek%0.5|naive%0.5|clumsy%0.5|any%0.5 !stubborn%0.2|survivalist%0.2|cowardly%0.2|animal_ken%0.2|plot_armor%0.8'],`[RED][1] is a sheep and [wanders off too far, becoming food for wild beasts|accidentally falls off a cliff while grazing].`,p=>{p[1].die(`sheep accident`);});
			
			new G.act(0.01,['dead alive:0 dead:>1 any'],`[BLUE]A god comes upon this mess and revives everyone out of boredom.<br>How nice! Everybody's back.`,p=>{
				for (var i in G.chars){G.chars[i].lose('dead');G.chars[i].gain('revived');}
			});
			new G.act(0.03,['dead alive:0 dead:1 any'],`[BLUE]A god comes upon this mess and revives [1] out of boredom.<br>How nice!`,p=>{p[1].lose('dead');p[1].gain('revived');});
			
			new G.act(FORCE,['revived dead any'],`[1] was about to live again, but is, sadly, still dead.`,p=>{p[1].lose('revived');});
            // NIHIL -TW
            new G.act(FORCE,['revived nihil any'],`[1] is recreated as everyone else is revived. No one seems to have noticed [1:g|he was|she was|they were] ever gone!`,p=>{p[1].lose('revived');p[1].lose('nihil');});
			
			new G.act(FORCE,['revived !suicidal !dead every'],`[1] feels [1:themself], unsure what just happened. Guess [1:g|he's|she's|they're] alive again.`,p=>{p[1].lose('sheep');p[1].lose('revived');p[1].lose('confirmed');});
			new G.act(FORCE,['revived suicidal !dead every'],`[1] feels [1:themself], unsure what just happened. Guess [1:g|he's|she's|they're] alive again.<br>Goddammit.`,p=>{p[1].lose('sheep');p[1].lose('revived');p[1].lose('confirmed');});
			
			/*
			//just a test
			new G.act(1,['','+'],``,p=>{
				var traitsList=[];
				for (var i in G.perks)
				{
					var me=G.perks[i];
					if (me.def && me.type=='trait') traitsList.push(me);
				}
				var me=new G.char({name:c(['Bob','Bub','Blob','Brob','Blib','Blug','Blab'])+c(['ert','urt','art','ard','by']),pic:c([p[1],p[2]]).pic,perks:[c(traitsList),c(traitsList)],gender:c([0,0,0,1,1,1,2])});
				me.join(p[1].team);
				
				return `[BLUE][1] and [2] decide to have a child!<br>They name the child <e>${me.name}</e>.`;
			});
			*/
			
			for (var i in G.acts)
			{
				var me=G.acts[i];
				if ((me.text.split('[').length-1)!=(me.text.split(']').length-1)) console.log(`Warning : brackets in the action "`,me.text,`" do not match.`);
			}
			
			
			let actsList=shuffle(G.actsForced).concat(shuffle(G.actsOther));

			//Descriptive combat system by CS
			G.moves = [];
			G.move = function(obj) {
				this.chance = obj.chance||G.moveDefault.chance;
				this.element = obj.element||G.moveDefault.element; //element determines the nature of the attack as well as which attacks it can counter/be countered by
				if (obj.req) { this.req = [].concat(obj.req); } else { this.req = G.moveDefault.req; }//req is a string as the conditions to meet before the move can be considered possible in the first index, then indexes after that define reqs the opponents have to meet
				//unfortunately due to not wanting to recode an entirely new set of syntaxes and having to update that one whenever updating G.act.prototype.fit ive decided to take shortcut and just use that syntax and sacrifice the ability to dynamically adjust move chances but whatev
				if (obj.cReq) { this.cReq = [].concat(obj.cReq); } else { this.cReq = G.moveDefault.cReq; } //the requirements for the opposing move (first item) and person(people) that made the move (every other item, logical AND) to have their move countered 
				if (obj.pReq) { this.pReq = [].concat(obj.pReq); } else { this.pReq = G.moveDefault.pReq; } //proximity requirement
				this.text = obj.text||G.moveDefault.text; 
				this.fail = obj.fail||G.moveDefault.fail; //function returning whether the move fails
				this.failText = obj.failText||G.moveDefault.failText; 
				this.successFunc = obj.successFunc||G.moveDefault.successFunc; //called on move success; with the call function setting the char
				this.failFunc = obj.failFunc||G.moveDefault.failFunc; //called on move failure
				this.func = obj.func||G.moveDefault.func; //called before either funcs (and in fact, before fail check)
				if (obj.id) { this.id = obj.id; } else { this.id = G.moveDefault.id; }
				
				G.moves.push(this);
			}
			G.moveDefault = {
				chance: 1,
				element: null,
				req: [],
				cReq: [],
				pReq: [],
				text: '',
				fail: function() { return false; },
				failText: '',
				successFunc: function() { },
				failFunc: function() { },
				func: function() { },
				id: null
			};
			G.element = function(obj) {
				//obj is some stuff to indicate its parameters
				obj = obj||{};
				
				this.y = obj.y||G.elementDefault.y; //(from) straight-up [4], above [2], level [0], below [-2], straight-down [-4]
				this.interact = obj.interact||G.elementDefault.interact; //the maximum amount of other people that this move interacts with
				this.interactMin = obj.interactMin||G.elementDefault.interactMin; //the minimum amount of other people required
				this.temp = obj.temp||G.elementDefault.temp; //molten [4], glowing [3], boiling [2], hot [1], rom temp [0], chilly [-1], freezing [-2], on-touch frostbite [-3]
				this.state = obj.state||G.elementDefault.state; //plasma [3], gas [2], liquid [1], solid [0]
				this.reach = obj.reach||G.elementDefault.reach; //the number of one-sixteenth of circles of area (roughly)
				this.range = obj.range||G.elementDefault.range; //arbitary units, but 1 is like half an arms length
				this.speed = obj.speed||G.elementDefault.speed; //arbitary units
				this.delay = obj.delay||G.elementDefault.delay; //seconds to delay to use
				this.size = obj.size||G.elementDefault.size; //also describes weight; arbitary units
				this.sharp = obj.sharp||G.elementDefault.sharp; //polished katana [2], regular knife [1], blunt side of pen [0], crushing only [-1]
				this.moveHorizontal = obj.moveHorizontal||G.elementDefault.moveHorizontal; //arbitary units; moves away (pos) or to (neg) the other people
				this.moveVertical = obj.movevertical||G.elementDefault.moveVertical; //8 to -8
				this.objects = ([].concat(obj.objects))||G.elementDefault.objects; //objects used (e.g. "dry tree")
				this.elec = obj.elec||G.elementDefault.elec; //electrically charged?
				this.magic = obj.magic||G.elementDefault.magic; //magical?
			}
			G.moveDefault.element = new G.element();
			G.elementDefault = {
				y: 0,
				interact: 1,
				interactMin: 1,
				temp: 0, 
				state: 0,
				reach: 0,
				range: 0,
				speed: 0,
				delay: 0,
				size: 0,
				sharp: 0,
				moveHorizontal: 0,
				moveVertical: 0,
				objects: [],
				elec: 0,
				magic: 0
			};
			G.checkReq = function(char, req) {
				if (!req) { return true; }
				let list = G.act.prototype.fit(char, req);
				if (!list) { return false; } else { return true; }
			}; //extreme lazy ahhhh (performance can go die)
			G.checkCReq = function(char, cReq, otherMove, people) {
				//each item in array is a condition of the opposing move or char that determines whether the move is possible
				if (cReq.length == 0 || !cReq) { return true; }
				let me = cReq[0].split(' '); //the move parameters
				let otherPeople = cReq.splice(0, 1);
				let fit = true;
				/* syntax: 
				NOT operator: ! (brackets not supported)
				define element range: element_parameter_name:upper_bound/lower_bound (inclusive)
				define move: m:move_name (e.g. must be that move)
				AND operator: [space]
				OR operator: |
				with chance: (affix) :number
				*/
				for (let i in me) {
					let it = me[i].split('|');
					let pass = false;
					if (!it.length) { continue; }
					for (let ii in it) {
						let NOT = false;
						if (it[ii][0]=='!') { it[ii].splice(0, 1); NOT = true; }
						
						let result = G.parseEle(it[ii], otherMove);
						if (NOT) { result = !result; }
						
					}
					if (!pass) { fit = false; break; }
				}

				var target = choose(people);

				for (let i = 1; i < cReq.length; i++) {
					let pass = false;
					if (G.checkReq(target, cReq[i])) { pass = true; break; } 
					if (!pass) { fit = false; break; }
				}
				return fit;
			}
			G.checkPReq = function(char, otherChar, pReq) {
				/* pReq is a string for an actor pair
					returns whether this char (otherChar) is in the correct proximity to the char to do stuff to it
					syntax:
					AND operator: ' ' (space)
	 				OR operator: '|'
	  				expressions are of the following:
	   					[key]:[max]
					or 
	 					[key]:[min]/[max]
	  				keys:
	   				h
						> horizontal distance (h for horizontal)
	  				v
	   					> vertical distance (v for vertical)
		 			d
	  					> distance of shortest line (d for distance)
					t 
	 					> h + v (t for total)
	   				e
						> the "effort function"
				*/
				if (pReq.length == 0) { return true; }
				const c1 = char.combat;
				const c1h = c1.horizontal;
				const c1v = c1.vertical;
				const c1t = c1h + c1v;
				const c2 = otherChar.combat;
				const c2h = c2.horizontal;
				const c2v = c2.vertical;
				const c2t = c2h + c2v;
				let AND = pReq.split(' ');
				let fitAND = true;
				for (let i in AND) {
					let OR = AND[i].split('|');
					let fitOR = false;
					for (let ii in OR) {
						const key = OR[ii].split(':')[0];
						const content = OR[ii].split(':')[1];
						const min = (content.includes('/')?parseFloat(content.split('/')[0]):0);
						const max = (content.includes('/')?parseFloat(content.split('/')[1]):parseFloat(content.split('/')[0]));
						
						if (key=='h' && (Math.abs(c1h - c2h) > min && Math.abs(c1h - c2h) < max)) { fitOR = true; break; }
						if (key=='v' && (Math.abs(c1v - c2v) > min && Math.abs(c1v - c2v) < max)) { fitOR = true; break; }
						if (key=='d' && ((c1h-c2h)*(c1h-c2h) + (c1v-c2v)*(c1v-c2v) > min*min && (c1h-c2h)*(c1h-c2h) + (c1v-c2v)*(c1v-c2v) < max*max)) { fitOR = true; break; }
						if (key=='t' && (Math.abs((c1h + c1v) - (c2h + c2v)) > min && Math.abs((c1h + c1v) - (c2h + c2v)) < max)) { fitOR = true; break; }
						if (key=='e' && c1.dist(otherChar) > min && c1.dist(otherChar) < max) { fitOR = true; break; }
					}
					if (!fitOR) { fitAND = false; break; }
				}
				return fitAND;
			}
			G.intercepts = [];
			G.intercept = function(obj) {
				obj = obj||{};

				this.chance = obj.chance||G.interceptDefault.chance;
				if (obj.req) { this.req = [].concat(obj.req); } else { this.req = G.interceptDefault.req; };
				if (obj.cReq) { this.cReq = [].concat(obj.cReq); } else { this.cReq = G.interceptDefault.cReq; }; //reqs for other move/people to try to intercept this move
				this.text = obj.text||G.interceptDefault.text; //text when intercepting OTHER moves
				this.successFunc = obj.successFunc||G.interceptDefault.successFunc; //called when successfully intercepting
				this.failText = obj.failText||G.interceptDefault.failText; //text when failing to intercept OTHER moves
				this.fail = obj.fail||G.interceptDefault.fail; //function returning whether the intercept fails
				this.failFunc = obj.failFunc||G.interceptDefault.failFunc; //called when failing to intercept
			} 
			G.interceptDefault = {
				chance: 1,
				req: [],
				cReq: [],
				text: '',
				successFunc: function() { },
				failText: '',
				fail: function() { return false; },
				failFunc: function() { }
			};
			G.parseEle = function(str, otherMove) {
				let arr = str.split(':');
				if (!otherMove) { return true; }
				if (arr[arr.length-1] && parseFloat(arr[arr.length-1])<Math.random()) {
					return false;
				}
				if (arr[0] == 'm') {
					if (otherMove.id == arr[1]) { return true; } else { return false; }
				}
				if (!otherMove.element[arr[0]]) { throw 'element property not found! Property: '+arr[0]; }
				if (othermove.element[arr[0]] <= parseFloat(arr[1]) && othermove.element[arr[0]] >= parseFloat(arr[2])) { return true; } else { return false; }
			}
			G.moveHistItem = function(move, performers, opponents) {
				this.move = move;
				this.performers = [].concat(performers);
				this.opponents = [].concat(opponents);
			}
			G.ongoingCombats = [];
			G.combatOverseer = function() {
				this.participants = [];
				this.processed = false;
				this.outStr = '';
				this.lastMove = null;
				
				G.ongoingCombats.push(this);
			}
			G.combatOverseer.prototype.addParticipant = function(participant) {
				this.participants.push(participant);
			}
			G.combatOverseer.prototype.removeParticipant = function(participant) {
				if (this.participants.indexOf(participant) != -1) { this.participants.splice(this.participants.indexOf(participant), 1); }
				if (this.participants.length <= 1) {
					if (this.participants[0]) { this.participants[0].fleeCombat(); }
					if (G.ongoingCombats.indexOf(this) != -1) { G.ongoingCombats.splice(G.ongoingCombats.indexOf(this), 1); }
				}
			}
			G.combatOverseer.prototype.addBox = function(str, chars) {
				chars = [].concat(chars);
				var pics = '';
				for (let i in chars) {
					pics+=`<img src="${chars[i].pic}" class="pic" title="${chars[i].name}"/>`;
					if (chars[i].has('dead')) pics+=`<div class="picSkull"></div>`;
				}
				this.outStr += '<div class="box action green"><div>'+pics+'</div><div>'+G.parse(str, chars)+'</div></div>';
			}
			G.combatOverseer.prototype.end = function() {
				G.ongoingCombats.splice(G.ongoingCombats.indexOf(this), 1);
			}
			G.combatTracker = function(overseer, carrier) { //added to chars
				this.overseer = overseer;
				this.carrier = carrier;
				overseer.addParticipant(carrier);
				this.horizontal = 0; //intentionally vague in order to produce funny; can be negative
				this.vertical = 0; //same as above but less so since its only one dimension; can be negative (not recommended)
			}
			G.combatTracker.prototype.moveInFrontOf = function(target, dist) {
				let h = target.combat.horizontal;
				if (this.horizontal < h) { this.horizontal = h - dist; } else { this.horizontal = h + dist; }
			}
			G.combatTracker.prototype.moveToward = function(target, dist) {
				let h = target.combat.horizontal;
				if (this.horizontal < h) { this.horizontal += dist; } else { this.horizontal -= dist; }
			}
			G.combatTracker.prototype.dist = function(target) {
				//describes a function amount of effort requires for this character to reach another character
				let verticalOffset = target.combat.vertical - this.vertical;
				let add = 0;
				let mult = 1;
				if (verticalOffset >= 0) {
					add = Math.pow(target.combat.vertical, 3) * 5;
				} else {
					mult = 1 / (-verticalOffset * 0.6 + 1);
				}
				return (Math.abs(target.combat.horizontal - this.horizontal) + add) * mult;
			} //vertical is here too, but each vertical distance above adds and each vertical distance below removes
			G.char.prototype.makeMove = function() {
				//iterate through every move available and collects any that fit both reqs, then select one to perform
				//when performing, it first checks for available intercepting moves, then if not successfully intercepted it sees if it succeeds, then if succeeds it calls the func
				//returns text for display (in one box)
				var str = '';
				if (!this.combat) { return; }
				var overseer = this.combat.overseer;
				var otherChars = overseer.participants;
				var boxCharList = [];
				for (let i in overseer.participants) {
					if (overseer.participants[i] == this) { continue; }
					boxCharList.push(overseer.participants[i]);
				}
				var availableMoves = [];
				for (let i in G.moves) {
					const m = G.moves[i];
					if (m.element.interactMin > boxCharList.length) { continue; }
					if (!G.checkReq(this, m.req)) { continue; }
					var list = deepArrCopy(boxCharList);
					var targets = [];
					for (let i = 0; i < m.element.interact; i++) {
						if (list.length == 0) { break; }
						let chosen = choose(list);
						targets.push(chosen);
						list.splice(list.indexOf(chosen), 1);
					}
					
					targets = [this].concat(targets);
					if (!G.checkCReq(this, m.cReq, overseer.lastMove, targets)) { continue; }
					for (let ii = 0; ii < randomFloor(m.chance); ii++) {
						availableMoves.push([m, targets]);
					}
				}
				if (availableMoves.length == 0) { overseer.addBox('[1] no longer knows what to do!', [this]); return this.has('fleed'); }
				
				var m = choose(availableMoves);
				boxCharList = m[1];
				m = m[0];
				m.func.call(this, boxCharList);

				for (let i in otherChars) {
					if (otherChars[i] == this) { continue; }
					const success = otherChars[i].makeIntercept();
					if (typeof success === 'string') { str += success; }
				}

				overseer.lastMove = m;
				if (typeof m.fail != 'undefined') { 
					if ((typeof m.fail == 'number' && m.fail < Math.random()) || (typeof m.fail == 'function' && m.fail())) { 
						m.failFunc.call(this, boxCharList); 
						overseer.addBox(m.failText + (str?('<br>'+str):''), boxCharList); 
						return this.has('fleed'); 
					} else { 
						m.successFunc.call(this, boxCharList); 
						overseer.addBox(m.text + (str?('<br>'+str):''), boxCharList); 
						return this.has('fleed'); 
					}
				} else {
					m.successFunc.call(this, boxCharList); 
					overseer.addBox(m.text + (str?('<br>'+str):''), boxCharList); 
					return this.has('fleed'); 
				}
			}
			G.char.prototype.makeIntercept = function() {
				//returns string to add, or null if chooses to not intercept at all
				var availableIntercepts = [];
				for (let i in G.intercepts) {
					const int = G.intercepts[i];
					if (!G.checkReq(this, int.req)) { continue; }
					if (!G.checkCReq(this, int.cReq)) { continue; }
					for (let ii = 0; ii < randomFloor(int.chance); ii++) {
						availableIntercepts.push(int);
					}
				}
				if (availableIntercepts.length == 0) { return null; }
				var int = choose(availableIntercepts);

				if (int.fail && int.fail()) { int.failFunc(); return int.failText; } else { int.successFunc(); return int.text; }
			}

			new G.move({
				text: '[1] does something ????????',
				chance: 0.001,
				element: new G.element({ interactMin: 0, interact: 0 })
			});
			new G.move({
				text: '[1] manages to flee from the fight!',
				failText: '[1] tries to flee from the fight, but is caught by [2] before [1:they] can make it!',
				fail: function(charList) {
					if (charList[1].combat.dist() < Math.random() * 4 + 4) { return 0.1; }
					if (charList[1].combat.dist() < Math.random() * 6 + 8) { return 0.5; }
					return 0.85;
				},
				successFunc: function() { this.fleeCombat(); }
			});
			new G.move({
				text: '[1] stands still, vigilant and awaiting [2]\'s next move...'
			});
			new G.move({
				text: '[1] carefully approaches [2]...',
				func: function(charList) {
					this.combat.moveToward(charList[1], 2);
				}
			});
			new G.move({
				text: '[1] punches [2], right in the face!',
				failText: '[1] tries to punch [2], but [missed|the punch was just a bit off]!',
				fail: 0.4,
				func: function(charList) {
					this.combat.moveInFrontOf(charList[1], 2);
				}
			});
			new G.move({
				text: '[1] swings [1:their] big stick right down [2]\'s skull.',
				failText: '[1] slams down [1:their] big stick at [2], but only managed to kick off dirt in all directions.',
				element: new G.element({
					y: 2,
					reach: 1, 
					range: 1,
					delay: 1.5,
					size: 2
				}),
				fail: 0.7,
				req: ['big_stick'],
				func: function(charList) {
					this.combat.moveInFrontOf(charList[1], Math.floor(Math.random() * 3 + 1));
				}
			});
			new G.move({
				text: ''
			});
			
			G.char.prototype.initiateCombat = function() {
				var charList = [];
				for (let i in G.teams) {
					if (G.teams[i] == this.team) { continue; }
					charList = charList.concat(G.teams[i].chars);
				}
				for (let i in charList) {
					if (charList[i].combat || charList[i].isDisabled() || charList[i].isOut()) { charList.splice(i, 1); i--; }
				}
				var opponent = null;
				if (charList.length > 0) { opponent = choose(charList); } else { return false; } 

				var overseer = new G.combatOverseer();
				this.combat = new G.combatTracker(overseer, this);
				opponent.combat = new G.combatTracker(overseer, opponent);
				console.log(opponent.name);
			}
			G.char.prototype.joinCombat = function(overseer) {
				if (this.combat) { return false; }
				this.combat = new G.combatTracker(overseer, me);
			}
			G.char.prototype.fleeCombat = function() {
				if (!this.combat) { return false; }
				this.combat.overseer.removeParticipant(this);
				this.combat = null;
			}
			
			G.parse=function(text,actors)
			{
				/*
					syntax :
					'[1] looks at [2]'
						> names of people or teams
					'[1] looks at [1:g|himself|herself|themself]'
						> outputs one of the 3 options depending on gender
						> shortcuts : [1:they], [1:them], [1:their], [1:themself]
					'[1] [wanders|walks|skips] around'
						> outputs one of several options, at random
						> note that this can be nested, ie. '[1] [eats [cake|ice cream]|looks at [2]]'
				*/
				var input=text.split('');
				var out='';
				var tag='';
				var intag=0;
				
				for (var i in input)
				{
					if (input[i]=='[' && intag==0) {intag++;tag='';}
					else if (input[i]=='[' && intag>0) {intag++;tag+='[';}
					else if (input[i]==']' && intag>1) {intag--;tag+=']';}
					else if (input[i]==']' && intag==1)
					{
						if (tag=='RED'){out+='[RED]'}
						else if (tag=='BLUE'){out+='[BLUE]'}
						else if (tag.length>0)
						{
							var bits=tag.split('|');
							//if (!isNaN(bits[0]) && (tag.indexOf('|')==-1 || tag.indexOf(':')!=-1) && actors[parseInt(bits[0])-1])
							if (tag.indexOf('|')==-1 || tag.indexOf(':')!=-1)
							{
								var prop=0;
								if (bits[0].indexOf(':')!=-1){prop=bits[0].split(':')[1];bits[0]=bits[0].split(':')[0];}
								
								if (!isNaN(bits[0]) && actors[parseInt(bits[0])-1])
								{
									var actor=actors[parseInt(bits[0])-1];
									if (prop=='g')
									{
										out+=G.parse([bits[1],bits[2],bits[3]][actor.gender].replaceAll('{PIPE}','|').replaceAll('{COLON}',':'),actors);
									}
									else if (prop=='they') {out+=['he','she','they'][actor.gender];}
									else if (prop=='them') {out+=['him','her','them'][actor.gender];}
									else if (prop=='their') {out+=['his','her','their'][actor.gender];}
									else if (prop=='themself' || prop=='themselves') {out+=['himself','herself','themself'][actor.gender];}
									else out+='<e>'+actor.name+'</e>';
								}
								else out+='<e>[invalid actor : '+bits[0]+']</e>';
							}
							else if (tag.indexOf('|')!=-1)
							{
								out+=G.parse(c(bits).replaceAll('{PIPE}','|').replaceAll('{COLON}',':'),actors);
							}
							else out+='['+tag+']';
						}
						else out+='['+tag+']';
						intag=0;
						tag='';
					}
					else if (intag)
					{
						if (intag>1 && input[i]=='|') tag+='{PIPE}';
						else if (intag>1 && input[i]==':') tag+='{COLON}';
						else tag+=input[i];
					}
					else
					{
						var toAdd=input[i];
						out+=toAdd;
					}
				}
				return out;
			}
			
			//round
			G.round=0;
			G.nextRound=function()
			{
				var actions=[];
				G.deadThisRound=[];
				
				var str='';
				
				for (let i in G.teams){G.teams[i].acted=false;}
				for (let i in G.chars){G.chars[i].acted=false;}
				for (let i = 0; i < randomFloor(Math.log2(G.chars.length + 1)); i++) {
					if (Math.random() < 0.2) {
						//chooses someone able to initiate combat with someone else
						var pool = [];
						for (let i in G.chars) {
							if (G.chars[i].isDisabled() || G.chars[i].isOut() || G.chars[i].combat) { continue; }
							pool.push(G.chars[i]);
						}
						if (pool.length > 0) { choose(pool).initiateCombat(); }
					}
				}
				for (let i in G.ongoingCombats) { G.ongoingCombats[i].processed = false; G.ongoingCombats[i].outStr = ''; }
				
				var everybody=shuffle(G.teams).concat(shuffle(G.chars));
				for (var iAct=0;iAct<everybody.length;iAct++)
				{
					var me=everybody[iAct];
					
					if (!me.combat && (me.tier==0 || (Math.random()<1/5))) {
						var acts=[];
						for (var i in actsList)
						{
							var act=actsList[i];
							var loops=0;
							//chances over 1 add the act multiple times to the choice list
							if (act.chance>1) loops=Math.min(20,Math.floor(act.chance)+(Math.random()<(act.chance-Math.floor(act.chance))?1:0));
							else if (act.chance==FORCE || Math.random()<act.chance) loops=1;
							for (var ii=0;ii<loops;ii++)
							{
								acts.push(act);
							}
						}
						var choice=0;
						var actors=[];
						for (var i in acts)
						{
							var act=acts[i];
							actors=act.fit(me);//returns a random selection of people who match the act; the first person must be "me"
							//if does not match, returns false
							//I think this code is broken
							if (actors)
							{
								choice=act;
								break;
							}
						}
						if (choice)
						{
							if (choice.chance!=FORCE) {actsList.splice(actsList.indexOf(choice),1);actsList.push(choice);}//put it back at the end
							//for (var i in actors){actors[i].acted=true;}
							if (actors.length>=1) actors[0].acted=true;
							var text=choice.text;
							var overrideText=0;
							choice.uses++;
							if (choice.func) overrideText=choice.func(([0]).concat(actors));
							var text=G.parse(overrideText||text,actors);
							var classes=[];
							if (text.indexOf('[RED]')!=-1) classes.push('red');
								text=text.replaceAll('[RED]','');
							if (text.indexOf('[BLUE]')!=-1) classes.push('blue');
								text=text.replaceAll('[BLUE]','');
							if (text.indexOf('[GREEN]')!=-1) classes.push('green');
								text=text.replaceAll('[GREEN]','');
							var action={chars:actors,text:text,classes:classes.join(' ')};
							actions.push(action);
							
							var pics='';
							var chars=[];
							for (var ii in action.chars)
							{
								if (action.chars[ii].type=='team')
								{
									for (var iii in action.chars[ii].chars)
									{
										if (chars.indexOf(action.chars[ii].chars[iii])==-1) chars.push(action.chars[ii].chars[iii]);
									}
								}
								else if (chars.indexOf(action.chars[ii])==-1) chars.push(action.chars[ii]);
							}
							for (var ii in chars)
							{
								pics+=`<img src="${chars[ii].pic}" class="pic" title="${chars[ii].name}"/>`;
								if (chars[ii].has('dead')) pics+=`<div class="picSkull"></div>`;
							}
							str+=`<div class="box action${action.classes?(' '+action.classes):''}"><div>${pics}</div><div>${action.text}</div></div>`;
						}
					} else if (me.combat) {
						//get html for combat sequence
						var overseer = me.combat.overseer;
						if (overseer.processed) { continue; }
						overseer.processed = true;
						var count = 0;
						while(true) {
							for (let i in overseer.participants) {
								if (overseer.participants[i].makeMove()) { overseer.participants[i].fleeCombat(); }
							}
							if (overseer.participants.length <= 1 || Math.random() > 1 / (count + 1)) { break; }
							count++;
						}
						str += overseer.outStr;
					}
					if (me.type == 'char' && me.has('act again') && !me.combat) { me.lose('act again'); i--; }
				}
				
				if (!str) str=`<div class="box action"><div></div><div>(Absolutely nothing happened.)</div></div>`;
				G.logPos=0;
				G.log(str);
				G.updateLogButtons();
				
				G.round++;
				
				/*if (true)
				{
					var str2='';
					for (var i in actsList)
					{
						str2+=actsList[i].text+'<br>';
					}
					str+=`<div style="position:absolute;left:0px;top:0px;">${str2}</div>`;
				}*/
				
				l('round').innerHTML=str;
				/*var nodes=l('round').getElementsByClassName('action');
					for (var i=nodes.length-1;i>=0;i--){animRemove(nodes[i]);}
				l('round').insertAdjacentHTML('afterbegin',str);*/
				if (!G.autoroundOn)
				{
					var nodes=l('round').getElementsByClassName('action');
					for (var i=nodes.length-1;i>=0;i--){animAdd(nodes[i]);}
				}
				var str='';
				var dead=0,alive=0,others=0;
				for (var i in G.chars)
				{
					var me=G.chars[i];
					if (me.has('dead')) dead++;
					else if (me.has('ghost') || me.has('zombie')) others++;
					else alive++;
				}
				str+=`Alive : ${alive} | Dead : ${dead}`;
				if (others>0) str+=` | Other : ${others}`;
				l('roundStats').innerHTML=str;
				l('roundN').innerHTML='Round '+G.round;
				if (alive==0)
				{
					if (G.chars.length==0) l('everyoneDeadDetails').innerHTML=`There's literally nobody here, dead or alive.`;
					else l('everyoneDeadDetails').innerHTML=`Everyone is dead.`;
					l('everyoneDead').style.display='block';
				}
				else l('everyoneDead').style.display='none';
				
				if (G.deadThisRound.length>0)
				{
					var str=`<header>Died this round :</header>`;
					str+=`<div style="font-size:12px;"><cap>`;
						var chars=G.deadThisRound;
						for (var i=0;i<chars.length;i++)
						{
							str+=`<div style="display:inline-block;padding:4px 16px;"><img src="${chars[i].pic}" class="pic intext" title="${chars[i].name}"/> <e style="color:#e2461f;">${chars[i].name}</e>`;
								if (chars[i].killer.length>0) str+=`, <span style="font-size:80%;">killed by <b>${chars[i].killer.map(killer=>killer.name).join(', ')}</b> (${chars[i].deathReason})</span>`;
								else str+=` <span style="font-size:80%;">(${chars[i].deathReason})</span>`;
							str+=`</div>`;
						}
					str+=`</cap></div>`;
					l('deadThisRound').innerHTML=str;
					l('deadThisRound').style.display='block';
				}
				else l('deadThisRound').style.display='none';
				
				var end=false;
				
				if (alive>0)
				{
					var teamsAlive=[];
					var soleSurvivor=0;
					for (var i in G.chars)
					{
						var me=G.chars[i];
						if (me.has('dead')) {}
						else if (me.has('ghost') || me.has('zombie')) {}
						else
						{
							soleSurvivor=me;
							if (me.team && teamsAlive.indexOf(me.team)==-1) teamsAlive.push(me.team);
						}
					}
					if (G.chars.length>1 && alive==1)
					{
						l('soleSurvivor').style.display='block';
						l('soleSurvivorDetails').innerHTML=`<div>Everyone is dead except <e>${soleSurvivor.name}</e>${soleSurvivor.team?(' from <e>'+soleSurvivor.team.name+'</e>'):''}, who stands as the sole survivor.</div>`;
						end=true;
					}
					else if (G.teams.length>1 && teamsAlive.length==1)
					{
						l('soleSurvivor').style.display='block';
						l('soleSurvivorDetails').innerHTML=`<div><e>${teamsAlive[0].name}</e> emerges as the victorious team. Everyone else is dead.</div>`;
						end=true;
					}
					else l('soleSurvivor').style.display='none';
				}
				else
				{
					end=true;
					l('soleSurvivor').style.display='none';
				}
				
				if (end)
				{
					var str=`<header>Tally</header>`;
					str+=`<div style="font-size:12px;"><cap>`;
					//display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:stretch;align-items:stretch;
						var chars=G.chars.slice(0);
						chars=chars.sort((a,b)=>b.kills.length-a.kills.length);
						for (var i=0;i<chars.length;i++)
						{
							str+=`<div style="display:inline-block;padding:4px 16px;${i==0?'font-size:150%;':i<(Math.min(chars.length/2,3))?'font-size:125%;':''}"><img src="${chars[i].pic}" class="pic intext" title="${chars[i].name}"/> <b>#${i+1}</b> : <e>${chars[i].name}</e>${chars[i].has('dead')?'<span style="color:#e2461f;">&dagger;</span>':''}, <span style="font-size:80%;">with <b>${chars[i].kills.length==0?'no kills':chars[i].kills.length==1?'<span style="color:#e2461f;">1 kill</span>':('<span style="color:#e2461f;">'+chars[i].kills.length+' kills</span>')}</b></span></div>`;
						}
					str+=`</cap></div>`;
					l('tally').innerHTML=str;
					l('tally').style.display='block';
				}
				else l('tally').style.display='none';
			}
			
			l('main').innerHTML=`
				<div class="box red" id="summary">
					<div>A horrible struggle for survival is taking place.</div>
				</div>
				<div style="text-align:left;overflow:hidden;"><div class="button" id="backToCreator">&lt; Go back to team setup</div><div class="button" id="exportSetup">Export initial setup...</div><span style="float:right;"><div class="button" id="viewDetails">Details...</div><div class="button" id="nextRound2">Next round &gt;</div></span></div>
				<header id="roundN"></header>
				<div style="height:23px;margin-top:-30px;margin-bottom:11px;clear:both;overflow:hidden;">
					<div class="button" id="logBackFull" style="float:left;">&lt; &lt;</div>
					<div class="button" id="logBack" style="float:left;">&lt; View previous round</div>
					<div class="button" id="logForwardFull" style="float:right;">&gt; &gt;</div>
					<div class="button" id="logForward" style="float:right;">View next round &gt;</div>
				</div>
				<div id="round"></div>
				<div class="box" id="deadThisRound" style="display:none;text-align:center;background:rgba(0,0,0,0.5);"></div>
				<div class="box red" id="everyoneDead" style="display:none;">
					<div id="everyoneDeadDetails"></div>
					<div>You may want to <div class="button" id="backToCreator2">Go back to team setup</div>.</div>
				</div>
				<div class="box blue" id="soleSurvivor" style="display:none;">
					<div id="soleSurvivorDetails"></div>
					<div>You may want to <div class="button" id="backToCreator3">Go back to team setup</div>, or keep going until no one is left alive.</div>
				</div>
				<div class="box" id="tally" style="display:none;text-align:center;background:rgba(0,0,0,0.5);"></div>
				<header>
					<div style="font-size:10px;" id="roundStats"></div>
					<div class="button bigButton" id="nextRound">Next round</div>
				</header>
			`;
			
			addEvent(l('nextRound'),'click',function(){G.nextRound();});
			addEvent(l('nextRound2'),'click',function(){G.nextRound();});
			addEvent(l('viewDetails'),'click',function(){G.viewDetails();});
			addEvent(l('backToCreator'),'click',function(){G.creator();});
			addEvent(l('backToCreator2'),'click',function(){G.creator();});
			addEvent(l('backToCreator3'),'click',function(){G.creator();});
			addEvent(l('exportSetup'),'click',function(){G.exportSetup(G.setupData);});
			
			addEvent(l('logBack'),'click',function(){G.logBack();});
			addEvent(l('logBackFull'),'click',function(){G.logBack(true);});
			addEvent(l('logForward'),'click',function(){G.logForward();});
			addEvent(l('logForwardFull'),'click',function(){G.logForward(true);});
			
			G.roundLog=[];
			G.logPos=0;//how many rounds back we are
			G.updateLogButtons=function()
			{
				if (!G.roundLog[G.logPos+1]) {l('logBack').style.display='none';l('logBackFull').style.display='none';} else {l('logBack').style.display='inline-block';l('logBackFull').style.display='inline-block';}
				if (!G.roundLog[G.logPos-1]) {l('logForward').style.display='none';l('logForwardFull').style.display='none';} else {l('logForward').style.display='inline-block';l('logForwardFull').style.display='inline-block';}
			}
			G.log=function(str)
			{
				G.roundLog.unshift(str);
				if (G.roundLog.length>=52) G.roundLog.pop();
			}
			G.logBack=function(full)
			{
				var str=G.roundLog[G.logPos+1]||0;
				if (full) str=G.roundLog[G.roundLog.length-1]||0;
				if (!str) return false;
				G.logPos++;
				if (full) G.logPos=G.roundLog.length-1;
				l('round').innerHTML=str;
				l('roundN').innerHTML='Round '+(G.round-G.logPos)+' ('+(G.logPos>0?('archive level -'+G.logPos):'current')+')';
				G.updateLogButtons();
			}
			G.logForward=function(full)
			{
				var str=G.roundLog[G.logPos-1]||0;
				if (full) str=G.roundLog[0]||0;
				if (!str) return false;
				G.logPos--;
				if (full) G.logPos=0;
				l('round').innerHTML=str;
				l('roundN').innerHTML='Round '+(G.round-G.logPos)+' ('+(G.logPos>0?('archive level -'+G.logPos):'current')+')';
				G.updateLogButtons();
			}
			
			G.nextRound();
		}
		
		G.autoroundOn=false;
		G.autoroundT=100;
		G.autoround=function(t)
		{
			if (t) G.autoroundT=Math.max(t*1000,10); else G.autoroundT=100;
			if (!G.started) G.start();
			G.autoroundOn=!G.autoroundOn;G.autoroundLoop();
		}
		G.autoroundLoop=function()
		{
			if (G.autoroundOn)
			{
				G.nextRound();
				setTimeout(G.autoroundLoop,G.autoroundT);
			}
		}
		
		G.creator();
	},
};

if (!G.launched) G.init();
</script>
